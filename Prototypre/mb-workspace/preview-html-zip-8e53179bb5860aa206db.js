!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MB_NEXT_EXAMPLE=t():e.MB_NEXT_EXAMPLE=t()}(window,(function(){return function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0
for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r])
for(u&&u(t);p.length;)p.shift()()
return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s]
0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={4:0},a=[]
function o(t){if(r[t])return r[t].exports
var n=r[t]={i:t,l:!1,exports:{}}
return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e
if(4&t&&"object"==typeof e&&e&&e.__esModule)return e
var n=Object.create(null)
if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r))
return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e}
return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/mb-workspace/"
var s=window.webpackJsonpMB_NEXT_EXAMPLE=window.webpackJsonpMB_NEXT_EXAMPLE||[],c=s.push.bind(s)
s.push=t,s=s.slice()
for(var l=0;l<s.length;l++)t(s[l])
var u=c
return a.push([1066,0]),n()}([,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"y",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"K",(function(){return p})),n.d(t,"E",(function(){return h})),n.d(t,"D",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"P",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"q",(function(){return C})),
n.d(t,"M",(function(){return _})),n.d(t,"v",(function(){return O})),n.d(t,"l",(function(){return k})),n.d(t,"b",(function(){return M})),n.d(t,"x",(function(){return E})),n.d(t,"n",(function(){return T})),n.d(t,"u",(function(){return A})),n.d(t,"k",(function(){return D})),n.d(t,"j",(function(){return N})),n.d(t,"w",(function(){return I})),n.d(t,"N",(function(){return P})),n.d(t,"p",(function(){return L})),n.d(t,"z",(function(){return F})),n.d(t,"C",(function(){return B})),n.d(t,"m",(function(){return R})),
n.d(t,"t",(function(){return U})),n.d(t,"J",(function(){return z})),n.d(t,"I",(function(){return H})),n.d(t,"o",(function(){return G})),n.d(t,"s",(function(){return V})),n.d(t,"L",(function(){return W})),n.d(t,"H",(function(){return Y})),n.d(t,"F",(function(){return q})),n.d(t,"G",(function(){return Z})),n.d(t,"O",(function(){return X})),n.d(t,"B",(function(){return J})),n.d(t,"a",(function(){return K}))
var r=n(20),i=n(52),a=n(29),o=n(91),s=n(28),c=n(100),l=function(e){return e.container.common.preference.show_toolbar_text},u=function(e){return e.container.common.preference.layout},d=function(e){return e.container.common.scale},p=function(e){return e.container.common.screenCommentThreadCountMap},h=function(e){return e.container.previewSetting},f=function(e){return e.container.common.previewOptions},m=function(e){return e.container.common.designOptions},g=function(e){
return e.container.common.experienceSnapshotUrlMap},v=function(e){return e.model.screens},b=function(e){return e.container.current.rootProject},y=function(e){return e.container.current.projectMeta},x=function(e){return e.container.current.screenGlue},w=function(e){return e.container.current.projectShare},j=function(e){return"project-main"===e.container.current.screenGlue.type},S=function(e){return e.container.current.screenMeta},C=function(e){return e.container.current.isPanelPreviewMode},_=function(e){
return e.container.previewSetting.simulatorType},O=function(e){return e.container.previewSetting.isShowShell},k=function(e){return e.container.previewSetting.isDummyApk},M=function(e){return e.container.previewSetting.toolbarActiveItem},E=function(e){return e.container.previewSetting.isStickyShow},T=function(e){return e.container.previewSetting.isHighlight},A=function(e){return e.container.previewSetting.isShowOfflineModal},D=function(e){return e.container.previewSetting.isAppOffline},N=function(e){
return e.container.previewSetting.isAppCacheNeedUpToDate},I=function(e){return e.container.previewSetting.isStatePanelShow},P=function(e){return e.container.common.preference.theme},L=function(e){return e.container.previewSetting.isMinimized},F=function(e){return e.container.common.previewOptions.isVersionEmbedded},B=Object(r.createSelector)([M],(function(e){return{isPreview:"preview"===e,isInspect:"inspect"===e,isComment:"comment"===e}})),R=function(e){return e.container.previewSetting.isFullScreenMode
},U=function(e){return e.container.previewSetting.isShowColorPicker},z=function(e){return e.container.runner},H=function(e){return e.container.runner.activeCid},G=Object(r.createSelector)([M],(function(e){return e===i.b||e===i.a})),V=Object(r.createSelector)([M,_],(function(e,t){return[i.b,i.a].includes(e)||"device"!==t})),W=Object(r.createSelector)([v],(function(e){var t={}
return e.forEach((function(e){return t[e.cid]=e})),t})),Y=Object(r.createSelector)([v,y,x],(function(e,t,n){var r=e.filter((function(e){return e.screen_glue_cid===n.cid}))
return Object(o.a)(r).screenTreeData})),q=Object(r.createSelector)([Y],(function(e){return Object(a.h)(e)})),Z=Object(r.createSelector)([Y],(function(e){return Object(a.h)(e).filter((function(e){return!Object(a.a)(e)}))})),X=function(e){return e.container.common.viewport},J=function(e){return e.container.common.offset},K=Object(r.createSelector)([z,X,function(e){return e.container.common.scale}],(function(e,t,n){var r=e.activeCid,i=e.screenInfoMap[r]
if(!i)return{x:0,y:0}
var a=i.screenMeta,o=i.stateCid,l=i.screenRuntimeState.itemListMap[o],u=a.width,d=a.height,p=Object(c.b)(location.pathname)?Object(s.n)(r,o,l):Object(s.c)(l),h=p.minX,f=p.minY,m=p.maxX,g=p.maxY
h=Math.min(h*n/100,3*-t.width/2),m=Math.max(m*n/100,3*t.width/2),f=Math.min(f*n/100,3*-t.height/2),g=Math.max(g*n/100,3*t.height/2)
var v=Math.max(-h,m,u),b=Math.max(-f,g,d),y=100*t.height/d,x=100*t.width/u
return n>x&&(v+=5*(n-x)),n>y&&(b+=10*(n-y)),Q(2*v,2*b)})),Q=Object(s.i)((function(e,t){return{x:e,y:t}}))},,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMemoize=s,t.createSelectorCreator=l,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u
if("object"!==(0,i.default)(e))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+(0,i.default)(e))
var n=Object.keys(e)
return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))},t.createSelector=void 0
var i=r(n(23))
function a(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1
for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1
return!0}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=null,r=null
return function(){return o(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}function c(e){var t=Array.isArray(e[0])?e[0]:e
if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return(0,i.default)(e)})).join(", ")
throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i]
var a=0,o=r.pop(),s=c(r),l=e.apply(void 0,[function(){return a++,o.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments))
return l.apply(null,e)}))
return u.resultFunc=o,u.dependencies=s,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}var u=l(s)
t.createSelector=u},,,,,,,,function(e,t,n){"use strict"
n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return w})),n.d(t,"k",(function(){return j})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"n",(function(){return O})),n.d(t,"c",(function(){return _}))
var r=n(24),i=n.n(r),a=n(27)
function o(e,t){if(!e||e.length!==t.length)return!1
for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1
return!0}function s(e){var t,n
return function(){return o(n,arguments)||(t=e.apply(null,arguments),n=arguments),t}}var c,l=["https://qiniu.modao.cc","https://qiniu-us.modao.cc","https://qiniu-test.modao.cc"],u={"&amp;":"&","&lt;":"<","&gt;":">"},d=/(&amp;|&lt;|&gt;)/g,p=function(e){return u[e]||e},h=function(e){return e&&e.replace(d,p)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return Number(parseFloat((1/t*e).toFixed(2)))+n},m=function(e){var t=e.image,n=e.adjust
t.naturalWidth>=t.naturalHeight?t.style.maxWidth=n+"px":t.style.maxHeight=n+"px"},g=/\s|<|>|《|》|:|：|？|\?|\\|\/|"|”|\||\./g,v=function(e){var t,n=e.url,r=e.name,i=e.type,a=document.createElement("a"),o=(t=r)&&t.replace(g,"_")||"未命名"
if(function(e){return l.some((function(t){return e.startsWith(t)}))}(n)){var s="".concat(encodeURIComponent(o))
a.href="".concat(n,"?attname=").concat(s,".").concat(i)}else{var c=o
a.setAttribute("download",c),a.href="".concat(n)}a.click()},b=function(e){return Number(e.toFixed(2))},y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},x=function(){return console.error("下载失败")},w=function(){try{var e=Object(a.b)("user_pick_color")
return JSON.parse(e||"[]")}catch(e){return[]}},j=function(e){var t=w()
return t.includes(e)?{history:t,focusColor:e}:(t.unshift(e),t.length>40&&t.pop(),Object(a.e)("user_pick_color",JSON.stringify(t)),{history:t,focusColor:null})},S=function(e){var t=w(),n=t.indexOf(e)
return t.splice(n,1),Object(a.e)("user_pick_color",JSON.stringify(t)),t},C=function(){var e
try{e=(window.parent===window||/^\/app\/(design|preview)/.test(window.parent.location.pathname))&&(MB.isDashboard||!MB.f.inSharing&&"file:"!==window.location.protocol)}catch(t){console.warn(t),e=!1}return e},_=function(e){var t,n=1/0,r=1/0,a=-1/0,o=-1/0,s=i()(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value
isFinite(c.top)&&isFinite(c.left)&&isFinite(c.width)&&isFinite(c.height)&&(n=Math.min(n,c.left),a=Math.max(a,c.left+c.width),r=Math.min(r,c.top),o=Math.max(o,c.top+c.height))}}catch(e){s.e(e)}finally{s.f()}return{minX:n,minY:r,maxX:a,maxY:o}},O=(c=new Map,function(e,t,n){var r="".concat(e,"-").concat(t)
if(c.get(r))return c.get(r)
var i=_(n)
return c.set(r,i),i})},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}))
var r=n(11),i=n.n(r),a=Object(r.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),o=Object(r.css)(["position:relative;pointer-events:none;&::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}"]),s=Object(r.css)(["position:relative;height:32px;padding-left:14px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span{margin-right:14px;}.actions{display:none;position:absolute;top:0;right:0;height:100%;padding-left:6px;background:",";.Dropdown > button{display:flex;padding:8px 10px;padding-left:0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;color:",";}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],(function(e){
return e.theme.common.text_2.cr}),(function(e){return e.theme.listItem.expander_color}),(function(e){return e.theme.action_bg}),(function(e){return e.theme.listItem.action_color}),(function(e){return e.theme.listItem.action_hover_color}),(function(e){return e.theme.common.text_2.active}),(function(e){return e.theme.listItem.hover.action}),(function(e){return e.theme.common.text_2.hover}),(function(e){return e.theme.listItem.hover.bg}),(function(e){return e.theme.common.text_2.active}),(function(e){
return e.theme.common.bg.item_active_bg})),c=i.a.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1auzxd5-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],(function(e){return e.theme.tooltip.tips_right
})),l=Object(r.css)(["width:22px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}"],(function(e){return e.theme.common.text_18.cr}),(function(e){return e.theme.icon_button.fore_color}),(function(e){return e.theme.icon_button.hover.fore_color}),(function(e){return e.theme.icon_button.hover.fore_color}))},,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0
}),t.LEGACY_LEAVE_TEAMS=t.LEGACY_JOIN_TEAMS=t.LEGACY_LEAVE_ORGS=t.LEGACY_JOIN_ORGS=t.V3_BROADCAST_COMMENT_THREAD_DATA=t.V3_BROADCAST_COMMENT_DATA=t.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE=t.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE=t.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE=t.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE=t.V3_ACTION_PROJECT_VERSION_RESET=t.V3_LEAVE_PROJECT_META_LIST=t.V3_JOIN_PROJECT_META_LIST=t.V3_BROADCAST_PROJECT_META_DATA=t.V3_ACTION_PROJECT_UPPER_DELETE=t.V3_ACTION_PROJECT_UPPER_UPDATE=t.V3_LEAVE_TEAM_LIST=t.V3_JOIN_TEAM_LIST=t.V3_BROADCAST_TEAM_DATA=t.V3_LEAVE_ORG_LIBRARY_LIST=t.V3_JOIN_ORG_LIBRARY_LIST=t.V3_BROADCAST_ORG_LIBRARY_DATA=t.V3_ACTION_ORG_COMBO_DELETE=t.V3_ACTION_ORG_COMBO_GROUP_DELETE=t.V3_ACTION_ORG_COMBO_GROUP_UPDATE=t.V3_ACTION_ORG_ASSET_GROUP_DELETE=t.V3_ACTION_ORG_ASSET_GROUP_UPDATE=t.V3_ACTION_ORG_ASSET_DELETE=t.V3_ACTION_ORG_ASSET_UPDATE=t.V3_ACTION_LIBRARY_ACCESS_UPDATE=t.V3_ACTION_ORDER_PAID=t.V3_ACTION_USER_NOTIFICATION=t.V3_ACTION_ORG_UPDATE=t.V3_ACTION_TEAM_DELETE=t.V3_ACTION_TEAM_UPDATE=t.V3_ACTION_USER_PROFILE_DELETE=t.V3_ACTION_USER_PROFILE_UPDATE=t.V3_LEAVE_ORG_LIST=t.V3_JOIN_ORG_LIST=t.V3_BROADCAST_ORG_DATA=t.V3_BROADCAST_USER_DATA=t.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW=t.SOCKET_EVENT_NAME_LOCK_TAG=void 0
t.SOCKET_EVENT_NAME_LOCK_TAG="socket:event-name:lock-tag:20201217"
t.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW="v3:broadcast:all:upgrade-notice:new"
t.V3_BROADCAST_USER_DATA="broadcast:user:data"
t.V3_BROADCAST_ORG_DATA="broadcast:org:data"
t.V3_JOIN_ORG_LIST="v3:join:org-list"
t.V3_LEAVE_ORG_LIST="v3:leave:org-list"
t.V3_ACTION_USER_PROFILE_UPDATE="user-profile:update"
t.V3_ACTION_USER_PROFILE_DELETE="user-profile:delete"
t.V3_ACTION_TEAM_UPDATE="team:update"
t.V3_ACTION_TEAM_DELETE="team:delete"
t.V3_ACTION_ORG_UPDATE="org:update"
t.V3_ACTION_USER_NOTIFICATION="user:notification"
t.V3_ACTION_ORDER_PAID="order:paid"
t.V3_ACTION_LIBRARY_ACCESS_UPDATE="library-access:update"
t.V3_ACTION_ORG_ASSET_UPDATE="org-asset:update"
t.V3_ACTION_ORG_ASSET_DELETE="org-asset:delete"
t.V3_ACTION_ORG_ASSET_GROUP_UPDATE="org-asset-group:update"
t.V3_ACTION_ORG_ASSET_GROUP_DELETE="org-asset-group:delete"
t.V3_ACTION_ORG_COMBO_GROUP_UPDATE="org-combo-group:update"
t.V3_ACTION_ORG_COMBO_GROUP_DELETE="org-combo-group:delete"
t.V3_ACTION_ORG_COMBO_DELETE="org-combo:delete"
t.V3_BROADCAST_ORG_LIBRARY_DATA="broadcast:org-library:data"
t.V3_JOIN_ORG_LIBRARY_LIST="v3:join:org-library-list"
t.V3_LEAVE_ORG_LIBRARY_LIST="v3:leave:org-library-list"
t.V3_BROADCAST_TEAM_DATA="broadcast:team:data"
t.V3_JOIN_TEAM_LIST="v3:join:team-list"
t.V3_LEAVE_TEAM_LIST="v3:leave:team-list"
t.V3_ACTION_PROJECT_UPPER_UPDATE="project-upper:update"
t.V3_ACTION_PROJECT_UPPER_DELETE="project-upper:delete"
t.V3_BROADCAST_PROJECT_META_DATA="broadcast:project-meta:data"
t.V3_JOIN_PROJECT_META_LIST="v3:join:project-meta-list"
t.V3_LEAVE_PROJECT_META_LIST="v3:leave:project-meta-list"
t.V3_ACTION_PROJECT_VERSION_RESET="project-version:reset"
t.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE="v3:broadcast:project-meta:json-save-queue"
t.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE="v3:request:project-meta:json-save-queue"
t.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE="v3:broadcast:project-meta:buffer-save-queue"
t.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE="v3:request:project-meta:buffer-save-queue"
t.V3_BROADCAST_COMMENT_DATA="broadcast:comment:data"
t.V3_BROADCAST_COMMENT_THREAD_DATA="broadcast:comment-thread:data"
t.LEGACY_JOIN_ORGS="join:orgs"
t.LEGACY_LEAVE_ORGS="leave:orgs"
t.LEGACY_JOIN_TEAMS="join:teams"
t.LEGACY_LEAVE_TEAMS="leave:teams"},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return W}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(5),v=n.n(g),b=n(1),y=n.n(b),x=n(37),w=n.n(x),j=n(70),S=n.n(j),C=n(61),_=n.n(C),O=n(75),k=n(14),M=n(13),E=n.n(M),T=n(44),A=n.n(T),D=n(11),N=n.n(D)
function I(){
var e=A()(["\n  .no-pointer-events {\n    pointer-events: none;\n    user-select: none;\n\n    &.col-resize {\n      cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDl6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIwJSIgeT0iLTQwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMjAwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iYSI+PGZlT2Zmc2V0IGR5PSIxIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNDEyMTA5Mzc1IDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAyKSI+PHVzZSBmaWxsPSIjMDAwIiBmaWx0ZXI9InVybCgjYSkiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYiIvPjwvZz48cGF0aCBkPSJNMjEgNi41VjRsNSAzLTUgM1Y3LjVIMTBWMTBMNSA3bDUtM3YyLjVoMTF6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==') 12 5, default;\n    }\n\n    &.row-resize {\n      cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDl6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIwJSIgeT0iLTQwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMjAwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iYSI+PGZlT2Zmc2V0IGR5PSIxIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNDEyMTA5Mzc1IDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNS41IDgpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PC9nPjxwYXRoIGQ9Ik05IDIwLjVoMi41bC0zIDUtMy01SDh2LTExSDUuNWwzLTUgMyA1SDl2MTF6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==') 8 15, default;\n    }\n  }\n"])
return I=function(){return e},e}var P=Object(D.createGlobalStyle)(I()),L=N.a.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-750n6r-0"
})(["position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;height:28px;font-size:12px;border-radius:2px;overflow:hidden;transition:border 0.2s ease-out 0s,outline,opacity;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:",";&.title-cursor{&.col-resize{cursor:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMjcgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1ICg3ODA3NikgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTEzLDMuNSBMMTMsLTEuNTMxNDI3NDhlLTE1IEwyMSw1IEwxMywxMCBMMTMsNi41IEw4LDYuNSBMOCwxMCBMLTMuMDYxNjE3ZS0xNiw1IEw4LDIuNDQ5MjkzNmUtMTYgTDgsMy41IEwxMywzLjUgWiIgaWQ9InBhdGgtMSI+PC9wYXRoPgogICAgICAgIDxmaWx0ZXIgeD0iLTIzLjglIiB5PSItNDAuMCUiIHdpZHRoPSIxNDcuNiUiIGhlaWdodD0iMjAwLjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjEiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEuNSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC40MTIxMDkzNzUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Iuiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iue7hOS7tuagt+W8jyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQwLjAwMDAwMCwgLTYyMS4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0My4wMDAwMDAsIDYyMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJDb21iaW5lZC1TaGFwZSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9IiNGRkZGRkYiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LDQuNSBMMTQsMiBMMTksNSBMMTQsOCBMMTQsNS41IEw3LDUuNSBMNyw4IEwyLDUgTDcsMiBMNyw0LjUgTDE0LDQuNSBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjMDAwMDAwIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==') 10 5,default;}&.row-resize{cursor:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xMyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDV6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIzLjglIiB5PSItNDAlIiB3aWR0aD0iMTQ3LjYlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImEiPjxmZU9mZnNldCBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEuNSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjQxMjEwOTM3NSAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIvPjwvZmlsdGVyPjwvZGVmcz48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxnIHRyYW5zZm9ybT0icm90YXRlKDkwIDUuNSA4KSI+PHVzZSBmaWxsPSIjMDAwIiBmaWx0ZXI9InVybCgjYSkiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYiIvPjwvZz48cGF0aCBkPSJNOSAxNi41aDIuNWwtMyA1LTMtNUg4di03SDUuNWwzLTUgMyA1SDl2N3oiIGZpbGw9IiMwMDAiLz48L2c+PC9zdmc+') 8 13,default;}}}input{color:",";width:100%;height:100%;margin-left:5px;transition:0.2s ease-out;cursor:default;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:1.5em;height:100%;text-align:center;visibility:hidden;transition:0.2s ease-out;transition-property:background,border,opacity;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";transition:all 0.1s ease-out;&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:22px;border:1px solid transparent;svg{height:10px;width:10px;margin-right:0;}button{height:100%;}}}&.is-disabled{> *{opacity:0.5;cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.title{color:",";}.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 22px);border:1px solid transparent;border-radius:2px;margin-left:0;padding-left:5px;transition:0.2s ease-out;transition-property:outline,border;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";}}&.is-active{input{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}.action.caret{visibility:visible;color:#c8cdd0;&:hover{background:",";}}}}"],(function(e){
return e.theme.common.text_22.cr}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_20.cr}),(function(e){return e.theme.common.text_20.hover}),(function(e){return e.theme.common.text_20.hover}),(function(e){return e.theme.inputNumber.border_color}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){
return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.hover_border}),(function(e){return e.theme.inputNumber.caret_bg_hover}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.inputNumber.caret_bg_hover})),F=n(166),B=n.n(F),R=n(59),U=n.n(R),z=function(e,t){return Number(Number(e).toFixed(t))}
function H(e,t){return t?e:""!==e&&B()(Number(e))?Number(e):""}var G=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},V=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},W=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return i()(this,n),r=t.call(this,e),f()(c()(r),"setElemRef",(function(e){return r.$title=e})),f()(c()(r),"setLabelRef",(function(e){return r.$label=e})),f()(c()(r),"setInputRef",(function(e){return r.$input=e})),f()(c()(r),"onChange",(function(e){var t=e.target.value
r.setValue(t.trim(),e)})),f()(c()(r),"correctNumber",(function(e){var t=r.props,n=t.value,i=t.min,a=t.max,o=t.precision,s=z(Math.min(Math.max(e,i),a),o)
return isNaN(s)?n:s})),f()(c()(r),"checkValidity",(function(e){return/^\+$/.test(e)?r.canBePositive:/^\-$/.test(e)?r.canBeNegative:""===e||isFinite(e)&&r.correctNumber(e)===Number(e)})),f()(c()(r),"setValue",(function(e,t,n){t.persist&&t.persist()
var i=r.props,a=i.value,o=(0,i.parser)(e.toString()).toString(),s=r.checkValidity(o),c=""!==e&&isFinite(o),l=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)}(o)
if(c||l){var u=r.correctNumber(o),d=isNaN(u)?a:u,p=l||!s?o:d
r.setState({value:p,isValid:s},n)}})),f()(c()(r),"setConfirmedValue",(function(e,t){return r.setValue(e,t,(function(){return r.onConfirm(t)}))})),f()(c()(r),"onConfirm",(function(e){var t=r.props,n=t.attr,i=t.value,a=t.precision,o=t.onConfirm,s=t.shouldCorrectOnConfirm,c=r.state.value,l=r.checkValidity(c)
if(!(r.props.isDisabled||r.props.disabled)){e.persist&&e.persist()
var u=r.correctNumber(c),d=isNaN(u)?i:u,p=""===c?i:l?/^[\+\-]$/.test(c)?0:c:u===z(c,a)?u:s?d:i||d
return r.setState({value:p,isValid:!0},(function(){return o(p,n,e)}))}})),f()(c()(r),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),f()(c()(r),"onStep",(function(e){e.persist(),e.nativeEvent.stopPropagation(),r.handleBeforeChangeValue()
var t=e.currentTarget.dataset.action,n=G(e,r.props.step)*("up"===t?1:-1)
r.setConfirmedValue(r.correctNumber(Number(r.state.value)+n),e),r.focusOnInput(e),Object.assign(c()(r),{longPressedTimeout:setTimeout((function(){return Object.assign(c()(r),{steppingInterval:setInterval((function(){return r.setConfirmedValue(r.correctNumber(Number(r.state.value)+n),e)}),30)})}),500)})})),f()(c()(r),"onRelease",(function(){clearTimeout(r.longPressedTimeout),clearInterval(r.steppingInterval),r.handleAfterChangeValue()})),f()(c()(r),"onFocus",(function(e){
var t=r.props,n=t.attr,i=t.dontSelectOnFocus,a=t.onFocus;(void 0===a?i?void 0:V:a)(e,n)})),f()(c()(r),"onKeyDown",(function(e){var t=e.key,n=e.currentTarget,i="ArrowUp"===t?"up":"ArrowDown"===t?"down":"Enter"===t?"enter":"Tab"===t?"tab":null,a=n instanceof Element&&n.matches("input")
if(i){if(e.persist&&e.persist(),"tab"!==i&&e.preventDefault(),a&&"tab"===i)return r.setInactive(),r.onConfirm(e)
if(a&&"enter"===i)return r.onConfirm(e),r.setInactive(),void r.$label.querySelector("input").select()
if(a){var o=G(e,r.props.step)*("up"===i?1:-1)
r.handleBeforeChangeValue(),r.setConfirmedValue(r.correctNumber(Number(r.state.value)+o),e)}}})),f()(c()(r),"setActive",(function(){r.setState({isActive:!0})})),f()(c()(r),"setInactive",(function(){r.setState({isActive:!1})})),f()(c()(r),"toggleMenu",(function(){return r.setState({isMenuOpen:!r.state.isMenuOpen})})),f()(c()(r),"closeMenu",(function(){return r.setState({isMenuOpen:!1})})),f()(c()(r),"onSelect",(function(e){e.persist()
var t=e.currentTarget
r.setConfirmedValue(t.dataset.value,e),r.setInactive(),r.closeMenu()})),f()(c()(r),"onClickOutside",(function(e){var t=e.target
t.closest("label")&&r.$label.contains(t)||(r.onConfirm(e),r.setInactive())})),f()(c()(r),"handleRectResize",(function(e){e.stopPropagation()
var t=r.props,n=t.isDisabled,i=t.disabled,a=t.cursorSize,o=t.cursorDirection
if(!n&&!i){var s=r.$title.getBoundingClientRect(),c=s.left,l=s.right,u=s.top,d=s.bottom
r.lastRecordedClientX="col-resize"===a?(c+l)/2:(u+d)/2,r.lastRecordedValue=Number(r.state.value),r.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",a),r.handleBeforeChangeValue()
var p=function(e){var t=("col-resize"===a?e.pageX:e.pageY)-r.lastRecordedClientX
r.setConfirmedValue(r.correctNumber(r.lastRecordedValue+(o?Number(t):-Number(t))),e)}
document.addEventListener("mousemove",p),document.addEventListener("mouseup",(function e(){r.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",a),r.handleAfterChangeValue(),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",e)}))}})),f()(c()(r),"handleChangeCursor",(function(e){var t=r.props,n=t.isDisabled,i=t.disabled
n||i||r.setState({isCursor:!r.state.isCursor})})),f()(c()(r),"handleAfterChangeValue",(function(e){(0,r.props.onAfterChangeValue)()})),f()(c()(r),"handleBeforeChangeValue",(function(e){(0,r.props.onBeforeChangeValue)()})),r.state={prevProps:r.props,value:H(r.props.value,r.props.isNotVerify),isActive:!1,isMenuOpen:!1,isValid:!0,isTitleActive:!1,isCursor:!1,suffixStyle:null},r.lastRecordedClientX=null,r.lastRecordedValue=H(r.props.value,r.props.isNotVerify),r}return o()(n,[{key:"componentDidMount",
value:function(){this.positionEverything(),this.props.isSelect&&this.$input.select()}},{key:"componentDidUpdate",value:function(e){!e.isSelect&&this.props.isSelect&&this.$input.select()}},{key:"positionEverything",value:function(){var e=this.props,t=e.value,n=e.suffix,r=e.suffixOffsetLeft,i=this.checkValidity(t)
if(this.setState({isValid:i}),n){var a={left:this.$input.offsetLeft+r}
this.setState({suffixStyle:a})}}},{key:"render",value:function(){var e=this.props,t=e.inputClassName,n=e.className,r=e.placeholder,i=e.title,a=e.cursorSize,o=e.suffix,s=e.actionButton,c=e.formatter,l=e.optionList,u=e.canSlidingAdjustment,d=e.readOnly,p=e.onMouseEnter,h=e.onMouseLeave,f=this.state,g=f.value,v=f.isActive,b=f.isValid,y=f.isMenuOpen,j=f.isTitleActive,S=f.isCursor,C=f.suffixStyle,_=this.props.isDisabled||this.props.disabled,k=l&&l.length>0,M=E()(n,"WorkspaceInputNumber",{"is-disabled":_,
"is-active":v&&!_,"is-menu-open":y,"isnt-valid":!b,"is-active-title":j,"can-sliding-adjustment":u,"has-menu":k,"is-readOnly":d})
return Object(m.jsxs)(L,{className:M,ref:this.setLabelRef,onMouseDown:this.setActive,onMouseEnter:p,onMouseLeave:h,children:[i&&Object(m.jsx)("span",{className:E()("title",{"title-cursor":S},a),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:i}),Object(m.jsx)("input",{className:t,type:"text",value:c(g),placeholder:r,ref:this.setInputRef,disabled:_,onChange:this.onChange,onKeyDown:this.onKeyDown,
onKeyUp:this.handleAfterChangeValue,onFocus:this.onFocus}),o&&Object(m.jsx)("span",{className:"suffix",style:C,"data-value":c(g),"data-suffix":o,children:Object(m.jsx)("span",{children:o})}),s&&Object(m.jsx)(Y,{hasMenu:k,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),k&&y&&Object(m.jsx)(O.c,{isOpen:y,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:l,value:g,onChange:this.onSelect,onClose:this.closeMenu}),v&&Object(m.jsx)(w.a,{target:document,
onMouseDown:Object(x.withOptions)(this.onClickOutside,{capture:!0})})]})}},{key:"canBePositive",get:function(){return this.props.max>0}},{key:"canBeNegative",get:function(){return this.props.min<0}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return U()(n,e)?null:{prevProps:e,value:H(e.value,e.isNotVerify)}}}]),n}(g.PureComponent)
f()(W,"propTypes",{step:y.a.number,precision:y.a.number,formatter:y.a.func,parser:y.a.func,value:y.a.oneOfType([y.a.string,y.a.number]),placeholder:y.a.oneOfType([y.a.string,y.a.number]),dontSelectOnFocus:y.a.bool,readOnly:y.a.bool,title:y.a.node,suffix:y.a.string,cursorSize:y.a.string,min:y.a.number,max:y.a.number,suffixOffsetLeft:y.a.number,cursorDirection:y.a.bool,isDisabled:y.a.bool,isNotVerify:y.a.bool,disabled:y.a.bool,canSlidingAdjustment:y.a.bool,actionButton:y.a.bool,isSelect:y.a.bool,
onFocus:y.a.func,onConfirm:y.a.func.isRequired,shouldCorrectOnConfirm:y.a.bool,attr:y.a.oneOfType([y.a.string,y.a.array]),className:y.a.string,optionList:y.a.array,onAfterChangeValue:y.a.func,onMouseEnter:y.a.func,onMouseLeave:y.a.func,onBeforeChangeValue:y.a.func}),f()(W,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",cursorDirection:!0,step:1,suffixOffsetLeft:0,isNotVerify:!1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,
isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:function(){return null},onMouseEnter:function(){return null},onMouseLeave:function(){return null},onAfterChangeValue:function(){return null},onBeforeChangeValue:function(){return null},shouldCorrectOnConfirm:!1,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0})
var Y=Object(g.memo)((function(e){var t=e.hasMenu,n=e.onToggleMenu,r=e.onStep,i=e.onRelease
return Object(m.jsxs)(v.a.Fragment,{children:[t?Object(m.jsx)("div",{className:"action caret",children:Object(m.jsx)(S.a,{type:"text",tabIndex:"-1",onClick:n,children:Object(m.jsx)(k.a,{name:"design/triangle_down"})})}):Object(m.jsxs)("div",{className:"action",children:[Object(m.jsx)(S.a,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:r,onMouseLeave:i,onMouseUp:i,children:Object(m.jsx)(_.a,{name:"triangle_up"})}),Object(m.jsx)(S.a,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:r,
onMouseLeave:i,onMouseUp:i,children:Object(m.jsx)(_.a,{name:"triangle_down"})})]}),Object(m.jsx)(P,{})]})}))
Y.propTypes={hasMenu:y.a.bool,onToggleMenu:y.a.func,onStep:y.a.func,onRelease:y.a.func}},function(e,t,n){"use strict"
n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))
var r="preview",i="inspect",a="comment"},function(e,t,n){"use strict"
n.d(t,"d",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"r",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"n",(function(){return v})),
n.d(t,"o",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"k",(function(){return x}))
var r="RECEIVE_RESOURCE_SUCCESS",i=function(e,t){return{type:r,payload:{screenID:e,data:t}}},a="RECEIVE_RESOURCE_ERROR",o=function(e,t){return{type:a,payload:{screenID:e,error:t}}},s="REQUEST_INDIRECT_ENTER_LAYER",c="REQUEST_INDIRECT_SELECTION_LAYER",l="REQUEST_SELECT_LAYER",u="REQUEST_ENTER_LAYER",d=function(e){return{type:l,payload:{layerID:e}}},p=function(e){return{type:c,payload:{layerID:e}}},h="SELECT_LAYER",f=function(e){return{type:h,payload:{layerID:e}}},m="ACTIVATE_LAYER",g=function(e){
return MB.event("preview","点击了 Layer 元素"),{type:m,payload:{layerID:e}}},v=function(e){return{type:u,payload:{layerID:e}}},b=function(e){return{type:s,payload:{layerID:e}}},y="ENTER_LAYER",x=function(e){return{type:y,payload:{layerID:e}}}},,function(e,t,n){"use strict"
n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}))
var r=n(27),i=function(e){return Object(r.e)("newguide-step",e)},a=function(){return Number(Object(r.b)("newguide-step"))},o=function(){return Object(r.e)("is-new-guiding",!1)},s=function(){return Object(r.b)("new-guide-start-from")},c=function(){return Object(r.b)("is-new-guiding")}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return j}))
var r=n(26),i=n.n(r),a=n(20),o=n(16),s=n(150),c=n(4),l=n.n(c),u=n(146),d=n(86),p=function(e,t){var n=t.filter((function(e){return!["link","panel","sticky"].includes(e.name)})).sort((function(e,t){return e.z-t.z})).map((function(t){var n,r,i,a
return e.overflow_behavior?(i=t.top,a=t.left,n=t.left+t.width,r=t.top+t.height):(n=Math.min(Math.max(t.left+t.width,0),e.width),r=Math.min(Math.max(t.top+t.height,0),e.height),i=Math.min(Math.max(t.top,0),e.height),a=Math.min(Math.max(t.left,0),e.width)),"image_view"===t.name&&t.image_rect?l()(l()({},t),{},{cid:"".concat(e.cid,"-").concat(t.cid),top:e.top+i,left:e.left+a,width:n-a,height:r-i,image_rect:l()(l()({},t.image_rect),{},{center_x:t.image_rect.center_x+e.left,center_y:t.image_rect.center_y+e.top})
}):l()(l()({},t),{},{cid:"".concat(e.cid,"-").concat(t.cid),top:e.top+i,left:e.left+a,width:n-a,height:r-i})}))
return Object(s.d)(n,MB.currentProject.device)},h=function e(t,n,r,i){var a=r[t]
if("group"===a.name){var o=n[t]||{children:[]}
return{cid:a.cid,type:d.a.MB_GROUP,widget:a,children:o.children.map((function(t){return e(t,n,r,i)}))}}if("panel"===a.name){var s=a.cid
return{cid:a.cid,type:d.a.MB_PANEL,widget:a,children:i[s].widgetTreeData.children}}return{cid:a.cid,type:d.a.MB_WIDGET,widget:a,children:[]}},f=function(e,t){return{cid:e.id,type:d.a.SKETCH_ARTBOARD,widget:e,children:t.map((function(e){return{cid:e.cid,type:d.a.SKETCH_LAYER,widget:e,children:[]}}))}},m=n(169),g=function(e){return e.container.layers.activeLayerID},v=function(e){return e.container.layers.resourceByScreen},b=Object(a.createSelector)([o.I,v],(function(e,t){return t[e]||{}
})),y=Object(a.createSelector)([o.c,o.J],(function(e,t){var n=t.activeCid,r=t.screenInfoMap
if(!r[n])return[]
var i=r[n],a=i.screenMeta,o=i.stateCid,c=i.screenRuntimeState.itemListMap[o]
return Object(s.c)(c,e,a)})),x=Object(a.createSelector)([o.I,v,y],(function(e,t,n){var r=t[e]
if(!r)return[]
var a=r.artboardLayer,o=r.sketchLayers
return a?[a].concat(i()(n),i()(o)):n})),w=Object(a.createSelector)([o.J,v,y],(function(e,t,n){var r=e.activeCid,a=e.screenInfoMap
if(!a[r])return{cid:r,type:"screen",widget:{},children:[]}
var o=a[r],s=o.screenMeta,c=o.stateCid,l=o.panelInfoMap,m=t[r]||{artboardLayer:{id:-1},sketchLayers:[]}
return function(e,t,n,r,a){var o=a.artboardLayer,s=a.sketchLayers,c=f(o,s),l=e.cid,m=[]
n.forEach((function(e){if("panel"===e.name){var t=r[e.cid],n=t.currentScreenMetaCid,i=t.currentScreenStateCid,a=t.screenDataMap[n],o=a.screenMeta,s=a.screenRuntimeState.itemListMap[i]||[]
m.push({screenMeta:o,treeId:e.cid,screenCid:n,stateCid:i,widgetList:p(e,s)})}}))
var g="".concat(l,"-").concat(t),v=Object(u.b)({treeId:g,screenCid:l,screenMeta:e,stateCid:t,widgetList:n},m),b=v[g],y=b.widgetMap,x=b.groupMap
return{cid:l,type:d.a.MB_SCREEN,widget:o,children:[].concat(i()(s.length?[c]:[]),i()(x.root.children.map((function(e){return h(e,x,y,v)}))))}}(s,c,n,l,{artboardLayer:m.artboardLayer,sketchLayers:m.sketchLayers})})),j=Object(a.createSelector)([o.I,v],(function(e,t){var n=t[e]
if(!n)return[]
var r=n.sketchLayers
return Object(m.a)(r)}))},,,,,function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.PrimaryCoreButton=function(e){return(0,p.jsx)(w,(0,a.default)((0,a.default)({},e),{},{type:"primary"}))},t.TertiaryCoreButton=function(e){return(0,p.jsx)(w,(0,a.default)((0,a.default)({},e),{},{type:"tertiary"}))},t.default=void 0
var a=i(n(4)),o=i(n(40)),s=i(n(7)),c=i(n(6)),l=i(n(8)),u=i(n(9)),d=i(n(2)),p=n(0),h=r(n(5)),f=i(n(1)),m=i(n(431)),g=i(n(76)),v=i(n(61)),b=n(35),y={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"},x=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.iconType,r=e.children,i=e.html,s=(0,o.default)(e,["icon","iconType","children","html"]),c=this.name,l=this.className,u=this.isDisabled,d=this.isLoading,f=this.to,b=this.href,y=i?{dangerouslySetInnerHTML:{__html:i}}:{children:(0,p.jsxs)(h.Fragment,{children:[d&&(0,p.jsx)(v.default,{name:"loading"}),t&&("svg"===n?(0,p.jsx)(v.default,{name:t}):(0,
p.jsx)(g.default,{type:n,name:t},"icon")),r]})},x=(0,a.default)((0,a.default)({type:"button"===c?"button":void 0,className:l,to:f,href:b,disabled:u,onClick:function(e){return u&&e.preventDefault()}},(0,m.default)(s,["className","type","theme","isDisabled","disabled","isLoading","loading","to","nativeLink"])),y)
return h.default.createElement(c,x)}},{key:"name",get:function(){var e=this.props,t=e.to,n=e.nativeLink,r=this.isDisabled
return!t||r||n||console.error('wrong Button used, use "button-with-react-router-dom" for "to":',t),t&&!r?"a":"button"}},{key:"className",get:function(){var e=this.props,t=e.type,n=e.theme,r=e.size,i=e.className,a=this.isDisabled,o=this.isLoading
return(0,b.trimList)(["Button","".concat(y[t]).concat("core"===n?"CoreButton":"Button"),"regular"!==r&&r,o&&"is-loading",a&&"is-disabled",i])}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"isLoading",get:function(){var e=this.props,t=e.isLoading,n=e.loading
return t||n}},{key:"to",get:function(){var e=this.props,t=e.to,n=e.nativeLink
return this.isDisabled||n?void 0:t}},{key:"href",get:function(){var e=this.props,t=e.to,n=e.nativeLink
return this.isDisabled?void 0:n?t:void 0}}]),n}(h.PureComponent)
function w(e){return(0,p.jsx)(x,(0,a.default)((0,a.default)({},e),{},{theme:"core"}))}(0,d.default)(x,"propTypes",{type:f.default.oneOf(["primary","regular","secondary","tertiary","text"]),size:f.default.oneOf(["regular","small"]),theme:f.default.oneOf(["core","plain"]),iconType:f.default.oneOf(["svg","dora","mb","icon","fa","md"]),icon:f.default.string,className:f.default.string,isDisabled:f.default.bool,disabled:f.default.bool,isLoading:f.default.bool,loading:f.default.bool,to:f.default.string,
nativeLink:f.default.bool,children:f.default.any,html:f.default.string}),(0,d.default)(x,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1,nativeLink:!1})
var j=x
t.default=j},,function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var a=i(n(4)),o=i(n(7)),s=i(n(6)),c=i(n(3)),l=i(n(8)),u=i(n(9)),d=i(n(2)),p=n(0),h=r(n(5)),f=n(36),m=i(n(1)),g=i(n(250)),v=i(n(69)),b=i(n(59)),y=i(n(99)),x=n(35),w={inline:"span",link:"a",block:"div"},j=["hover","click"],S=document.getElementById("IBOT_TOOLTIP_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_TOOLTIP_ROOT"}),C=document.body
function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hover"
return(0,g.default)(e)||(0,v.default)(e)||(0,h.isValidElement)(e)?e:j.includes(t)&&(0,y.default)(e)?e[t]||e.hover:null}C.contains(S)||C.appendChild(S)
var O=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){var e;(0,o.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,c.default)(e),"state",{isOpen:!1,isClicked:!1,$text:null}),(0,d.default)((0,c.default)(e),"ref",h.default.createRef()),(0,d.default)((0,c.default)(e),"onClick",(function(t){e.setState({isOpen:!!_(e.props.content,"click"),isClicked:!0}),t.persist(),e.props.onClick(t)})),(0,d.default)((0,c.default)(e),"onMouseEnter",(function(){return Object.assign((0,c.default)(e),{hoverTimeout:setTimeout((function(){return e.setState({
isOpen:!!_(e.props.content,"hover")},e.props.onMouseEnter)}),e.props.delay)})})),(0,d.default)((0,c.default)(e),"onMouseLeave",(function(){clearTimeout(e.hoverTimeout),e.setState({isOpen:!1,isClicked:!1},e.props.onMouseLeave)})),e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.setRef(this.ref.current)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=t.isOpen,i=this.props.duration,a=this.state.isOpen
i>0&&!r&&a&&(this.timeout=setTimeout((function(){return n.setState({isOpen:!1})}),i))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),clearTimeout(this.hoverTimeout)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.theme,r=e.position,i=e.inflexible,o=e.arrowed,s=e.className,c=e.tipClassName,l=e.content,u=e.html,d=e.children,f=this.state,m=f.isOpen,g=f.isClicked,v=(0,x.trimList)(["Tooltip",s,m?"is-open":"",g?"is-clicked":""]),b=g?"click":"hover"
return h.default.createElement(w[t],(0,a.default)({ref:this.ref,className:v,onMouseEnter:this.onMouseEnter,onClick:this.onClick,onMouseLeave:this.onMouseLeave},(0,x.getOtherProps)(this.constructor,this.props)),(0,p.jsxs)(h.Fragment,{children:[u?(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:u}}):d,(0,p.jsx)(k,{$text:this.ref.current,isOpen:m,className:c,eventName:b,theme:n,position:r,inflexible:i,arrowed:o,children:_(l,b)})]}))}}]),n}(h.PureComponent);(0,d.default)(O,"propTypes",{
type:m.default.oneOf(Object.keys(w)).isRequired,theme:m.default.oneOf(["core","plain"]),position:m.default.oneOf(["top","right","bottom","left"]).isRequired,arrowed:m.default.bool,inflexible:m.default.bool,className:m.default.string,tipClassName:m.default.string,content:m.default.oneOfType([m.default.node,m.default.shape(j.reduce((function(e,t){return Object.assign(e,(0,d.default)({},t,m.default.node))}),{}))]),onMouseEnter:m.default.func,onClick:m.default.func,onMouseLeave:m.default.func,
delay:m.default.oneOfType([m.default.number,m.default.string]),duration:m.default.oneOfType([m.default.number,m.default.string]),children:m.default.node,html:m.default.string,setRef:m.default.func}),(0,d.default)(O,"defaultProps",{type:"inline",theme:"plain",position:"right",arrowed:!0,inflexible:!1,delay:200,className:"",tipClassName:"",setRef:function(){return null},onClick:function(){return null}})
var k=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){var e;(0,o.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,c.default)(e),"state",{prevProps:e.props,isOpen:e.props.isOpen,position:e.props.position}),(0,d.default)((0,c.default)(e),"ref",h.default.createRef()),(0,d.default)((0,c.default)(e),"position",(function(){var t=e.props,n=t.$text,r=t.position,i=t.inflexible,a=(0,c.default)(e),o=a.$tipBase,s=a.$tip
if(n&&o&&s){var l,u=!i,d=window.innerWidth-10,p=window.innerHeight-10,h=n.getBoundingClientRect(),f=h.top,m=h.right,g=h.bottom,v=h.left,b=n.offsetWidth,y=n.offsetHeight,w=s.offsetWidth,j=s.offsetHeight,S=v+b/2,C=f+y/2,_={},O={},k=function(e){return Object.assign(O,e)}
switch(l={top:"".concat(f,"px"),left:"".concat(v,"px"),width:"".concat(b,"px"),height:"".concat(y,"px")},Object.assign(_,l),u&&("top"===r&&f-j<10?e.setState({position:"bottom"}):"bottom"===r&&g+j>p?e.setState({position:"top"}):"left"===r&&v-w<10?e.setState({position:"right"}):"right"===r&&m+w>d&&e.setState({position:"left"})),r){case"top":case"bottom":var M=(w-18)/2+6,E=S-w/2<10?Math.min(w/2-S-6,M):S+w/2>d?Math.max(6-(w/2-(d+10-S)),-M):0
0!==E&&k({transform:"translateX(".concat(E,"px)")})
break
case"left":case"right":var T=(j-18)/2-6,A=j>50&&(C-5<=p/2&&C-j/2<10?Math.min(j/2-C-6,T):C-5>p/2&&C+j/2>p?Math.max(-(j/2-(p+10-C)),-T):0)
0!==A&&k({transform:"translateY(".concat(A,"px)")})}Object.assign(o.style,_),Object.assign((0,x.$)(".content",s).style,O),s.classList.add("is-open")}})),(0,d.default)((0,c.default)(e),"onTransitionEnd",(function(){e.props.isOpen?e.$tip.classList.add("is-open"):e.setState({isOpen:!1})})),e}return(0,s.default)(n,[{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n?this.position():t&&!n&&this.$tip&&this.$tip.classList.remove("is-open")}},{key:"render",value:function(){return(0,f.createPortal)(this.tip,S)}},{key:"$tipBase",get:function(){return this.ref.current}},{key:"$tip",get:function(){return this.$tipBase&&(0,x.$)(".Tip",this.$tipBase)}},{key:"tip",get:function(){var e=this.props,t=e.className,n=e.theme,r=e.inflexible,i=e.arrowed,a=e.children,o=this.state,s=o.isOpen,c=o.position,l=(0,
x.trimList)(["core"===n?"Tip CoreTip":"Tip",t,"on-".concat(c),r&&"inflexible",i&&"arrowed"])
return s&&(0,p.jsx)("div",{className:"TipBase",ref:this.ref,children:(0,p.jsxs)("div",{className:l,onTransitionEnd:this.onTransitionEnd,children:[i&&(0,p.jsx)("div",{className:"arrow",dangerouslySetInnerHTML:{__html:x.SVG.DROPDOWN_ARROW}}),(0,p.jsx)("div",{className:"content",children:a})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,b.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen,position:e.position}}}]),n}(h.PureComponent);(0,d.default)(k,"propTypes",{isOpen:m.default.bool,className:m.default.string,eventName:m.default.oneOf(j),$text:m.default.instanceOf(Element),theme:m.default.oneOf(["plain","core"]),position:m.default.oneOf(["top","right","bottom","left"]),inflexible:m.default.bool,arrowed:m.default.bool,children:m.default.node})
var M=O
t.default=M},,,function(e,t,n){"use strict"
n.d(t,"d",(function(){return te})),n.d(t,"c",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"b",(function(){return ie}))
var r=n(145),i=n.n(r),a=n(4),o=n.n(a),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),h=n(8),f=n.n(h),m=n(9),g=n.n(m),v=n(2),b=n.n(v),y=n(0),x=n(5),w=n(36),j=n(1),S=n.n(j),C=n(37),_=n.n(C),O=n(93),k=n.n(O),M=n(69),E=n.n(M),T=n(59),A=n.n(T),D=n(183),N=n.n(D),I=n(152),P=n.n(I),L=n(35),F=n(166),B=n.n(F),R=n(250),U=n.n(R)
function z(e){var t=e.$opener,n=e.$menuBase,r=e.menuBaseStyle,i=void 0===r?{}:r,a=(e.inflexible,e.shouldSetMaxHeight),o=void 0!==a&&a,s=e.$menuContainer,c=e.$fontTip
if(t&&n){var l,u=n.querySelector("*"),d=(Object(L.$)("li[role=option].is-active",u)||Object(L.$)("li[role=option]",u)||Object(L.$)("li[role=empty-msg]",u)).getBoundingClientRect(),p=u.getBoundingClientRect(),h={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},f=function(e){return Object.assign(h.styleFor$menu,e)},m=function(e){return Object.assign(h.styleFor$menuContainer,e)},g=function(e){return Object.assign(h.styleFor$fontTip,e)},v=(u.offsetWidth,
u.offsetHeight),b=i.width||t.offsetWidth,y=i.height||t.offsetHeight,x=t.getBoundingClientRect(),w=Object.assign({top:x.top,right:x.right,bottom:x.bottom,left:x.left},i),j=w.top,S=(w.right,w.bottom),C=w.left
l={top:"".concat(j,"px"),left:"".concat(C,"px"),width:"".concat(b,"px"),height:"".concat(y,"px")},Object.assign(h.styleFor$menuBase,l)
var _=window.innerHeight,O=_-10,k=j+y,M=0,E=0,T=(d.top-p.top)/.8
M=W(p,d)?-T:-T+(E=d.bottom/.8-p.bottom/.8)
var A=0
return c&&(A=c.getBoundingClientRect().height),k+v+9+M+A<_?(h.isDownward=!0,W(p,d)?(m({top:"".concat(M,"px")}),c&&g({top:"".concat(M+p.height/.8,"px"),width:"".concat(p.width/.8,"px")})):(m({top:"".concat(M,"px")}),s.scrollTop=E,c&&g({top:"".concat(M+p.height/.8,"px"),width:"".concat(p.width/.8,"px")})),o&&S+v>O&&f({maxHeight:"".concat(O-S,"px")})):(h.isDownward=!1,o&&j-v<10&&f({maxHeight:"".concat(j-10,"px")})),Object.assign(n.style,h.styleFor$menuBase),Object.assign(u.style,h.styleFor$menu),
Object.assign(s.style,h.styleFor$menuContainer),c&&Object.assign(c.style,h.styleFor$fontTip),h}}function H(e){return U()(e)||B()(e)||Object(x.isValidElement)(e)?e:e.label||e.value?e.label||e.value:void 0}function G(e){return U()(e)||B()(e)?String(e):e.value||e.label?String(e.value||e.label):void 0}function V(e,t){return!!t&&G(e)===String(t)}function W(e,t){return t.top/.8>=e.top/.8&&t.bottom/.8<=e.bottom/.8}var Y=n(11),q=n.n(Y),Z=q.a.label.withConfig({displayName:"styles__StyledSelect",
componentId:"sc-1g6qy3m-0"
})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:",";cursor:pointer;button{display:block;height:100%;color:",";text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.caret{padding:0 0.5em;color:",";height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:#1e98ea;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border-color:",";.caret{margin-left:auto;visibility:visible;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"],(function(e){
return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_9.cr}),(function(e){return e.theme.select.border_color})),X=q.a.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-1g6qy3m-1"
})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:",";color:",";border-radius:2px;background-color:",";pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:",";border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}.SelectOption{display:flex;align-items:center;height:28px;line-height:28px;cursor:pointer;& > .Ellipsis{padding:0 16px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{background-color:",";color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:",";}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:",";span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:",";margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:",";}}"],(function(e){
return e.theme.common.shadow.shadow_3}),(function(e){return e.theme.select.tc}),(function(e){return e.theme.common.menu.event_select.bg}),(function(e){return e.theme.scrollbar.thumb.y_bg}),(function(e){return e.theme.common.menu.event_select.card.active_bg}),(function(e){return e.theme.common.menu.event_select.card.active_tc}),(function(e){return e.theme.common.menu.event_select.card.hover_bg}),(function(e){return e.theme.common.menu.event_select.card.hover_tc}),(function(e){return e.theme.select.divider
}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.menu.font.family.link_tc}),(function(e){return e.theme.menu.font.family.tip_show_color})),J=n(32),K=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"}),Q=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{isDownward:!0}),b()(p()(e),"portal",Object(L.preparePortal)(K,"SelectMenuPortal")),b()(p()(e),"menuBaseRef",Object(x.createRef)()),b()(p()(e),"menuContainerRef",Object(x.createRef)()),b()(p()(e),"fontTipRef",Object(x.createRef)()),b()(p()(e),"position",(function(t){var n=e.props.$select,r=p()(e),i=r.menuBaseRef.current,a=r.menuContainerRef.current,o=r.fontTipRef.current
if(t){var s=k()(t,"target")
if(s&&N()(s)&&s.matches(".WorkspaceSelectMenu"))return}var c=z({$menuBase:i,$opener:n,shouldSetMaxHeight:!1,$menuContainer:a,$fontTip:o}).isDownward
e.setState({isDownward:c,isTransform:!0})})),b()(p()(e),"onChange",(function(t){var n=e.props.onChange,r=e.state.isDownward,i=t.currentTarget,a=i.closest(".WorkspaceSelectMenu")
if(!i||!a)return e.onlose()
var o=i.getBoundingClientRect(),s=o.top,c=o.bottom,l=a.getBoundingClientRect(),u=l.top,d=l.bottom
if(r&&s>=u||!r&&c<=d){if(i.classList.contains("title"))return
return n(t)}return e.onClose()})),b()(p()(e),"onClose",(function(){(0,e.props.onClose)()})),b()(p()(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!K.contains(n),a=n.closest("label"),o=a&&a.contains(r)
i&&!o&&e.onClose()})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current
Object(L.preventScrollingPropagation)(Object(L.$)(".WorkspaceSelectMenu",e)),this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(w.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){
var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=t.menuTheme,a=t.menuClassName,o=t.optionList,s=t.emptyMsg,c=t.value,l=t.canSelect,u=this.state,d=u.isDownward,p=u.isTransform,h=0===o.length,f=Object(L.trimList)(["WorkspaceSelectMenu",a,p&&"is-open",d?"is-downward":"is-upward",r&&"is-disabled",h&&"is-empty",l?"can-select":"cant-select"]),m=Object(L.trimList)(["font-select-menu-tip","is-show"])
return Object(y.jsxs)(X,{ref:this.menuBaseRef,children:[Object(y.jsx)("ul",{className:f,ref:this.menuContainerRef,children:h?Object(y.jsx)("li",{className:"SelectOption empty-msg",children:s}):o.map((function(t,n){return E()(t)?Object(y.jsx)(re,{menuTheme:i,optionList:t,value:c,onChange:e.onChange},n):Object(y.jsx)(ie,{menuTheme:i,isActive:V(t,c),option:t,isDisabled:t.isDisabled,onChange:e.onChange},n)}))}),Object(y.jsxs)("div",{className:m,ref:this.fontTipRef,
children:[I18N.Common.font_commercial_use_info,Object(y.jsx)("a",{target:"_blank",className:"font-link",rel:"noopener noreferrer",href:J.a.MB_LINK.ARTICLE__BUSINESS_FONT_STATE,children:I18N.Common.learn_more})]}),n&&Object(y.jsx)(_.a,{target:document,onClick:this.onClickOutside})]})}}]),n}(x.PureComponent)
b()(Q,"propTypes",{menuTheme:S.a.string,menuClassName:S.a.string,emptyMsg:S.a.string,optionList:S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool}),S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool})]))])).isRequired,value:S.a.oneOfType([S.a.number,S.a.string]),isDisabled:S.a.bool,onChange:S.a.func,isOpen:S.a.bool,canSelect:S.a.bool,onClose:S.a.func,$select:S.a.instanceOf(Element)}),b()(Q,"defaultProps",{isOpen:!1,
isTransform:!1})
var $=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"}),ee=document.body
ee.contains($)||ee.appendChild($)
var te=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{isOpen:!1,prevProps:e.props,value:e.props.value}),b()(p()(e),"set$select",(function(t){return e.setState({$select:t})})),b()(p()(e),"open",(function(){return e.setState({isOpen:!0})})),b()(p()(e),"close",(function(){return e.setState({isOpen:!1})})),b()(p()(e),"toggle",(function(){return e.setState({isOpen:!e.state.isOpen})})),b()(p()(e),"onResizeWindow",(function(){return e.state.isOpen&&e.close()})),b()(p()(e),"onChange",(function(t){
return e.setState({value:t},(function(){e.close(),e.props.onChange(t,e.props.attr)}))})),b()(p()(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props.value,i=p()(e).canSelect
return e.onChange(i?n.dataset.value:r)})),e}return u()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.unstyled,r=e.className,i=e.isFontSelectMenu,a=e.onMouseEnter,s=e.onMouseLeave,c=this.state,l=c.isOpen,u=c.$select,d=c.value,p=this.isDisabled,h=this.readOnly,f=this.canSelect,m=Object(L.trimList)(["WorkspaceSelect",t,n&&"unstyled",r,l&&"is-open",p&&"is-disabled",h&&"readonly"])
return Object(y.jsxs)(Z,{className:m,role:"listbox",ref:this.set$select,children:[Object(y.jsx)("button",{onClick:this.toggle,disabled:p,children:this.displayText}),Object(y.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>'}}),l&&(i?Object(y.jsx)(Q,o()(o()({isOpen:l},this.props),{},{
value:d,$select:u,canSelect:f,onChange:this.onSelect,onClose:this.close})):Object(y.jsx)(ne,o()(o()({isOpen:l},this.props),{},{value:d,$select:u,canSelect:f,onChange:this.onSelect,onMouseEnter:a,onMouseLeave:s,onClose:this.close})))]})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}},{key:"displayText",get:function(){var e=this.props,t=e.optionList,n=e.placeholder,r=this.state.value,i=(t.find((function(e){return E()(e)&&e.slice(0).some((function(e){return V(e,r)}))}))||t).find((function(e){return!E()(e)&&V(e,r)}))
return i?H(i):n}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return A()(n,e)?null:{prevProps:e,value:e.value}}}]),n}(x.PureComponent)
b()(te,"propTypes",{size:S.a.oneOf(["regular","small"]),theme:S.a.oneOf(["core","plain"]),menuTheme:S.a.oneOf(["core","plain","check"]),unstyled:S.a.bool,className:S.a.string,menuClassName:S.a.string,placeholder:S.a.string,optionList:S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool}),S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool})]))])).isRequired,value:S.a.oneOfType([S.a.number,S.a.string]),isDisabled:S.a.bool,
disabled:S.a.bool,readOnly:S.a.bool,onChange:S.a.func,onMouseEnter:S.a.func,onMouseLeave:S.a.func}),b()(te,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one…",emptyMsg:"Nothing to display…",optionList:[],isDisabled:!1,onChange:function(){return null},onMouseEnter:function(){return null},onMouseLeave:function(){return null}})
var ne=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{isDownward:!0}),b()(p()(e),"portal",Object(L.preparePortal)($,"SelectMenuPortal")),b()(p()(e),"menuBaseRef",Object(x.createRef)()),b()(p()(e),"menuContainerRef",Object(x.createRef)()),b()(p()(e),"position",(function(t){var n=e.props.$select,r=p()(e),i=r.menuBaseRef.current,a=r.menuContainerRef.current
if(t){var o=k()(t,"target")
if(o&&N()(o)&&o.matches(".WorkspaceSelectMenu"))return}var s=z({$menuBase:i,$opener:n,shouldSetMaxHeight:!1,$menuContainer:a}).isDownward
e.setState({isDownward:s,isTransform:!0})})),b()(p()(e),"onChange",(function(t){var n=e.props.onChange,r=e.state.isDownward,i=t.currentTarget,a=i.closest(".WorkspaceSelectMenu")
if(!i||!a)return e.onlose()
var o=i.getBoundingClientRect(),s=o.top,c=o.bottom,l=a.getBoundingClientRect(),u=l.top,d=l.bottom
if(r&&s>=u||!r&&c<=d){if(i.classList.contains("title"))return
return n(t)}return e.onClose()})),b()(p()(e),"onClose",(function(){(0,e.props.onClose)()})),b()(p()(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!$.contains(n),a=n.closest("label"),o=a&&a.contains(r)
i&&!o&&e.onClose()})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current
Object(L.preventScrollingPropagation)(Object(L.$)(".WorkspaceSelectMenu",e)),this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(w.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){
var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=t.menuTheme,a=t.menuClassName,o=t.optionList,s=t.emptyMsg,c=t.value,l=t.canSelect,u=t.onMouseEnter,d=t.onMouseLeave,p=this.state,h=p.isDownward,f=p.isTransform,m=0===o.length,g=Object(L.trimList)(["WorkspaceSelectMenu",a,f&&"is-open",h?"is-downward":"is-upward",r&&"is-disabled",m&&"is-empty",l?"can-select":"cant-select"])
return Object(y.jsxs)(X,{ref:this.menuBaseRef,children:[Object(y.jsx)("ul",{className:g,ref:this.menuContainerRef,children:m?Object(y.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:s}):o.map((function(t,n){return E()(t)?Object(y.jsx)(re,{menuTheme:i,optionList:t,value:c,onChange:e.onChange,onMouseEnter:u,onMouseLeave:d},n):Object(y.jsx)(ie,{menuTheme:i,isActive:V(t,c),option:t,isDisabled:t.isDisabled,onChange:e.onChange,onMouseEnter:u,onMouseLeave:d},n)}))}),n&&Object(y.jsx)(_.a,{
target:document,onClick:this.onClickOutside})]})}}]),n}(x.PureComponent)
function re(e){var t=e.value,n=i()(e.optionList),r=n[0],a=n.slice(1),o=e.menuTheme,s=e.onChange,c=e.onMouseEnter,l=e.onMouseLeave
return Object(y.jsxs)("li",{className:"SelectGroup",children:["HIDDELINE"===r?null:"DIVIDER"===r?Object(y.jsx)("div",{className:"divider"}):Object(y.jsx)(P.a,{className:"title",onClick:s,children:r}),Object(y.jsx)("ul",{children:a.map((function(e,n){return Object(y.jsx)(ie,{menuTheme:o,option:e,isActive:V(e,t),isDisabled:e.isDisabled,onChange:s,onMouseEnter:c,onMouseLeave:l},n)}))})]})}function ie(e){var t=e.option,n=e.isActive,r=e.isDisabled,i=(e.menuTheme,
e.onChange),a=e.onMouseEnter,o=e.onMouseLeave,s=Object(L.trimList)(["SelectOption",n&&"is-active",r&&"is-disabled"]),c=H(t),l=G(t)
return Object(y.jsx)("li",{role:"option","data-value":l,className:s,onClick:r?void 0:i,onMouseEnter:a,onMouseLeave:o,children:Object(y.jsx)(P.a,{children:c})})}b()(ne,"propTypes",o()(o()({},te.propTypes),{},{isOpen:S.a.bool,canSelect:S.a.bool,onChange:S.a.func,onClose:S.a.func,$select:S.a.instanceOf(Element)})),b()(ne,"defaultProps",{isOpen:!1,isTransform:!1}),re.propTypes={value:S.a.oneOfType([S.a.string,S.a.number]),optionList:S.a.array,onChange:S.a.func,menuTheme:S.a.string,onMouseEnter:S.a.func,
onMouseLeave:S.a.func},ie.propTypes={isActive:S.a.bool,option:S.a.oneOfType([S.a.node,S.a.object]),isDisabled:S.a.bool,menuTheme:S.a.string,onChange:S.a.func,onMouseEnter:S.a.func,onMouseLeave:S.a.func}},,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
t.createReduxEntry=function(){var e=null,t={},n=function(e,n){if("string"!=typeof e)throw new Error("[ReduxEntry][setEntry] non-string actionType: "+e)
if("function"!=typeof n)throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+e+", "+n)
t[e]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+e),t[e]=n}
return{middleware:function(n){if("function"!=typeof n.getState||"function"!=typeof n.dispatch)throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore")
if(null!==e)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore")
return e=n,function(n){return function(r){return!0===function(n){var r=t[n.type]
return r&&r(e,n)}(r)||n(r)}}},setEntry:n,setEntryMap:function(e){return Object.keys(e).forEach((function(t){return n(t,e[t])}))}}},t.createStateStore=function(e){if(void 0===e)throw new Error("[ReduxEntry][createStateStore] initialState expected")
return{getState:function(){return e},setState:function(t){return e=t},wrapEntry:function(t){return function(n,r){return t(e,n,r)}}}},t.createStateStoreReducer=function(e,t){var n=t.getState,r=t.setState
return function(t,i){var a=i.type,o=i.payload
return a===e&&r(o),n()}},t.createStateStoreMergeReducer=function(e,t){var n=t.getState,i=t.setState
return function(t,a){var o=a.type,s=a.payload
return o===e&&i(r({},n(),s)),n()}}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r=function(e){MB.eventTarget.dispatchEvent({type:"GUIDE_EVENT",nextStep:e})}},,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(7)),a=r(n(6)),o=r(n(3)),s=r(n(8)),c=r(n(9)),l=r(n(2)),u=n(0),d=n(5),p=r(n(1)),h=r(n(59)),f=n(35),m=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,isChecked:e.props.isChecked}),(0,l.default)((0,o.default)(e),"toggle",(function(t){var n=t.target,r=e.props.onChange,i=e.state.isChecked,a=(0,o.default)(e),s=a.isDisabled,c=a.canToggle?!i:i
return n.blur(),e.setState({isChecked:c}),!s&&r(c)})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.readOnly,r=e.children,i=this.state.isChecked,a=this.isDisabled
return(0,u.jsxs)("label",{className:(0,f.trimList)(["Switch",t,i?"is-checked":"isnt-checked",a&&"is-disabled",n&&"readonly"]),children:[(0,u.jsx)("button",{type:"button",disabled:a,onClick:this.toggle}),r]})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,h.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}]),n}(d.PureComponent);(0,l.default)(m,"propTypes",{className:p.default.string,size:p.default.oneOf(["regular","small"]),isChecked:p.default.bool,isDisabled:p.default.bool,disabled:p.default.bool,readOnly:p.default.bool,onChange:p.default.func,children:p.default.any}),(0,l.default)(m,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null}})
var g=m
t.default=g},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n.n(o),c=n(13),l=n.n(c),u=n(271),d=Object(o.memo)((function(e){var t=e.activeIndex,n=e.className,i=e.children,a=e.onTabChange
return Object(r.jsx)(u.a,{className:l()(n),children:o.Children.map(i,(function(e,n){var r={index:n,active:n===t,onClick:a}
return s.a.cloneElement(e,r)}))})}))
d.propTypes={activeIndex:a.a.number,className:a.a.string,children:a.a.array,onTabChange:a.a.func},d.defaultProps={activeIndex:0}
var p=Object(o.memo)((function(e){var t=e.className,n=e.index,i=e.active,a=e.onClick,o=e.label
return Object(r.jsxs)("li",{className:l()("nav-item",{active:i},t),onClick:function(e){a(n)},children:[o&&Object(r.jsx)("span",{className:"nav-label",children:o}),i&&Object(r.jsx)("span",{className:"nav-underline"})]})}))
p.propTypes={index:a.a.number,className:a.a.string,label:a.a.string,active:a.a.bool,onClick:a.a.func},t.b=d},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyProjectDumpPatchListMutate=t.walkProjectStoreChangeMap=t.createProjectStore=t.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT=t.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST=t.EVENT_CHANGE_APPLY_SERVER_PATCH=t.EVENT_CHANGE_RESET_SERVER_WITH_DUMP=t.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP=t.EVENT_CHANGE_LOAD_LOCAL=void 0
var i=r(n(24)),a=r(n(26)),o=r(n(4)),s=n(311),c=n(132),l=n(324),u=n(103),d=n(470),p=n(471)
t.EVENT_CHANGE_LOAD_LOCAL="project-store:load-local"
t.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP="project-store:reset-local-with-dump"
t.EVENT_CHANGE_RESET_SERVER_WITH_DUMP="project-store:reset-server-with-dump"
t.EVENT_CHANGE_APPLY_SERVER_PATCH="project-store:apply-server-patch"
t.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST="project-store:reduce-local-update-action-list"
t.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT="project-store:merge-local-project-document"
t.createProjectStore=function(e){var t=e.projectMetaCid,n=e.projectMetaType,r=e.getServerTimestamp,h=void 0===r?c.getLocalTimestamp:r,f=e.eventSource,m=void 0===f?(0,s.createEventTarget)():f,g=e.onChange,v=void 0===g?function(e,t,n){return m.dispatchEvent((0,o.default)({type:e,projectMetaCid:n},t))}:g,b=(0,d.createJsonDataReducerMap)(h),y=(0,d.createJsonDataStore)({dataName:"projectMeta",onLocalDataDelete:function(e){x.unloadLocalWithFilter((function(t){return t.project_meta_cid!==e.cid}))},
onServerDataDelete:function(e){x.unloadServerWithFilter((function(t){return t.project_meta_cid!==e.cid}))},JSON_DATA_REDUCER_MAP:b}),x=(0,d.createJsonDataStore)({dataName:"screenGlue",onLocalDataDelete:function(e){w.unloadLocalWithFilter((function(t){return t.screen_glue_cid!==e.cid}))},onServerDataDelete:function(e){w.unloadServerWithFilter((function(t){return t.screen_glue_cid!==e.cid}))},JSON_DATA_REDUCER_MAP:b}),w=(0,d.createJsonDataStore)({dataName:"screenMeta",onLocalDataDelete:function(e){
S.unloadLocalWithFilter((function(t){return t.screenMetaCid!==e.cid}))},onServerDataDelete:function(e){S.unloadServerWithFilter((function(t){return t.screenMetaCid!==e.cid}))},JSON_DATA_REDUCER_MAP:b}),j=(0,p.createRuntimeStateReducerMap)(h),S=(0,p.createScreenRuntimeStateStore)({RUNTIME_STATE_REDUCER_MAP:j}),C=function(){return y.getLocal(t)},_=x.getLocal,O=x.getLocalList,k=x.getLocalCidList,M=w.getLocal,E=w.getLocalList,T=function(e){return w.filterMapLocalList((function(t){return t.screen_glue_cid===e&&t
}))},A=w.getLocalCidList,D=S.getLocalRuntimeState,N=S.getLocalRuntimeStateList,I=function(e,n,r,i,a){if(void 0!==n||void 0!==r||void 0!==i||void 0!==a){var o={projectMetaChangeMap:n,screenGlueChangeMap:r,screenMetaChangeMap:i,screenRuntimeStateChangeMap:a}
return v(e,o,t),o}},P=function(e,t,r,i,a){return I(e,0!==t.length?y.reduceLocalUpdateActionList(t,n):void 0,0!==r.length?x.reduceLocalUpdateActionList(r,n):void 0,0!==i.length?w.reduceLocalUpdateActionList(i,n):void 0,0!==a.length?S.reduceLocalUpdateActionList(a,n):void 0)},L={getLocalProjectMeta:C,getLocalScreenGlueList:O,getLocalScreenMetaListByScreenGlueCid:T,getLocalScreenRuntimeStateByCid:D},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return(0,u.selectProjectStoreLocalProjectDocument)(L,e)},B={has:function(){return!1}}
return{projectMetaCid:t,getServerTimestamp:h,eventSource:m,projectMetaDataStore:y,screenGlueDataStore:x,screenMetaDataStore:w,screenRuntimeStateStore:S,getLocalProjectMeta:C,getLocalScreenGlueByCid:_,getLocalScreenGlueList:O,getLocalScreenGlueCidList:k,getLocalScreenMetaByCid:M,getLocalScreenMetaList:E,getLocalScreenMetaListByScreenGlueCid:T,getLocalScreenMetaCidList:A,getLocalScreenRuntimeStateByCid:D,getLocalScreenRuntimeStateList:N,getLocalScreenRuntimeStateListByScreenGlueCid:function(e){
return w.filterMapLocalList((function(t){return t.screen_glue_cid===e&&S.getLocalRuntimeState(t.cid)}))},loadLocal:function(e){var t=e.projectMetaList,n=e.screenGlueList,r=e.screenMetaList,i=e.screenRuntimeStateList
return I("project-store:load-local",y.loadLocal.apply(y,(0,a.default)(t)),x.loadLocal.apply(x,(0,a.default)(n)),w.loadLocal.apply(w,(0,a.default)(r)),S.loadLocal.apply(S,(0,a.default)(i)))},loadServer:function(e){var t=e.projectMetaList,n=e.screenGlueList,r=e.screenMetaList,i=e.screenRuntimeStateList
y.loadServer.apply(y,(0,a.default)(t)),x.loadServer.apply(x,(0,a.default)(n)),w.loadServer.apply(w,(0,a.default)(r)),S.loadServer.apply(S,(0,a.default)(i))},generateLocalDump:function(e){return{projectMetaCid:t,projectMetaDump:y.generateLocalDump(e),screenGlueDump:x.generateLocalDump(e),screenMetaDump:w.generateLocalDump(e),screenRuntimeStateDump:S.generateLocalDump(e)}},resetLocalWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,a=e.screenMetaDump,o=e.screenRuntimeStateDump
if(n!==t)throw new Error("[resetLocalWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return I("project-store:reset-local-with-dump",y.resetLocalWithDump(r),x.resetLocalWithDump(i),w.resetLocalWithDump(a),S.resetLocalWithDump(o))},resetServerWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,a=e.screenMetaDump,o=e.screenRuntimeStateDump
if(n!==t)throw new Error("[resetServerWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return I("project-store:reset-server-with-dump",y.resetServerWithDump(r),x.resetServerWithDump(i),w.resetServerWithDump(a),S.resetServerWithDump(o))},previewResetLocalWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,a=e.screenMetaDump,o=e.screenRuntimeStateDump
if(n!==t)throw new Error("[previewResetLocalWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return{projectMetaCid:t,projectMetaPreview:y.previewResetLocalWithDump(r),screenGluePreview:x.previewResetLocalWithDump(i),screenMetaPreview:w.previewResetLocalWithDump(a),screenRuntimeStatePreview:S.previewResetLocalWithDump(o)}},hasLocalPatch:function(){return y.hasLocalPatch()||x.hasLocalPatch()||w.hasLocalPatch()||S.hasLocalPatch()},countLocalPatch:function(){return y.countLocalPatch()+x.countLocalPatch()+w.countLocalPatch()+S.countLocalPatch()},generateLocalPatch:function(){return{projectMetaCid:t,
projectMetaType:n,projectMetaPatch:y.generateLocalPatch(),screenGluePatch:x.generateLocalPatch(),screenMetaPatch:w.generateLocalPatch(),screenRuntimeStatePatch:S.generateLocalPatch()}},applyServerPatch:function(e){var n=e.projectMetaCid,r=e.projectMetaPatch,i=e.screenGluePatch,a=e.screenMetaPatch,o=e.screenRuntimeStatePatch
if(n!==t)throw new Error("[applyServerPatch] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return I("project-store:apply-server-patch",r&&y.applyServerPatch(r),i&&x.applyServerPatch(i),a&&w.applyServerPatch(a),o&&S.applyServerPatch(o,function(e){return{existLocalBindData:function(t){var n=t.screenMetaCid
return e.hasLocal(n)},existServerBindData:function(t){var n=t.screenMetaCid
return e.hasServer(n)}}}(w)))},reduceLocalUpdateActionList:function(e){var t,n=[],r=[],a=[],o=[],s=(0,i.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value
switch(c.type){case"json-v3:project-meta:delete":case"json-v3:project-meta:update":n.push(c)
break
case"json-v3:screen-glue:delete":case"json-v3:screen-glue:update":r.push(c)
break
case"json-v3:screen-meta:delete":case"json-v3:screen-meta:update":a.push(c)
break
default:o.push(c)}}}catch(e){s.e(e)}finally{s.f()}return P("project-store:reduce-local-update-action-list",n,r,a,o)},selectLocalProjectDocument:F,selectAndRemapLocalProjectDocument:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return(0,u.remapProjectStoreLocalProjectDocument)(F(e),t)},mergeLocalProjectDocument:function(e){var n=e.projectDocument,r=e.ignoreProjectMetaCidSet,a=void 0===r?B:r,o=e.ignoreScreenGlueCidSet,s=void 0===o?B:o,c=e.ignoreScreenMetaCidSet,u=void 0===c?B:c,d=e.ignoreScreenStateCidSet,p=void 0===d?B:d,h=e.ignoreItemCidSet,f=void 0===h?B:h,m=[],g=[],v=[],b=[]
return(0,l.walkProjectDocument)({projectDocument:n,onProjectMeta:function(e){if(e.cid!==t)throw new Error("[mergeLocalProjectDocument] expect projectMeta: ".concat(t,", get: ").concat(e.cid))
!a.has(e.cid)&&m.push({type:"json-v3:project-meta:update",payload:e})},onScreenGlue:function(e){!s.has(e.cid)&&g.push({type:"json-v3:screen-glue:update",payload:e})},onScreenMeta:function(e){!u.has(e.cid)&&v.push({type:"json-v3:screen-meta:update",payload:e})},onScreenState:function(e,t){var n=t.itemList,r=t.screenMeta.cid
!p.has(e.cid)&&b.push({type:"buffer-v3:screen-state-data:update",payload:e,screenMetaCid:r})
var a,o=(0,i.default)(n)
try{for(o.s();!(a=o.n()).done;){var s=a.value
!f.has(s.cid)&&b.push({type:"buffer-v3:screen-state-item:update",payload:s,stateCid:e.cid,screenMetaCid:r})}}catch(e){o.e(e)}finally{o.f()}}}),P("project-store:merge-local-project-document",m,g,v,b)},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("- projectMetaCid: ".concat(t)),y.describe(e),x.describe(e),w.describe(e),S.describe(e)},verify:function(){y.verify(),x.verify(),w.verify(),S.verify()}}}
t.walkProjectStoreChangeMap=function(e,t){var n=e.projectMetaChangeMap,r=e.screenGlueChangeMap,i=e.screenMetaChangeMap,a=e.screenRuntimeStateChangeMap
void 0!==n&&(0,d.walkJsonDataChangeMap)(n,t,"projectMeta"),void 0!==r&&(0,d.walkJsonDataChangeMap)(r,t,"screenGlue"),void 0!==i&&(0,d.walkJsonDataChangeMap)(i,t,"screenMeta"),void 0!==a&&(0,p.walkScreenRuntimeStateChangeMap)(a,t)}
t.applyProjectDumpPatchListMutate=function(e,t){var n,r=e.projectMetaCid,a=e.projectMetaDump,o=e.screenGlueDump,s=e.screenMetaDump,c=e.screenRuntimeStateDump,l=(0,i.default)(t)
try{for(l.s();!(n=l.n()).done;){var u=n.value,f=u.projectMetaCid,m=u.projectMetaPatch,g=u.screenGluePatch,v=u.screenMetaPatch,b=u.screenRuntimeStatePatch
if(r!==f)throw new Error("mismatch cid: ".concat(r," - ").concat(f))
m&&(0,d.applyJsonDataDumpPatchMutate)(a,m),g&&(0,d.applyJsonDataDumpPatchMutate)(o,g),v&&(0,d.applyJsonDataDumpPatchMutate)(s,v),b&&(0,p.applyScreenRuntimeStateDumpPatchMutate)(c,b)}}catch(e){l.e(e)}finally{l.f()}var y=new Map
s.forEach((function(e){var t=e.cid
return y.set(t,1)})),c.forEach((function(e){var t=e.screenMetaCid
return y.has(t)&&y.set(t,2)})),h(s,(function(e){var t=e.cid
return 2===y.get(t)})),h(c,(function(e){var t=e.screenMetaCid
return 2===y.get(t)}))}
var h=function(e,t){for(var n=0,r=0;n<e.length;){var i=e[n]
t(i,n,e)&&(e[r++]=i),n++}return e.length=r,e}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r={SKETCH_ARTBOARD:"sketch-artboard",SKETCH_LAYER:"sketch-layer",MB_SCREEN:"screen",MB_WIDGET:"widget",MB_GROUP:"group",MB_PANEL:"panel"}},function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.SelectMenu=t.$menuRoot=t.default=void 0
var a=i(n(145)),o=i(n(4)),s=i(n(7)),c=i(n(6)),l=i(n(3)),u=i(n(8)),d=i(n(9)),p=i(n(2)),h=n(0),f=n(5),m=n(36),g=i(n(1)),v=r(n(37)),b=i(n(93)),y=i(n(69)),x=i(n(59)),w=i(n(183)),j=i(n(76)),S=i(n(152)),C=n(35),_=n(126),O=window.I18N,k=void 0===O?{}:O,M=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"})
t.$menuRoot=M
var E=document.body
E.contains(M)||E.appendChild(M)
var T=function(e){(0,u.default)(n,e)
var t=(0,d.default)(n)
function n(){var e;(0,s.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,l.default)(e),"state",{isOpen:!1,prevProps:e.props,value:e.props.value}),(0,p.default)((0,l.default)(e),"set$select",(function(t){return e.setState({$select:t})})),(0,p.default)((0,l.default)(e),"open",(function(){return e.setState({isOpen:!0})})),(0,p.default)((0,l.default)(e),"close",(function(){return e.setState({isOpen:!1})})),(0,p.default)((0,l.default)(e),"toggle",(function(){return e.setState({isOpen:!e.state.isOpen})})),(0,p.default)((0,
l.default)(e),"onResizeWindow",(function(){return e.state.isOpen&&e.close()})),(0,p.default)((0,l.default)(e),"onChange",(function(t){return e.setState({value:t},(function(){e.close(),e.props.onChange(t)}))})),(0,p.default)((0,l.default)(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props.value,i=(0,l.default)(e).canSelect
return e.onChange(i?n.dataset.value:r)})),e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.unstyled,i=e.className,a=e.menuX,s=this.state,c=s.isOpen,l=s.$select,u=s.value,d=this.isDisabled,p=this.readOnly,f=this.canSelect,m=(0,C.trimList)(["core"===n?"CoreSelect":"Select",t,r&&"unstyled",i,c&&"is-open",d&&"is-disabled",p&&"readonly"])
return(0,h.jsxs)("label",{className:m,role:"listbox",ref:this.set$select,children:[(0,h.jsx)("button",{type:"button",onClick:this.toggle,disabled:d,children:(0,h.jsx)(S.default,{children:this.displayText})}),(0,h.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:C.SVG.INPUT_ARROW}}),(0,h.jsx)(A,(0,o.default)((0,o.default)({isOpen:c},this.props),{},{value:u,$select:l,canSelect:f,onChange:this.onSelect,onClose:this.close,menuX:a}))]})}},{key:"isDisabled",get:function(){
var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}},{key:"displayText",get:function(){var e=this.props,t=e.optionList,n=e.placeholder,r=this.state.value,i=(t.find((function(e){return(0,y.default)(e)&&e.slice(0).some((function(e){return(0,C.checkOptionByValue)(e,r)}))}))||t).find((function(e){return!(0,y.default)(e)&&(0,C.checkOptionByValue)(e,r)}))
return i?(0,C.getOptionLabel)(i):n}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,x.default)(n,e)?null:{prevProps:e,value:e.value}}}]),n}(f.PureComponent);(0,p.default)(T,"propTypes",{size:g.default.oneOf(["regular","small"]),theme:g.default.oneOf(["core","plain"]),menuTheme:g.default.oneOf(["core","plain","check"]),unstyled:g.default.bool,className:g.default.string,menuClassName:g.default.string,placeholder:g.default.string,optionList:g.default.arrayOf(g.default.oneOfType([g.default.node,g.default.shape({label:g.default.node,value:g.default.any,isDisabled:g.default.bool
}),g.default.arrayOf(g.default.oneOfType([g.default.node,g.default.shape({label:g.default.node,value:g.default.any,isDisabled:g.default.bool})]))])).isRequired,value:g.default.oneOfType([g.default.number,g.default.string]),isDisabled:g.default.bool,disabled:g.default.bool,readOnly:g.default.bool,onChange:g.default.func,menuX:g.default.oneOf(["left","center","right"])}),(0,p.default)(T,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",
placeholder:k.select_placeholder||"Choose one…",emptyMsg:k.select_empty_msg||"Nothing to display…",optionList:[],isDisabled:!1,onChange:function(){return null},menuX:"left"})
var A=function(e){(0,u.default)(n,e)
var t=(0,d.default)(n)
function n(){var e;(0,s.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,l.default)(e),"state",{isDownward:!0}),(0,p.default)((0,l.default)(e),"portal",(0,C.preparePortal)(M,"SelectMenuPortal")),(0,p.default)((0,l.default)(e),"menuBaseRef",(0,f.createRef)()),(0,p.default)((0,l.default)(e),"position",(function(t){var n=e.props,r=n.$select,i=n.menuX,a=(0,l.default)(e).menuBaseRef.current
if(t){var o=(0,b.default)(t,"target")
if(o&&(0,w.default)(o)&&o.matches(".SelectMenu"))return}var s=(0,_.positionMenu)({$menuBase:a,$opener:r,menuX:i,shouldSetMaxHeight:!0}).isDownward
e.setState({isDownward:s})})),(0,p.default)((0,l.default)(e),"onChange",(function(t){var n=e.props,r=(n.canSelect,n.onChange),i=e.state.isDownward,a=t.currentTarget,o=a.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu")
if(!a||!o)return e.onlose()
var s=a.getBoundingClientRect(),c=s.top,l=s.bottom,u=o.getBoundingClientRect(),d=u.top,p=u.bottom
if(i&&c>=d||!i&&l<=p){if(a.classList.contains("title"))return
return r(t)}return e.onClose()})),(0,p.default)((0,l.default)(e),"onClose",(function(){(0,e.props.onClose)()})),(0,p.default)((0,l.default)(e),"scrollIntoActive",(function(){var t=(0,l.default)(e).menuBaseRef.current,n=(0,C.$)("li[role=option].is-active",t)
n&&n.scrollIntoView({block:"start"})})),(0,p.default)((0,l.default)(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!M.contains(n),a=n.closest("label"),o=a&&a.contains(r)
i&&!o&&e.onClose()})),e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current;(0,C.preventScrollingPropagation)((0,C.$)(".SelectMenu",e))}},{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n&&(this.position(),this.scrollIntoActive())}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return(0,m.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=(t.readOnly,t.menuTheme),a=t.menuClassName,o=t.menuX,s=t.optionList,c=t.emptyMsg,l=t.value,u=t.canSelect,d=this.state.isDownward,p=0===s.length,f=(0,
C.trimList)(["core"===i?"CoreSelectMenu":"check"===i?"CheckSelectMenu":"SelectMenu",a,"x-".concat(o),n&&"is-open",d?"is-downward":"is-upward",r&&"is-disabled",p&&"is-empty",u?"can-select":"cant-select"])
return(0,h.jsx)("div",{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,h.jsxs)("ul",{className:f,onTransitionEnd:this.onTransitionEnd,children:[p?(0,h.jsx)("li",{className:"SelectOption empty-msg",children:c}):s.map((function(t,n){return(0,y.default)(t)?(0,h.jsx)(D,{menuTheme:i,optionList:t,value:l,onChange:e.onChange},n):(0,h.jsx)(N,{menuTheme:i,isActive:(0,C.checkOptionByValue)(t,l),option:t,isDisabled:t.isDisabled,onChange:e.onChange},n)})),n&&(0,h.jsx)(v.default,{target:document,
onClick:this.onClickOutside}),n&&(0,h.jsx)(v.default,{target:document,onScroll:(0,v.withOptions)(this.position,{capture:!0})})]})})}}]),n}(f.PureComponent)
function D(e){var t=e.value,n=(0,a.default)(e.optionList),r=n[0],i=n.slice(1),o=e.menuTheme,s=e.onChange
return(0,h.jsxs)("li",{className:"SelectGroup",children:[(0,h.jsx)(S.default,{className:"title",onClick:s,children:r}),(0,h.jsx)("ul",{children:i.map((function(e,n){return(0,h.jsx)(N,{menuTheme:o,option:e,isActive:(0,C.checkOptionByValue)(e,t),isDisabled:e.isDisabled,onChange:s},n)}))})]})}function N(e){var t=e.option,n=e.isActive,r=e.isDisabled,i=e.menuTheme,a=e.onChange,o=(0,C.trimList)(["SelectOption",n&&"is-active",r&&"is-disabled"]),s=(0,C.getOptionLabel)(t),c=(0,C.getOptionValue)(t)
return(0,h.jsxs)("li",{role:"option","data-value":c,className:o,onClick:r?void 0:a,children:[(0,h.jsx)(S.default,{children:s}),"check"===i&&n&&(0,h.jsx)(j.default,{name:"check",type:"dora"})]})}t.SelectMenu=A,(0,p.default)(A,"propTypes",(0,o.default)((0,o.default)({},T.propTypes),{},{isOpen:g.default.bool,canSelect:g.default.bool,onChange:g.default.func,onClose:g.default.func,$select:g.default.instanceOf(Element)})),(0,p.default)(A,"defaultProps",{isOpen:!1}),D.propTypes={
idx:g.default.oneOfType([g.default.number,g.default.string]),optionList:g.default.array,onChange:g.default.func,menuTheme:g.default.string},N.propTypes={idx:g.default.oneOfType([g.default.number,g.default.string]),option:g.default.oneOfType([g.default.node,g.default.object]),isDisabled:g.default.bool,menuTheme:g.default.string,onChange:g.default.func}
var I=T
t.default=I},,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(7)),a=r(n(6)),o=r(n(3)),s=r(n(8)),c=r(n(9)),l=r(n(2)),u=n(0),d=n(5),p=n(36),h=r(n(1)),f=r(n(37)),m=r(n(59)),g=r(n(70)),v=r(n(82)),b=r(n(76)),y=n(35),x=window.I18N,w=void 0===x?{}:x,j=function(e){return e.stopPropagation()},S=document.body,C=document.getElementById("IBOT_MODAL_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_MODAL_ROOT"})
S.contains(C)||S.appendChild(C)
var _={alert:"AlertModal",form:"FormModal",functional:"FunctionalModal",display:"DisplayModal"},O=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,isOpen:e.props.isOpen}),(0,l.default)((0,o.default)(e),"portal",(0,y.preparePortal)(C,(0,y.trimList)(["ModalPortal",e.props.portalClassName]))),(0,l.default)((0,o.default)(e),"open",(function(){return e.setState({isOpen:!0},e.didOpen)})),(0,l.default)((0,o.default)(e),"close",(function(){return e.portal.classList.remove("is-open")})),(0,l.default)((0,o.default)(e),"toggle",(function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.isOpen
return t?e.open():e.close()})),(0,l.default)((0,o.default)(e),"didOpen",(function(){(0,o.default)(e).portal;(0,y.addModalToStack)((0,o.default)(e)),e.positionY(),e.focusOnInput(),setTimeout((function(){return e.portal.classList.add("is-open")}))})),(0,l.default)((0,o.default)(e),"didClose",(function(){return setTimeout((function(){(0,y.deleteModalFromStack)((0,o.default)(e)),(0,y.checkNoOpenModalInStack)()&&(0,y.toggleGlobalScroll)(!1)}))})),(0,l.default)((0,o.default)(e),"onTransitionEnd",(function(){
e.portal.classList.contains("is-open")?(e.props.onOpen(),e.props.onToggle(!0),(0,y.toggleGlobalScroll)(!0)):(e.setState({isOpen:!1},e.didClose),e.props.onClose(),e.props.onToggle(!1))})),(0,l.default)((0,o.default)(e),"onModalTransitionEnd",(function(t){var n=e.props.onModalTransitionEnd
j(t),n&&n(t)})),(0,l.default)((0,o.default)(e),"onConfirm",(function(){var t=e.props,n=t.onConfirm,r=t.shouldCloseOnAction,i=t.isConfirmDisabled
"function"!=typeof n||i||n(),r&&e.close()})),(0,l.default)((0,o.default)(e),"onCancel",(function(){var t=e.props,n=t.onCancel,r=t.shouldCloseOnAction,i=t.isCancelDisabled
"function"!=typeof n||i||n(),r&&e.close()})),(0,l.default)((0,o.default)(e),"positionY",(function(){return setTimeout((function(){var t=e.props.type,n=(0,y.$)(".Modal",e.portal)
if(n&&"alert"!==t){var r=window.innerHeight,i=n.offsetHeight,a=r<=i||(r-i)/2<.2*r?"add":"remove"
n.classList[a]("is-v-centered")}}))})),(0,l.default)((0,o.default)(e),"focusOnInput",(function(){var t=(0,y.$)(".content input",e.portal)
t&&t.focus()})),(0,l.default)((0,o.default)(e),"onKeyDown",(function(t){var n=t.key,r=t.target,i=e.props,a=i.type,s=i.canClose,c=i.canCloseOnEsc,l=i.canConfirmOnEnter,u=i.onConfirm,d=e.state.isOpen,p=!!(0,y.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
"Escape"===n&&!r.matches("input, textarea, select")&&!p&&d&&s&&c&&!p&&0===(0,y.checkModalIndexInStack)((0,o.default)(e))&&e.close(),"Enter"!==n||r.matches("textarea, button")||p||!d||!l||0!==(0,y.checkModalIndexInStack)((0,o.default)(e))||!u&&"alert"!==a||e.onConfirm()})),(0,l.default)((0,o.default)(e),"onClickMask",(function(t){j(t)
var n=e.props,r=n.canClose,i=n.canCloseOnClickMask,a=!!(0,y.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
r&&i&&!a&&e.close()})),e}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.state.isOpen&&this.didOpen(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.state.isOpen
!n&&r?this.open():n&&!r&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose(),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.renderOpener()}},{key:"renderOpener",value:function(){var e=this.props,t=e.opener,n=e.openerType,r=this.state.isOpen,i=this.renderModal()
return"none"===n?i:"custom"===n?t?(0,u.jsxs)("span",{onClick:this.toggle,children:[t,i]}):i:"switch"===n?(0,u.jsx)(v.default,{isChecked:r,onChange:this.toggle,children:i}):(0,u.jsxs)(g.default,{type:n,onClick:this.open,children:[t,i]})}},{key:"renderModal",value:function(){return this.props.modal||(0,p.createPortal)(this.renderModalDOM(),this.portal)}},{key:"renderModalDOM",value:function(){
var e=this.props,t=e.type,n=e.title,r=e.children,i=e.maskClassName,a=e.className,o=e.canClose,s=e.canCloseOnClickMask,c=e.onCancel,l=e.cancelText,p=e.isCancelDisabled,h=e.onConfirm,m=e.confirmText,g=e.isConfirmDisabled,v="alert"===t&&o||c||h
return this.state.isOpen&&(0,u.jsxs)(d.Fragment,{children:[(0,u.jsx)("div",{className:(0,y.trimList)(["ModalMask",i,o&&s?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd}),(0,u.jsxs)("div",{className:(0,y.trimList)(["Modal",_[t],a]),onClick:j,onTransitionEnd:this.onModalTransitionEnd,children:[(0,u.jsxs)("header",{children:[n,o&&(0,u.jsx)("button",{className:"close-btn",onClick:this.close,children:(0,u.jsx)(b.default,{name:"times"})})]}),(0,u.jsx)("div",{
className:"content",children:r}),v&&(0,u.jsxs)("footer",{children:[c&&(0,u.jsx)("button",{className:"cancel-btn",onClick:this.onCancel,disabled:p,children:l}),("alert"===t||h)&&(0,u.jsx)("button",{className:"confirm-btn",onClick:this.onConfirm,disabled:g,children:m})]})]}),(0,u.jsx)(f.default,{target:document,onKeyDown:this.onKeyDown})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,m.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen}}}]),n}(d.PureComponent);(0,l.default)(O,"propTypes",{isOpen:h.default.bool,title:h.default.node,children:h.default.node,modal:h.default.node,type:h.default.oneOf(["alert","form","functional","display"]),opener:h.default.node,openerType:h.default.oneOf(["primary","regular","text","switch","custom","none"]),className:h.default.string,maskClassName:h.default.string,portalClassName:h.default.string,onOpen:h.default.func,onClose:h.default.func,
onToggle:h.default.func,onModalTransitionEnd:h.default.func,canClose:h.default.bool,canCloseOnClickMask:h.default.bool,shouldCloseOnAction:h.default.bool,canCloseOnEsc:h.default.bool,canConfirmOnEnter:h.default.bool,onConfirm:h.default.func,confirmText:h.default.string,isConfirmDisabled:h.default.bool,onCancel:h.default.func,isCancelDisabled:h.default.bool,cancelText:h.default.string}),(0,l.default)(O,"defaultProps",{isOpen:!1,type:"functional",openerType:"none",portalClassName:"",maskClassName:"",
className:"",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},onModalTransitionEnd:function(){return null},canClose:!0,canCloseOnClickMask:!0,canCloseOnEsc:!0,shouldCloseOnAction:!0,canConfirmOnEnter:!0,cancelText:w.cancel||"Cancel",confirmText:w.confirm||"Confirm"})
var k=O
t.default=k},,,function(e,t,n){"use strict"
var r=n(245)
e.exports=function(e,t,n){var i=null==e?void 0:r(e,t)
return void 0===i?n:i}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return Ue})),n.d(t,"a",(function(){return Re})),n.d(t,"d",(function(){return Fe})),n.d(t,"c",(function(){return Ye}))
var r=n(21),i=n(28),a=n(7),o=n.n(a),s=n(6),c=n.n(s),l=n(3),u=n.n(l),d=n(8),p=n.n(d),h=n(9),f=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n(5),y=n(1),x=n.n(y),w=n(11),j=n.n(w),S=n(70),C=n.n(S),_=n(4),O=n.n(_),k=n(98),M=n(284),E={value:"",startValue:"",isEditing:!1},T=function(e,t){var n=t.onStart,r=t.onChange,i=t.onEnd;(e=O()(O()({},E),e)).startValue=e.value
var a=Object(M.createStateStore)(e),o=a.subscribe,s=a.unsubscribe,c=a.getState,l=a.setState
return{subscribe:o,unsubscribe:s,getState:c,startEdit:function(){l({isEditing:!0}),n&&n(c()),l({startValue:c().value})},endEdit:function(){l({isEditing:!1}),i&&i(c())},setValue:function(e){c().isEditing&&(l({value:e}),r&&r(c()))}}},A=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
o()(this,n),r=t.call(this,e)
var i=function(e,t){r.setState(e),!t.isEditing&&e.isEditing&&setTimeout(r.focusTextarea,0)}
r.bindEditStore=function(e){r.setState(e.getState()),e.subscribe(i)},r.unbindEditStore=function(e){e.unsubscribe(i)},r.onChange=function(e){return r.props.textEditStore.setValue(e)},r.onKeyDown=function(e){("Enter"===e.key||13===e.which)&&(!r.props.multiline||!e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),r.props.textEditStore.endEdit())}
var a=null
return r.setRef=function(e){a=e&&e.querySelector("textarea")},r.focusTextarea=function(){if(a){a.focus&&a.focus()
var e=a.value.length
a.setSelectionRange(e,e)}},r.autoHeightTextarea=function(){r.props.autoHeight&&a&&(a.style.height="auto",a.style.height="".concat(Math.max(a.scrollHeight+2,a.offsetHeight,r.props.minHeight),"px"))},r}return c()(n,[{key:"componentDidMount",value:function(){this.bindEditStore(this.props.textEditStore),this.focusTextarea()}},{key:"componentDidUpdate",value:function(e){this.props.textEditStore!==e.textEditStore&&(this.unbindEditStore(e.textEditStore),this.bindEditStore(this.props.textEditStore)),
this.autoHeightTextarea()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=void 0===t?"":t,r=e.textEditStore.getState().value
return Object(v.jsx)(D,{ref:this.setRef,children:Object(v.jsx)(k.Textarea,{value:r,placeholder:n,rows:1,onChange:this.onChange,onKeyDown:this.onKeyDown})})}}]),n}(b.PureComponent)
g()(A,"propTypes",{textEditStore:x.a.object.isRequired,placeholder:x.a.string,multiline:x.a.bool,autoHeight:x.a.bool,minHeight:x.a.number})
var D=j.a.div.withConfig({displayName:"TextEditComponent__HackStyleDiv",componentId:"chhddf-0"})(["&&& label{width:100%;}&&& textarea{font-size:12px;resize:none;background-color:",";border:1px solid ",";color:",";caret-color:",";box-shadow:",";&::placeholder{color:",";}&:enabled:not([readonly]):focus{background-color:",";}}"],(function(e){return e.theme.preview.comment.layer.reply_item_bg}),(function(e){return e.theme.preview.comment.layer.reply_border}),(function(e){return e.theme.common.text_3.cr
}),(function(e){return e.theme.common.icon_10.cr}),(function(e){return e.theme.preview.comment.layer.reply_shadow}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.common.bg.select_bg})),N=function(e,t,n){return Object(v.jsx)(I,{disabled:n,className:"btn-wrap",children:Object(v.jsx)(C.a,{type:"primary",onClick:t,disabled:n,children:e})})},I=j.a.span.withConfig({displayName:"DarkerButton__StyledButton",componentId:"sc-6n8osh-0"
})(["&{height:100%;button{height:100%;background-color:",";color:",";&.is-disabled{opacity:1;}&:not(.is-disabled):hover{background-color:",";}&:not(.is-disabled):active{background-color:",";color:rgba(255,255,255,0.6);}}}"],(function(e){return e.disabled?e.theme.preview.comment.layer.reply_btn_disabled:e.theme.preview.comment.layer.reply_btn}),(function(e){return e.disabled?e.theme.preview.comment.layer.reply_btn_disabled_tc:"#fff"}),(function(e){return e.theme.preview.comment.layer.reply_btn
}),(function(e){return e.theme.preview.comment.layer.reply_btn_active})),P=n(50),L=n(44),F=n.n(L),B=n(72),R=n.n(B),U=n(126),z=n.n(U),H=n(14),G=n(285)
function V(){var e=F()(["\n  #IBOT_TOOLTIP_ROOT .TipBase .Tip {\n    .arrow svg {\n      fill: ",";\n    }\n\n    .content {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])
return V=function(){return e},e}function W(){var e=F()(["\n  .comment-header-delete,\n  .comment-header-edit {\n    box-shadow: ",";\n\n    .content {\n      background-color: ",";\n    }\n\n    .arrow {\n      color: ",";\n    }\n\n    li {\n      color: ",";\n\n      &:not(.is-disabled):hover {\n        color: ",";\n        background-color: "," !important;\n      }\n    }\n  }\n  .comment-header-delete li:hover { color: #eb5648; }\n"])
return W=function(){return e},e}var Y=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentFooterDiv",componentId:"sc-1nso69d-0"})(["display:flex;align-items:center;justify-content:space-between;padding:0 10px 10px;line-height:20px;color:",";opacity:0.75;"],(function(e){return e.theme.common.text_20.cr})),q=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ReplyToggleDiv",componentId:"sc-1nso69d-1"
})(["cursor:pointer;color:",";&:hover,&:active{color:",";}> span{margin-right:6px;opacity:0.5;}"],(function(e){return e.theme.common.text_19.cr}),(function(e){return e.theme.common.text_20.hover})),Z=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ReplyDropdownDiv",componentId:"sc-1nso69d-2"})(["padding:10px 0;background:",";span.btn-wrap{width:100%;height:24px;font-size:12px;.PrimaryButton{width:100%;height:100%;}}"],(function(e){return e.theme.common.bg.input_bg})),X=function(e){
var t=e.sub,n=e.comment,r=e.textEditStore,i=e.cancelEdit
return Object(v.jsx)(J,{className:t?"sub":"",children:r?Object(v.jsxs)(Q,{children:[Object(v.jsx)(A,{textEditStore:r,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),Object(v.jsxs)($,{children:[Object(v.jsx)(C.a,{onClick:i,children:I18N.pComment.cancelEdit}),Object(v.jsx)(C.a,{type:"primary",onClick:r.endEdit,children:I18N.pComment.updateEdit})]})]}):Object(v.jsx)(K,{children:n.message})})}
X.propTypes={sub:x.a.bool,comment:x.a.object,textEditStore:x.a.object,cancelEdit:x.a.func}
var J=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentMessageDiv",componentId:"sc-1nso69d-3"})(["display:flex;flex-flow:column;width:100%;height:auto;color:",";white-space:nowrap;text-overflow:ellipsis;span{padding:10px;}&.sub span{padding:0 10px 10px;}"],(function(e){return e.theme.common.text_26.cr})),K=j.a.span.withConfig({displayName:"CommentLayerThreadContent__EditableSpanSpan",componentId:"sc-1nso69d-4"
})(["user-select:text;word-break:break-all;white-space:pre-line;text-overflow:ellipsis;"]),Q=j.a.div.withConfig({displayName:"CommentLayerThreadContent__EditableSpanDiv",componentId:"sc-1nso69d-5"})(["background:",";> textarea{margin-bottom:5px;padding:10px;border:1px solid #d3dce6;}"],(function(e){return e.theme.common.bg.input_bg})),$=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ButtonPanelDiv",componentId:"sc-1nso69d-6"
})(["display:flex;justify-content:flex-end;width:100%;> button{width:60px;height:24px;font-size:12px;margin-left:10px;}.RegularButton{color:",";background:",";&:hover{color:",";background:",";}&:active{color:",";}}.PrimaryButton{color:",";background:",";&:hover{background:",";}}"],(function(e){return e.theme.preview.comment.layer.cancel_btn.cr}),(function(e){return e.theme.preview.comment.layer.cancel_btn.bg}),(function(e){return e.theme.preview.comment.layer.cancel_btn.hover.cr}),(function(e){
return e.theme.preview.comment.layer.cancel_btn.hover.bg}),(function(e){return e.theme.preview.comment.layer.cancel_btn.active.cr}),(function(e){return e.theme.common.text_32.cr}),(function(e){return e.theme.preview.comment.layer.confirm_btn.bg}),(function(e){return e.theme.preview.comment.layer.confirm_btn.hover.bg})),ee=function(e){var t=e.sub,n=e.avatar,r=e.name,i=e.markIndex,a=e.startEdit,o=e.doDelete
return Object(v.jsxs)(te,{className:t?"sub":"",children:[Object(v.jsxs)(ie,{children:[Object(v.jsx)("img",{src:n,width:24,height:24}),Object(v.jsxs)("div",{children:[i&&Object(v.jsx)("span",{className:"index",children:"#".concat(i)}),Object(v.jsx)("span",{className:"name",children:r})]})]}),Object(v.jsxs)(ne,{children:[a&&Object(v.jsx)(ae,{onSelect:a,menuClassName:"comment-header-edit",iconName:"cog",text:I18N.pComment.modify_edit}),o&&Object(v.jsx)(ae,{onSelect:o,menuClassName:"comment-header-delete",
iconName:"trash",text:I18N.pComment.modify_delete})]})]})}
ee.propTypes={avatar:x.a.string,name:x.a.string,markIndex:x.a.number,startEdit:x.a.func,doDelete:x.a.func,sub:x.a.bool}
var te=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderDiv",componentId:"sc-1nso69d-7"})(["display:flex;justify-content:space-between;padding-bottom:10px;width:100%;&.sub{padding:10px;}"]),ne=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderEditDiv",componentId:"sc-1nso69d-8"})(["display:flex;align-items:center;.icon{color:",";margin-left:5px;&:hover,&:active{color:",";;}}"],(function(e){return e.theme.preview.comment.layer.icon}),(function(e){
return e.theme.preview.comment.layer.icon_hover})),re=Object(w.createGlobalStyle)(W(),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.dropdown.list.bg}),(function(e){return e.theme.dropdown.list.bg}),(function(e){return e.theme.common.text_26.cr}),(function(e){return e.theme.dropdown.list.tc}),(function(e){return e.theme.dropdown.list.hover_bg})),ie=j.a.div.withConfig({displayName:"CommentLayerThreadContent__UserInfoDiv",componentId:"sc-1nso69d-9"
})(["display:flex;height:24px;> img{margin-right:10px;border-radius:100%;}> div{display:flex;flex-flow:column;justify-content:center;max-height:24px;font-weight:bold;line-height:12px;.index{vertical-align:middle;color:#f55d54;}.name{max-width:140px;color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}"],(function(e){return e.theme.common.text_23.cr})),ae=function(e){var t=e.onSelect,n=e.text,r=e.iconName,i=e.menuClassName
return Object(v.jsx)(R.a,{content:{hover:n},duration:1e3,position:"left",children:Object(v.jsx)(z.a,{opener:Object(v.jsx)(H.b,{type:"dora",name:r}),onSelect:t,menuClassName:i,menuList:[n],menuX:"right",arrowed:!0})})}
ae.propTypes={onSelect:x.a.func.isRequired,text:x.a.string.isRequired,iconName:x.a.string.isRequired,menuClassName:x.a.string.isRequired}
var oe=Object(w.createGlobalStyle)(V(),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.text_14.cr})),se=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),(r=t.call(this,e)).focusThread=function(){return!r.props.isScrollFocus&&r.props.commentOperations.setHoverFocusCommentThreadCid(r.props.commentThreadCid)},r.blurThread=function(){return r.props.isBlur&&r.props.commentOperations.setHoverFocusCommentThreadCid(null)},r.setRef=function(e){r.mainRef=e},r.mainRef=null,r.toggleUnfoldComment=function(){r.setState({isUnfold:!r.state.isUnfold}),MB.event("preview","展开评论")},r.state={isUnfold:!1},r}return c()(n,[{key:"componentDidUpdate",
value:function(e){if(this.props.commentList.length>e.commentList.length&&this.setState({isUnfold:!0}),this.props.isScrollFocus&&this.props.isScrollFocus!==e.isScrollFocus&&this.mainRef){var t=this.mainRef.parentElement,n=t.getBoundingClientRect().top,r=t.scrollTop+this.mainRef.getBoundingClientRect().top-n
Object(P.i)(t,r,20)}}},{key:"render",value:function(){var e=this.props,t=e.commentList,n=e.permission,r=e.commentMarkerIndex,i=e.commentOperations,a=e.isBlur
if(!t.length)return null
var o=this.state.isUnfold,s=t[0],c=t.length>3,l=o||!c?t.slice(1):t.slice(1,3)
return Object(v.jsxs)(ce,{ref:this.setRef,className:a?"comment-blur":"",onMouseEnter:this.focusThread,onMouseLeave:this.blurThread,children:[Object(v.jsx)(ue,{markIndex:r,comment:s,permission:n,commentOperations:i}),l.map((function(e){return Object(v.jsx)(ue,{sub:!0,comment:e,permission:i.getPermission(e.user_id),commentOperations:i},e.cid)})),c&&Object(v.jsx)("div",{className:"unfold",onClick:this.toggleUnfoldComment,children:o?I18N.pComment.fold:I18N.pComment.unfold})]})}}]),n}(b.PureComponent)
g()(se,"propTypes",{permission:x.a.object,isScrollFocus:x.a.bool,isBlur:x.a.bool,commentList:x.a.array,commentMarkerIndex:x.a.number,commentThreadCid:x.a.string,commentOperations:x.a.object})
var ce=j.a.div.withConfig({displayName:"CommentLayerThread__CommentThreadDiv",componentId:"sc-4xo0vr-0"})(["width:220px;padding:20px 0;&.comment-blur{opacity:0.4;}& > .unfold{cursor:pointer;display:flex;justify-content:flex-end;color:",";&:hover{color:",";}}"],(function(e){return e.theme.common.icon_15.cr}),(function(e){return e.theme.common.icon_15.hover})),le=j.a.div.withConfig({displayName:"CommentLayerThread__EntryMainBgDiv",componentId:"sc-4xo0vr-1"
})(["width:100%;margin-bottom:10px;border-radius:4px;background:",";"],(function(e){return e.theme.preview.comment.layer.entryMain_bg})),ue=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),(r=t.call(this,e)).operationPack={getCommentValue:function(){return r.props.comment.message},doCreateComment:function(e){return e&&r.props.commentOperations.doCreateComment(e,r.props.comment.thread_cid)},doUpdateComment:function(e){return r.props.commentOperations.doUpdateComment({cid:r.props.comment.cid,message:e})},doDeleteCard:function(){
return r.props.sub?r.props.commentOperations.doDeleteComment(r.props.comment):r.props.commentOperations.doDeleteCommentThread(r.props.comment.thread_cid)}},r.startEdit=function(){r.setState({editStore:T({value:r.operationPack.getCommentValue(),isEditing:!0},{onEnd:function(e){var t=e.value
t=(t||"").trim(),r.operationPack.doUpdateComment(t),r.closeEdit()}})}),MB.event("preview","二次编辑")},r.closeEdit=function(){return r.setState({editStore:null})},r.startReply=function(){return r.setState({replyStore:T({isEditing:!0},{onChange:function(e){var t=e.value
return r.setState({isValidReply:Boolean(t)})},onEnd:function(e){var t=e.value;(t=(t||"").trim())&&r.operationPack.doCreateComment(t),r.closeReply()}})})},r.closeReply=function(){return r.setState({replyStore:null,isValidReply:!1})},r.state={editStore:null,replyStore:null,isValidReply:!1},r}return c()(n,[{key:"render",value:function(){
var e=this.props,t=e.sub,n=e.markIndex,r=e.comment,i=e.permission,a=e.commentOperations,o=this.state,s=o.editStore,c=o.replyStore,l=o.isValidReply,u=a.getUserProfile(r.user_id),d=u.avatar,p=u.name,h=Object(v.jsx)(X,{sub:t,comment:r,textEditStore:s,cancelEdit:this.closeEdit}),f=!s&&function(e,t,n,r,i){return[Object(v.jsxs)(Y,{children:[Object(G.a)().parseTimeAgo(1e3*e.updated_at),r&&Object(v.jsxs)(q,{onClick:t?i:r,children:[Object(v.jsx)(H.b,{type:"dora",name:"reply"
}),t?I18N.pComment.cancel_reply:I18N.pComment.comment_create]})]},"footer"),t&&Object(v.jsxs)(Z,{children:[Object(v.jsx)(A,{textEditStore:t,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),N(I18N.pComment.comment_create,t.endEdit,!n)]},"reply")]}(r,c,l,i.create&&this.startReply,this.closeReply),m=t?s?"sub remove-background":"sub":""
return Object(v.jsxs)(de,{className:m,children:[Object(v.jsx)(ee,{sub:t,avatar:d,name:p,markIndex:n,startEdit:!s&&i.update?this.startEdit:null,doDelete:!s&&i.delete?this.operationPack.doDeleteCard:null}),!t&&Object(v.jsxs)(le,{children:[h,f]}),t&&h,t&&f]})}}]),n}(b.PureComponent)
g()(ue,"propTypes",{sub:x.a.bool,markIndex:x.a.number,comment:x.a.object.isRequired,permission:x.a.object.isRequired,commentOperations:x.a.object.isRequired})
var de=j.a.div.withConfig({displayName:"CommentLayerThread__CommentCardDiv",componentId:"sc-4xo0vr-2"})(["display:flex;flex-flow:column;border-radius:4px;&.sub{margin:0 0 10px 20px;width:200px;background:",";}&.remove-background{background:",";}"],(function(e){return e.theme.preview.comment.layer.entryMain_bg}),(function(e){return e.theme.common.bg.input_bg})),pe=function(e){e&&e.preventDefault(),e&&e.stopPropagation()},he=function(e){return function(t){return pe(t),e&&e(t)}
},fe=[0,1,2,3,4,5,6,7].map((function(e){return{create:!!(1&e),update:!!(2&e),delete:!!(4&e)}})),me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INVALID_ID_0",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"INVALID_ID_1",i=e,a=i&&r===n,o=a||t,s=(i?1:0)+(a?2:0)+(o?4:0)
return fe[s]},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return(e=e&&String(e))?t.some((function(t){return String(t.user_id)===e}))?"MEMBER":"NOT_MEMBER":"NOT_SIGN_IN"},ve=document.createElement("div")
ve.id="PREVIEW_COMMENT_ADD_ARROW"
var be=document.createElement("span"),ye=function(){ve.appendChild(be),be.innerText=I18N.pComment.cursor_text,be.setAttribute("style","background: rgba(31,41,46,0.74);border: 1px solid rgba(0,0,0,0.20);box-shadow: 0 2px 4px 0 rgba(0,0,0,0.38);border-radius: 2px;width: 88px;height: 24px;line-height: 24px;text-align: center;color: #fff;margin-left: 7px;"),ve.setAttribute("style","position:absolute;width:115px;top:9999px;left:999px;display: flex;pointer-events: none"),document.body.appendChild(ve)
},xe=function(e){e.target.classList.contains("comment-index")||(ve.style.left="".concat(e.clientX+18,"px"),ve.style.top="".concat(e.clientY-3,"px"))},we=function(){ve.style.left="99999px",ve.style.top="99999px"},je=function(){document.body.removeChild(ve)},Se=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
o()(this,n),r=t.call(this,e),g()(u()(r),"renderContentReply",(function(){var e=r.props.permissionPack.userAuthStatus,t=r.state.isValidReply
return Object(v.jsxs)("div",{className:"reply-footer",children:["MEMBER"===e&&Object(v.jsx)(A,{textEditStore:r.replyStore,placeholder:I18N.pComment.comment_placeholder,minHeight:20,autoHeight:!0,multiline:!0}),"MEMBER"===e&&N(I18N.pComment.thread_create,(function(){MB.event("zhuge","Comment_Add_Comment"),r.replyStore.endEdit()}),!t),"NOT_SIGN_IN"===e&&Object(v.jsx)(C.a,{onClick:_e,theme:"core",children:I18N.pComment.tip_signin}),"NOT_MEMBER"===e&&Object(v.jsx)("span",{
children:I18N.pComment.tip_not_collaborator})]})}))
var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return r.props.focusCommentThreadCid!==e&&r.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:e,focusSource:"panel"}})}
return r.commentOperations={getPermission:function(e){return r.props.permissionPack.getPermission(e)},getUserProfile:function(e){return r.props.getUserProfile(e)},setHoverFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return!r.props.tempCommentThreadMarker&&i(e)},doDeleteCommentThread:function(e){return r.props.dispatch({type:"entry:comment-threads:delete",payload:{cid:e}})},doDeleteComment:function(e){return r.props.dispatch({type:"comments:delete",payload:e})},doUpdateComment:function(e){return r.props.dispatch({type:"entry:comments:update",payload:e})},doCreateComment:function(e,t){return e&&r.props.dispatch({type:"entry:comments:add",payload:{thread_cid:t,message:e}})}},r.doCreateCommentThread=function(e){
var t=r.props.tempCommentThreadMarker||{top:0,left:0},n=t.left,i=t.top
e&&r.props.dispatch({type:"entry:comment-threads:add",payload:{top:i,left:n,message:e}}),setTimeout((function(){r.scrollRef&&(r.scrollRef.scrollTop=r.scrollRef.scrollHeight-r.scrollRef.offsetHeight)}),0)},r.replyStore=T({isEditing:!0},{onChange:function(e){var t=e.value
return r.setState({isValidReply:Boolean(t)})},onEnd:function(e){var t=e.value,n=void 0===t?"":t
r.doCreateCommentThread(n.trim()),r.resetReply()}}),r.resetReply=function(){r.replyStore.startEdit(),r.replyStore.setValue(""),r.setState({isValidReply:!1})},r.focusReply=function(){r.replyStore.endEdit(),r.replyStore.startEdit()},r.setScrollRef=function(e){r.scrollRef=e},r.scrollRef=null,r.state={isValidReply:!1},r}return c()(n,[{key:"componentDidMount",value:function(){!this.props.isLoaded&&this.props.dispatch({type:"entry:comment:init-project-data"})
var e=AutoSaver.getSaver("saver:rails-fetch")
e&&(this.prevAutoSaverDelay=e.getState().autoSaveDelay,e.setAutoSaveDelay(500))}},{key:"componentDidUpdate",value:function(e){this.props.tempCommentThreadMarker&&!e.tempCommentThreadMarker&&this.focusReply()}},{key:"componentWillUnmount",value:function(){var e=AutoSaver.getSaver("saver:rails-fetch")
e&&e.setAutoSaveDelay(this.prevAutoSaverDelay),this.props.dispatch({type:"container:comment:reset:state"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.screenName,r=t.commentThreadList,i=t.commentListMap,a=t.permissionPack,o=t.isLoaded,s=t.focusCommentThreadCid,c=t.focusSource,l=t.tempCommentThreadMarker
if(!o)return Object(v.jsx)(Ce,{})
var u=s||l&&l.cid,d=0!==r.length
return Object(v.jsxs)(Ce,{children:[d&&Object(v.jsx)("div",{className:"comment-title",children:"".concat(n," (").concat(r.length,")")}),d&&Object(v.jsx)("div",{ref:this.setScrollRef,className:"comment-thread",children:r.map((function(t,n){var r=i[t.cid]||[],a=n+1,o="marker"===c&&u===t.cid,s="marker"===c&&null!==u&&!o
return Object(v.jsx)(se,{commentThreadCid:t.cid,commentMarkerIndex:a,isScrollFocus:o,isBlur:s,commentList:r,permission:e.commentOperations.getPermission(t.user_id),commentOperations:e.commentOperations},t.cid)}))}),!d&&Object(v.jsxs)("div",{className:"comment-thread-empty",children:[Object(v.jsx)("img",{src:MB.preference()&&"dark"===MB.preference().theme?"/mb-workspace/images/preview/no-comment-dark.png":"/mb-workspace/images/preview/no-comment-light.png"}),Object(v.jsx)("h3",{
children:I18N.pComment.add_comment}),Object(v.jsx)("span",{children:a.permissionDenyMessage||("NOT_SIGN_IN"===a.userAuthStatus?I18N.pComment.thread_none_tip_signin:I18N.pComment.thread_none_tip)})]}),a.isProjectAllowComment?this.renderContentReply():d?Object(v.jsx)("div",{className:"reply-footer",children:Object(v.jsx)("span",{children:I18N.pComment.comment_deny_permission})}):null,Object(v.jsx)(re,{}),Object(v.jsx)(oe,{})]})}}]),n}(b.PureComponent)
g()(Se,"propTypes",{isLoaded:x.a.bool,permissionPack:x.a.object,getUserProfile:x.a.func,screenName:x.a.string,commentThreadList:x.a.array,commentListMap:x.a.object,focusCommentThreadCid:x.a.string,focusSource:x.a.string,tempCommentThreadMarker:x.a.object,dispatch:x.a.func})
var Ce=j.a.div.withConfig({displayName:"CommentLayer__CommentPanelDiv",componentId:"a49l66-0"
})(["position:relative;display:flex;flex-flow:column;width:260px;height:100%;font-size:12px;background-color:",";box-shadow:0 -2px 30px rgba(39,54,78,0.11);z-index:1;& > .comment-title{display:flex;align-items:center;height:50px;margin:0 20px;border-bottom:1px solid ",";color:",";}& > .comment-thread{flex:1;overflow-y:auto;padding:0 20px;}& > .comment-thread-empty{flex:1;display:flex;flex-flow:column;align-items:center;justify-content:center;color:",";& > img{width:93px;margin:0 10px;}& > h3{padding:10px;}& > span{padding:0 10px;text-align:center;}}& > .reply-footer{display:flex;align-items:flex-end;background:",";border-top:1px solid ",";padding:10px 14px;box-shadow:",";color:",";& > div{margin:0 8px -4px 0;width:174px;max-height:120px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;}}}& > button{flex:1;height:28px;font-size:12px;}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.common.bg.input_bg}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.preview.comment.layer.box_shadow}),(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.preview.comment.layer.placeholder})),_e=function(){
window.location.href="/signin?next=".concat(window.location.pathname)},Oe=n(22),ke=n.n(Oe),Me=n(185),Ee=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
o()(this,n),r=t.call(this,e)
var i={isDragging:!1,position:{left:0,top:0}},a=O()(O()({},Ae),{},{mousemove:he((function(e){var t=r.props,n=t.commentThread,i=t.markerOperations.getMarkerPosition(e);(r.state.isDragging||function(e,t){var n=e.left-t.left,r=e.top-t.top
return n*n+r*r>=225}(n,i))&&r.setState({isDragging:!0,position:i})})),mouseup:he((function(e){if(c(),r.state.isDragging){var t=r.props,n=t.commentThread,a=t.markerOperations
a.doUpdateCommentThread(O()({cid:n.cid},a.getMarkerPosition(e)))}else setTimeout((function(){var e=r.props,t=e.isFocus,n=e.commentThread
e.markerOperations.setFocusCommentThreadCid(t?null:n.cid)}),0)
r.setState(i)})),mouseleave:function(){c(),r.props.markerOperations.setHoverFocusCommentThreadCid(null),r.setState(i)}}),s=O()(O()({},Ae),{},{mouseup:a.mouseup}),c=function(){return r.props.markerOperations.removeContainerEventListener(r.props.isEditable?a:s)}
return r.markerListenerMap={onMouseDown:he((function(){return r.props.markerOperations.addContainerEventListener(r.props.isEditable?a:s)})),onMouseEnter:he((function(){return!r.props.isFocus&&r.props.markerOperations.setHoverFocusCommentThreadCid(r.props.commentThread.cid)})),onMouseLeave:he((function(){return r.props.isFocus&&r.props.markerOperations.setHoverFocusCommentThreadCid(null)})),onMouseUp:pe,onDoubleClick:pe,onClick:pe},r.state=i,r}return c()(n,[{key:"render",value:function(){
var e=this.props,t=e.commentThread,n=e.scale,r=e.isFocus,i=e.isFade,a=e.commentMarkerIndex,o=this.state,s=o.isDragging,c=o.position
return Object(v.jsx)(Te,{className:r?"focus":!r&&i?"fade":"",style:{left:"".concat((s?c.left:t.left)*n,"px"),top:"".concat((s?c.top:t.top)*n,"px")},children:Object(v.jsx)("span",O()(O()({tabIndex:a},this.markerListenerMap),{},{className:"comment-index",children:a}))})}}]),n}(b.PureComponent)
g()(Ee,"propTypes",{commentMarkerIndex:x.a.number.isRequired,commentThread:x.a.object.isRequired,scale:x.a.number.isRequired,isEditable:x.a.bool,isFocus:x.a.bool,isFade:x.a.bool,markerOperations:x.a.object.isRequired})
var Te=j.a.div.withConfig({displayName:"CommentMarkerPanelMarker__CommentMarkerDiv",componentId:"sc-17otudw-0"
})(["position:absolute;width:","px;height:","px;overflow:visible;& > span{display:flex;justify-content:center;align-items:center;cursor:pointer;outline:none;margin-left:","px;margin-top:","px;width:","px;height:","px;font-size:14px;line-height:","px;box-shadow:0 2px 10px rgba(108,0,0,0.22);border:2px solid #fff;border-radius:100%;background:#ff7100;color:#fbfbfc;transition:all 0.1s ease-in;transform:scale(1);}&.focus > span{transform:scale(1.21);}&.fade > span{opacity:0.5;}"],0,0,-14,-14,28,28,28),Ae={
mouseup:pe,mousedown:pe,mousemove:pe,mouseleave:pe,mouseout:pe,click:pe,dblclick:pe}
var De=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),g()(u()(r),"handleMouseOut",(function(e){e.target.classList.contains("comment-index")||we()})),r.$container=document.querySelector("#simulator-container"),r}return c()(n,[{key:"componentDidMount",value:function(){ye(),this.$container.addEventListener("mousemove",xe),this.$container.addEventListener("mouseleave",we),this.$container.addEventListener("mouseout",this.handleMouseOut)}},{key:"componentWillUnmount",value:function(){je(),
this.$container.removeEventListener("mousemove",xe),this.$container.removeEventListener("mouseleave",we),this.$container.removeEventListener("mouseout",this.handleMouseOut)}},{key:"render",value:function(){return null}}]),n}(b.PureComponent),Ne=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
o()(this,n),(r=t.call(this,e)).addTempCommentThreadListener=he((function(e){var t=r.props,n=t.isActive,i=t.permissionPack,a=t.markerDomPack,o=t.dispatch
n&&i.getPermission().create&&Ie(e,a.getSimulatorContainerElement().getBoundingClientRect())&&o({type:"container:comment:focus-temp-marker",payload:O()(O()({},r.markerOperations.getMarkerPosition(e)),{},{cid:"TEMP_MARKER_CID"})})}))
var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return r.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:e,focusSource:"marker"}})}
return r.markerOperations={addContainerEventListener:function(e){var t=r.props.markerDomPack.getSimulatorContainerElement()
t&&Object.entries(e).forEach((function(e){var n=ke()(e,2),r=n[0],i=n[1]
return t.addEventListener(r,i)}))},removeContainerEventListener:function(e){var t=r.props.markerDomPack.getSimulatorContainerElement()
t&&Object.entries(e).forEach((function(e){var n=ke()(e,2),r=n[0],i=n[1]
return t.removeEventListener(r,i)}))},setFocusCommentThreadCid:i,setHoverFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return!r.props.tempCommentThreadMarker&&i(e)},doUpdateCommentThread:function(e){var t=e.cid,n=e.top,i=e.left
return r.props.dispatch({type:"TEMP_MARKER_CID"!==t?"entry:comment-threads:update":"container:comment:focus-temp-marker",payload:{cid:t,top:n,left:i}})},getMarkerPosition:function(e){var t=r.props,n=t.scale,i=t.markerDomPack,a=i.getScreenContainerElement().getBoundingClientRect(),o=i.getSimulatorContainerElement().getBoundingClientRect()
return{left:(Object(Me.clamp)(e.clientX,o.left+20,o.right-20)-a.left)/n,top:(Object(Me.clamp)(e.clientY,o.top+20,o.bottom-20)-a.top)/n}}},r}return c()(n,[{key:"componentDidMount",value:function(){this.props.isActive&&this.toggleEventListener(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.isActive
t!==e.isActive&&this.toggleEventListener(t)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch
this.toggleEventListener(!1),e({type:"container:comment:focus-temp-marker",payload:null})}},{key:"toggleEventListener",value:function(e){var t=this.props.markerDomPack.getSimulatorContainerElement()
t&&(e?t.addEventListener("dblclick",this.addTempCommentThreadListener):t.removeEventListener("dblclick",this.addTempCommentThreadListener))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,r=t.scale,i=t.permissionPack,a=t.commentThreadList,o=t.isLoaded,s=t.focusCommentThreadCid,c=t.tempCommentThreadMarker
return n&&o?Object(v.jsxs)("div",{children:[Object(v.jsx)(De,{}),a.map((function(t,n){var a=Boolean(!c&&s===t.cid),o=Boolean(c||s&&!a)
return Object(v.jsx)(Ee,O()({},{commentMarkerIndex:n+1,commentThread:t,scale:r,isEditable:i.getPermission(t.user_id).update,isFocus:a,isFade:o,markerOperations:e.markerOperations}),t.cid)})),c&&Object(v.jsx)(Ee,O()({},{commentMarkerIndex:a.length+1,commentThread:c,scale:r,isEditable:!0,isFocus:!0,isFade:!1,markerOperations:this.markerOperations}))]}):null}}]),n}(b.PureComponent)
g()(Ne,"propTypes",{scale:x.a.number,isActive:x.a.bool,isLoaded:x.a.bool,permissionPack:x.a.object,markerDomPack:x.a.object,commentThreadList:x.a.array,focusCommentThreadCid:x.a.string,tempCommentThreadMarker:x.a.object,dispatch:x.a.func})
var Ie=function(e,t){var n=t.left,r=t.top,i=t.width,a=t.height
return n<=e.clientX&&r<=e.clientY&&n+i>=e.clientX&&r+a>=e.clientY},Pe=n(119),Le={loadedProjectCid:null,loadedProjectCommentData:null,focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:null}
function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"container:comment:loaded-project":return O()(O()({},e),{},{loadedProjectCid:r.projectCid||null,loadedProjectCommentData:r.projectCommentData||null})
case"container:comment:focus":return O()(O()({},e),{},{focusCommentThreadCid:r.focusCommentThreadCid,focusSource:r.focusSource||null,tempCommentThreadMarker:e.tempCommentThreadMarker&&e.tempCommentThreadMarker.cid===r.focusCommentThreadCid?e.tempCommentThreadMarker:null})
case"container:comment:focus-temp-marker":return O()(O()({},e),{},{focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:r})
case"container:comment:reset:state":return Le}return e}var Be=n(16),Re=Object(r.connect)((function(e){var t=e.model,n=t.user.id,r=t.commentThreads,i=t.comments,a=e.container.comment,o=a.loadedProjectCid,s=a.loadedProjectCommentData,c=a.focusCommentThreadCid,l=a.focusSource,u=a.tempCommentThreadMarker,d=Object(Be.c)(e),p=Object(Be.g)(e)
return{isLoaded:o===d.cid,permissionPack:Ge(d,n,s),getUserProfile:Ve(s),screenName:p.name,commentThreadList:ze(r,p.cid),commentListMap:He(i),focusCommentThreadCid:c,focusSource:l,tempCommentThreadMarker:u}}))(Se),Ue=Object(r.connect)((function(e){var t=e.model,n=t.user.id,r=t.commentThreads,i=e.container.comment,a=i.loadedProjectCid,o=i.loadedProjectCommentData,s=i.focusCommentThreadCid,c=i.tempCommentThreadMarker,l=Object(Be.c)(e),u=Object(Be.g)(e)
return{isLoaded:a===l.cid,permissionPack:Ge(l,n,o),markerDomPack:We(u.cid),commentThreadList:ze(r,u.cid),focusCommentThreadCid:s,tempCommentThreadMarker:c}}))(Ne),ze=Object(i.i)((function(e,t){return e.filter((function(e){return e.screen_cid===t}))})),He=Object(i.i)((function(e){return e.reduce((function(e,t){return void 0===e[t.thread_cid]?e[t.thread_cid]=[t]:e[t.thread_cid].push(t),e}),{})})),Ge=Object(i.i)((function(e,t,n){if(!n)return{isProjectAllowComment:!1,getPermission:function(){return!1},
permissionDenyMessage:"",userAuthStatus:ge(t,[])}
var r,i=n.isProjectAllowComment,a=n.projectAccessMap,o=n.teamAccessMap,s=n.orgAccessMap,c=n.memberList,l=[a[t],o[t],s[t]].filter(Boolean).join("|"),u=Boolean(l),d=l.includes("project_owner")||l.includes("project_team_owner"),p=me()
return{isProjectAllowComment:i,getPermission:i?function(e){return me(u,d,t,e)}:function(){return p},permissionDenyMessage:i?"":(r=Ye(e),Object(Pe.a)("comment_".concat(r),{action:"comment_".concat(r)})),userAuthStatus:ge(t,c)}})),Ve=Object(i.i)((function(e){var t=e&&e.memberList.reduce((function(e,t){var n=t.user_id,r=t.avatar,i=t.name
return e[n]={avatar:r,name:i},e}),{})||{}
return function(e){return t[e]||{name:I18N.pComment.user_name_ghost,avatar:"/mb-workspace/images/avatar.png"}}})),We=Object(i.i)((function(e){return{getScreenContainerElement:function(){return document.querySelector("#pscreen".concat(e," .scontainer"))},getSimulatorContainerElement:function(){return document.querySelector("#simulator-container")}}})),Ye=function(e){return e?e.limitation.commentable?"org_member"!==e.comment_permission?"deny_permission":"allow":"deny_limitation":"deny"}},function(e,t,n){
"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}))
var r=n(4),i=n.n(r),a=n(22),o=n.n(a),s=n(162),c=n(139),l=function(e){return function(e){return!!s[e.model]}(e)?"device":"none"},u=function(e,t,n){var r,i,a=p(e,t),s="landscape"===n
if("device"===t&&a.bg){var c=s?[a.height,a.width]:[a.width,a.height],l=o()(c,2)
r=l[0],i=l[1]}else{var u=s?[e.height,e.width]:[e.width,e.height],d=o()(u,2)
r=d[0],i=d[1]}return{width:r,height:i}},d=function(e,t,n,r){var i=p(e,t),a=n?[i.height,i.width]:[i.width,i.height],s=o()(a,2)
return{width:s[0],height:s[1]+(r&&"web"!==e.platform?60:0)}},p=function(e,t){return h(e,t)||f(e,t)},h=function(e,t){var n=e.model
return"device"!==t?null:s[n]?i()({},s[n]):null},f=function(e,t){var n="none"===t?0:12,r=e.width+2*n,i=e.height+2*n,a=Object(c.b)(e)?[Math.min(r,i),Math.max(r,i)]:[r,i],s=o()(a,2)
return{device:"default",top:n,left:n,width:s[0],height:s[1]}}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}))
var r=n(26),i=n.n(r),a=n(22),o=n.n(a),s=n(145),c=n.n(s),l=n(64),u=n(60),d=function e(t,n){if(n.cid===t)return n
if(n.children.length)for(var r=0;r<n.children.length;r++){var i=e(t,n.children[r])
if(i)return i}return null},p=function(e,t){var n=m(e,t)
if(0===n.length)return null
var r=n.reverse(),i=c()(r),a=i[0],o=i.slice(1).filter((function(e){return e.widget.ro})).map((function(e){var t=Object(u.b)(e),n=t.minX,r=t.minY
return{x:(n+t.maxX)/2,y:(r+t.maxY)/2,rotation:e.widget.ro}})),s=a.widget,d=s.top,p=s.left,f=s.width,g=s.height,v=s.ro,b={x:p+f/2,y:d+g/2,ro:void 0===v?0:v},y=o.reduce((function(e,t){var n=t.x,r=t.y,i=t.rotation,a={x:n,y:r},o=e.x,s=e.y,c=e.ro,u={x:o,y:s},d=Object(l.d)(a,i,u)
return{x:d.x,y:d.y,ro:c+i}}),b)
return h(y.x,y.y,f,g,y.ro)},h=function(e,t,n,r,i){var a=f(e,t,n,r,i),o=a.map((function(e){return e[0]})),s=a.map((function(e){return e[1]})),c=Math.min.apply(null,o),l=Math.min.apply(null,s)
return{top:l,left:c,width:Math.max.apply(null,o)-c,height:Math.max.apply(null,s)-l}},f=function(e,t,n,r,i){var a=i*Math.PI/180,s=Math.sin(a),c=Math.cos(a),l=-n/2,u=-r/2,d=+n/2,p=-r/2,h=+n/2,f=+r/2,m=-n/2,g=+r/2
return[[l*c-u*s,l*s+u*c],[d*c-p*s,d*s+p*c],[m*c-g*s,m*s+g*c],[h*c-f*s,h*s+f*c]].map((function(n){var r=o()(n,2),i=r[0],a=r[1]
return[e+i,t+a]}))},m=function e(t,n){var r=[n]
if(n.cid===t)return r
if(n.children.length)for(var a=0;a<n.children.length;a++){var o=e(t,n.children[a])
if(o.length)return r.push.apply(r,i()(o)),r}return[]}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r=function(e){return"rich_text"===e.name}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=d,t.default=void 0
var i=r(n(4)),a=r(n(40)),o=n(0),s=r(n(1)),c=n(35)
function l(e){return function(t){return e(t.target.value,t)}}function u(e){var t=e.size,n=e.theme,r=e.isInvalid,s=e.unstyled,u=e.className,d=e.value,p=e.type,h=e.onChange,f=(0,a.default)(e,["size","theme","isInvalid","unstyled","className","value","type","onChange"]),m=(0,c.trimList)(["core"===n?"CoreInput":"Input",t,s&&"unstyled",r&&"is-invalid",u])
return(0,o.jsx)("label",{className:m,children:(0,o.jsx)("input",(0,i.default)({type:p,value:d,onChange:l(h)},f))})}function d(e){var t=e.size,n=e.theme,r=e.unstyled,s=e.className,u=e.value,d=e.onChange,p=(0,a.default)(e,["size","theme","unstyled","className","value","onChange"]),h=(0,c.trimList)(["core"===n?"CoreTextarea":"Textarea",t,r&&"unstyled",s])
return(0,o.jsx)("label",{className:h,children:(0,o.jsx)("textarea",(0,i.default)({value:u,onChange:l(d)},p))})}u.propTypes={type:s.default.string,size:s.default.oneOf(["regular","small"]),theme:s.default.oneOf(["core","plain"]),unstyled:s.default.bool,isInvalid:s.default.bool,className:s.default.string,value:s.default.string,onChange:s.default.func},u.defaultProps={type:"text",size:"regular",theme:"plain",onChange:function(){return null}},d.propTypes={className:s.default.string,
size:s.default.oneOf(["regular","small"]),theme:s.default.oneOf(["core","plain"]),unstyled:s.default.bool,value:s.default.string,onChange:s.default.func},d.defaultProps={size:"regular",theme:"plain",onChange:function(){return null}}
var p=u
t.default=p},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))
var r=function(e){return/^\/app\/design\//.test(e)||/^\/mb-workspace\//.test(e)||!1},i=function(e){return/^\/app\/preview\//.test(e)||/^\/app\/[^/]*\/?$/.test(e)}},function(e,t,n){"use strict"
var r=n(113),i=n(11),a=n.n(i)()(r.a).withConfig({displayName:"ThemeLoading",componentId:"sc-516lfj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],(function(e){return e.theme.loadingIcon.color_1}),(function(e){return e.theme.loadingIcon.color_2}))
t.a=a},function(e,t,n){"use strict"
n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}))
var r=n(4),i=n.n(r),a=n(257),o=function(){if(MB.user&&MB.user.id){var e=MB.user
return{id:e.id,name:e.name,email:e.email,current_plan:e.current_plan,paid:e.paid,next_billing_on:e.next_billing_on,login_times:e.login_times}}},s=function(e){return Object(a.fetchLikeCompat)("/api/v2/reports",{timeout:1e4,method:"POST",body:JSON.stringify(i()({href:window.parent.location.href,userAgent:navigator.userAgent,user:o(),currentProjectCid:MB.getCurrentProject()&&MB.getCurrentProject().cid||"",currentScreenCid:MB.getCurrentScreen()&&MB.getCurrentScreen().cid||""},e))})},c=function(e){
var t=e.timeInterval,n=void 0===t?6e5:t,r=e.type,i=void 0===r?"DEFAULT":r,a=e.getReportObject
if(n&&a){var o=(new Date).toISOString(),c=Date.now()
return setInterval((function(){return s({timeInit:o,timeDelta:Date.now()-c,type:i,state:a()}).then((function(){c=Date.now()}),(function(e){return console.warn("[Error] report ".concat(i," failed:"),e)}))}),n)}},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t[0]instanceof Error&&t.shift()||new Error("DEFAULT_ERROR"),i=t.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join("\n")
console.warn("[REPORT_ERROR]",i,r)
var a=o()
return window.Raven&&window.Raven.isSetup()&&(window.Raven.setUserContext(a),window.Raven.captureException(r,{extra:{message:i},tags:{report_version:"v1",origin:location.origin,user_current_plan:a&&a.current_plan}})),MB.event&&MB.event("ga-0","send","event","report-error",i,r.stack||r.toString()),{error:r,message:i}},u=function(){var e=l.apply(void 0,arguments),t=e.error,n=e.message
console.warn("[NUKE]",n,t),setInterval((function(){window.alert([window.I18N&&I18N.dUtils.error_happened,n,t].join("\n")),location.reload()}),5e3)}},,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return j}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(14),x=n(11),w=n.n(x).a.div.withConfig({displayName:"styles__StyledSearchBar",componentId:"sc-1qxj5sh-0"
})(["position:relative;height:24px;display:flex;justify-content:space-between;align-items:center;.search-icon{position:absolute;left:0;width:24px;height:24px;text-align:center;line-height:24px;font-size:12px;color:",";pointer-events:none;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:100%;padding-right:22px;background:",";border-width:1px;border-style:solid;border-color:",";border-radius:2px;transition:all 0.2s ease-out;text-indent:24px;color:",";&::placeholder{color:",";}&:hover{border-color:",";}&:focus{background:",";border-color:",";box-shadow:",";}}.clear-icon{position:absolute;right:0;width:24px;line-height:24px;text-align:center;color:",";transition:all 0.15s ease-in-out;cursor:pointer;&:hover{color:",";}}"],(function(e){
return e.theme.common.icon_8.cr}),(function(e){return e.theme.searchBar.bg}),(function(e){return e.theme.searchBar.border_color}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.common.border.border_light_blue}),(function(e){return e.theme.common.bg.select_bg}),(function(e){return e.theme.common.border.border_light_blue}),(function(e){return e.theme.interation.active.box_shadow}),(function(e){return e.theme.searchBar.close_icon
}),(function(e){return e.theme.searchBar.hover.close_icon})),j=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"setInputRef",(function(t){return e.$input=t})),f()(c()(e),"focus",(function(){return e.$input.focus()})),f()(c()(e),"handleChange",(function(t){return e.props.onChange(t.target.value)})),f()(c()(e),"handleClear",(function(){return e.props.onChange("")})),f()(c()(e),"handleMouseDown",(function(e){return e.preventDefault()})),f()(c()(e),"handleKeyDown",(function(t){"Escape"===t.key&&e.props.onExit&&e.props.onExit(t)})),e}return o()(n,[{key:"render",
value:function(){var e=this.props,t=e.value,n=e.placeholder,r=e.className,i=e.inputStyle
return Object(m.jsxs)(w,{type:"search",className:r,children:[Object(m.jsx)(y.b,{type:"dora",name:"scale",className:"search-icon"}),Object(m.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),Object(m.jsx)("input",{ref:this.setInputRef,style:i,type:"text",value:t,placeholder:n,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),t.length>0&&Object(m.jsx)(y.b,{type:"dora",name:"times_fc",className:"clear-icon",onMouseDown:this.handleMouseDown,onClick:this.handleClear})]})}}]),n
}(b.PureComponent)
f()(j,"propTypes",{value:v.a.string,inputStyle:v.a.object,placeholder:v.a.string,className:v.a.string,onChange:v.a.func,onExit:v.a.func})},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return w}))
var r=n(2),i=n.n(r),a=n(4),o=n.n(a),s=n(22),c=n.n(s),l=n(182),u=n(25),d=n(45),p=n(57),h=n(46),f=n(30),m=[f.b,f.a],g=function(e){var t=e.screenRuntimeState
return Object.keys(t.dataMap)[0]},v=function(e,t){for(var n=ProjectExchange.getProjectStore(e),r=n.getLocalScreenMetaByCid(t),i=n.getLocalScreenRuntimeStateByCid(t),a=Object(l.createScreenRuntimeState)(t),o=i.dataMap,s=i.itemListMap,u=0,d=Object.entries(o);u<d.length;u++){var h=c()(d[u],2),f=h[0],m=h[1]
a.dataMap[f]=m,a.itemListMap[f]=s[f].filter((function(t){return"panel"!==t.name||Object(p.f)(t,e)}))}return{screenMeta:r,screenRuntimeState:a}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MB.currentProjectMeta.cid,r=t
if(m.includes(r)){var i=Object(d.g)(n,e)
r=i[0].cid}var a=v(n,e),o=a.screenMeta,s=a.screenRuntimeState,c={},l=s.itemListMap[r].filter((function(e){return"panel"===e.name})).map((function(t){return Object(h.i)(t,{screenCid:e,stateCid:r},{projectMetaCid:n})}))
return l.forEach((function(e){c[e.cid]=y(e,n)})),{cid:e,stateCid:r,panelInfoMap:c,screenMeta:o,screenRuntimeState:s}},y=function(e,t){var n=e.screen_glue_cid,r=e.screen_meta_cid,i=e.screen_state_cid,a=Object(u.n)(t,n),o=Object(u.q)(t,n),s={}
return o.forEach((function(e){var n=e.cid
s[n]=v(t,n)})),{cid:e.cid,panelScreens:[r],currentScreenMetaCid:r,currentScreenStateCid:i,screenGlue:a,screenDataMap:s}},x=function(e,t){var n=t.panelCid,r=t.panelScreenCid,a=t.transition,s=e.panelInfoMap[n],c=s.panelScreens,l=s.screenDataMap,u=new Set(c)
u.add(r)
var d=o()(o()({},s),{},{transition:a,panelScreens:Array.from(u),currentScreenMetaCid:r,currentScreenStateCid:g(l[r])})
return o()(o()({},e),{},{panelInfoMap:o()(o()({},e.panelInfoMap),{},i()({},n,d))})},w=function(e,t){var n=t.panelCid,r=t.panelStateCid,a=t.transition,s=t.callback,c=e.panelInfoMap[n],l=o()(o()({},c),{},{currentScreenStateCid:r,transition:o()(o()({},a),{},{callback:s})})
return o()(o()({},e),{},{panelInfoMap:o()(o()({},e.panelInfoMap),{},i()({},n,l))})}},,,,,,function(e,t,n){"use strict"
n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))
var r=function(e){var t=e.projectBasic,n=e.screenAlignList
return Project.refresh([t]),ScreenAlign.refresh(n),Project.find(t.cid)},i=function(e){CommentThread.refresh(e.threads),Comment.refresh(e.comments)},a=function(e){Preference.refresh(e)}},function(e,t,n){"use strict"
var r=n(340),i=n.n(r),a=function(){},o=i.a.isEnabled?i.a:{isFullscreen:!1,on:a,off:a,request:a,exit:a}
t.a=o},,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}))
var r=n(4),i=n.n(r),a=n(0),o=(n(5),n(1)),s=n.n(o),c=n(292),l=n(36),u=n.n(l),d=n(50)
function p(e,t){var n=Object(d.d)()
u.a.render(Object(a.jsx)(e,i()(i()({},t),{},{onClose:function(){return setTimeout((function(){u.a.unmountComponentAtNode(n),document.body.removeChild(n)}))}})),n)}var h=function(e){var t=e.reason,n=e.data,r=e.onClose
return Object(a.jsx)(c.a,i()(i()({},{isOpen:!0,portalClassName:"renew-modal",title:I18N.dModals.renew_prompt.title,onConfirm:n&&n.renewRedirectParams?function(){return e=n.renewRedirectParams,window.open("/renew?".concat(new URLSearchParams(e).toString()))
var e}:n.gotoPrice?function(){return window.open("/pricing?next=".concat(location.href))}:n.paymentRenewModalParams?function(){return e=n.orgCid,t=n.paymentRenewModalParams,window.open(e?"/settings/".concat(e,"/payments?option=").concat(window.btoa(JSON.stringify(t))):"/me?option=".concat(window.btoa(JSON.stringify(t))))
var e,t}:null,confirmText:n&&n.renewRedirectParams?I18N.dModals.renew_now:n.submit?n.submit:null,canConfirm:!0,onClose:r}),{},{children:n.format===I18N.dModals.apk_file?Object(a.jsx)("p",{children:I18N.dModals.renew_prompt.apk_exportable_on_web}):Object(a.jsx)("p",{children:f(t,n)})}))}
h.propTypes={reason:s.a.string,data:s.a.object,shouldShowConfirm:s.a.bool,onClose:s.a.func}
var f=function(e,t){var n=t.storage,r=void 0===n?"":n,i=t.format,a=void 0===i?"":i,o=t.action,s=void 0===o?MB.user&&MB.user.expired?"renew":"upgrade":o,c=t.role,l=void 0===c?"user":c
return(I18N.dModals.renew_prompt[e]+(s?I18N.dModals.renew_prompt["".concat(l,"_").concat(s)]:"")).replace("{storage}",r).replace("{format}",a)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
p(h,{reason:e,data:t})}},function(e,t,n){"use strict"
function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t]
return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},
this
var n,r=this._callbacks["$"+e]
if(!r)return this
if(1==arguments.length)return delete this._callbacks["$"+e],this
for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1)
break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{}
for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r]
if(n){r=0
for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict"
var r,i=n(493),a=n(317),o=n(494),s=n(495),c=n(496)
"undefined"!=typeof ArrayBuffer&&(r=n(497))
var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||u
t.protocol=3
var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(p),f={type:"error",data:"parser error"},m=n(498)
function g(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),a=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},o=0;o<e.length;o++)a(o,e[o],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null)
var a=void 0===e.data?void 0:e.data.buffer||e.data
if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
var i=e.data,a=new Uint8Array(i),o=new Uint8Array(1+i.byteLength)
o[0]=p[e.type]
for(var s=0;s<a.length;s++)o[s+1]=a[s]
return r(o.buffer)}(e,n,i)
if(void 0!==m&&a instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
var i=new FileReader
return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r)
var i=new Uint8Array(1)
i[0]=p[e.type]
var a=new m([i.buffer,e.data])
return r(a)}(e,n,i)
if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data
return n(r)}(e,i)
var o=p[e.type]
return void 0!==e.data&&(o+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+o)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type]
if(void 0!==m&&e.data instanceof m){var a=new FileReader
return a.onload=function(){var e=a.result.split(",")[1]
n(i+e)},a.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var o=new Uint8Array(e.data),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o[c]
r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return f
if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n)
if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f
var i=e.charAt(0)
return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:f}i=new Uint8Array(e)[0]
var a=o(e,1)
return m&&"blob"===n&&(a=new m([a])),{type:h[i],data:a}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)]
if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}}
var i=r.decode(e.substr(1))
return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null)
var i=a(e)
if(n&&i)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r)
if(!e.length)return r("0:")
g(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r)
var i
if("function"==typeof n&&(r=n,n=null),""===e)return r(f,0,1)
for(var a,o,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c)
if(":"===u){if(""===s||s!=(a=Number(s)))return r(f,0,1)
if(s!=(o=e.substr(c+1,a)).length)return r(f,0,1)
if(o.length){if(i=t.decodePacket(o,n,!1),f.type===i.type&&f.data===i.data)return r(f,0,1)
if(!1===r(i,c+a,l))return}c+=a,s=""}else s+=u}return""!==s?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0))
g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n
return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),a=0
return t.forEach((function(e){var t="string"==typeof e,n=e
if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o)
n=r.buffer}i[a++]=t?0:1
var s=n.byteLength.toString()
for(o=0;o<s.length;o++)i[a++]=parseInt(s[o])
i[a++]=255
for(r=new Uint8Array(n),o=0;o<r.length;o++)i[a++]=r[o]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1)
if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i)
e=r.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(a.length+1)
for(i=0;i<a.length;i++)o[i]=parseInt(a[i])
if(o[a.length]=255,m){var s=new m([t.buffer,o.buffer,e])
n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null)
for(var i=e,a=[];i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],l="",u=1;255!==s[u];u++){if(l.length>310)return r(f,0,1)
l+=s[u]}i=o(i,2+l.length),l=parseInt(l)
var d=o(i,0,l)
if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var p=new Uint8Array(d)
d=""
for(u=0;u<p.length;u++)d+=String.fromCharCode(p[u])}a.push(d),i=o(i,l)}var h=a.length
a.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,h)}))}},,,,function(e,t,n){"use strict"
var r=n(301),i=n(247)
e.exports=function(e,t,n,a){var o=!n
n||(n={})
for(var s=-1,c=t.length;++s<c;){var l=t[s],u=a?a(n[l],e[l],l,n,e):void 0
void 0===u&&(u=e[l]),o?i(n,l,u):r(n,l,u)}return n}},function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.positionMenu=w,t.default=void 0
var a,o=i(n(4)),s=i(n(7)),c=i(n(6)),l=i(n(3)),u=i(n(8)),d=i(n(9)),p=i(n(2)),h=n(0),f=i(n(376)),m=i(n(59)),g=n(5),v=n(36),b=i(n(1)),y=r(n(37)),x=n(35)
function w(e){var t=e.$opener,n=e.$menuBase,r=(e.menuX,e.menuY),i=void 0===r?"bottom":r,a=e.menuBaseStyle,o=void 0===a?{}:a,s=e.inflexible,c=void 0!==s&&s,l=e.shouldSetMaxHeight,u=void 0!==l&&l
if(t&&n){var d,p=n.querySelector("*"),h={styleFor$menuBase:{},styleFor$menu:{}},f=function(e){return Object.assign(h.styleFor$menu,e)},m=(p.offsetWidth,p.offsetHeight),g=o.width||t.offsetWidth,v=o.height||t.offsetHeight,b=t.getBoundingClientRect(),y=Object.assign({top:b.top,right:b.right,bottom:b.bottom,left:b.left},o),x=y.top,w=(y.right,y.bottom),j=y.left
d={top:"".concat(x,"px"),left:"".concat(j,"px"),width:"".concat(g,"px"),height:"".concat(v,"px")},Object.assign(h.styleFor$menuBase,d)
var S=window.innerHeight,C=S-10
return(c&&"bottom"===i||!c&&S*("top"===i?1/3:2/3)>=x+v/2)&&x+v+m+9<S?(h.isDownward=!0,u&&w+m>C&&f({maxHeight:"".concat(C-w,"px")})):(h.isDownward=!1,u&&x-m<10&&f({maxHeight:"".concat(x-10,"px")})),Object.assign(n.style,h.styleFor$menuBase),Object.assign(p.style,h.styleFor$menu),h}}var j=document.getElementById("IBOT_DROPDOWN_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_DROPDOWN_MENU_ROOT"}),S=document.body
S.contains(j)||S.appendChild(j)
var C=function(e){(0,u.default)(n,e)
var t=(0,d.default)(n)
function n(){var e;(0,s.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,l.default)(e),"state",{prevProps:e.props,isOpen:e.props.isOpen,$opener:null,currentMenuListItemIdx:e.props.currentMenuListItemIdx}),(0,p.default)((0,l.default)(e),"leaveTimeoutList",[]),(0,p.default)((0,l.default)(e),"toggle",(function(t){return e.setState({isOpen:(0,f.default)(t)?t:!e.state.isOpen})})),(0,p.default)((0,l.default)(e),"open",(function(){return e.toggle(!0)})),(0,p.default)((0,l.default)(e),"close",(function(){return e.toggle(!1)})),
(0,p.default)((0,l.default)(e),"onMouseEnter",(function(){e.props.shouldOpenOnHover&&(clearTimeout(e.closeTimeout),Object.assign((0,l.default)(e),{hoverTimeout:setTimeout(e.open,e.props.hoverDelay)}))})),(0,p.default)((0,l.default)(e),"onMouseLeave",(function(){e.props.shouldOpenOnHover&&clearTimeout(e.hoverTimeout)})),(0,p.default)((0,l.default)(e),"onMouseMove",(function(t){var n=t.clientX,r=t.clientY,i=e.props,a=i.shouldOpenOnHover,o=i.hoverDelay,s=i.hoverCloseDelay,c=e.state.$opener
if(a){clearTimeout(e.hoverTimeout)
var u=document.elementFromPoint(n,r),d=!c.contains(u),p=!u.closest(".DropdownMenu")
p?d&&p&&e.leaveTimeoutList.push(setTimeout(e.close,void 0!==s?s:Math.max(o,300))):(e.leaveTimeoutList.map(clearTimeout),Object.assign((0,l.default)(e),{leaveTimeoutList:[]}))}})),(0,p.default)((0,l.default)(e),"set$opener",(function(t){return e.setState({$opener:t})})),(0,p.default)((0,l.default)(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props,i=r.menuList,a=r.onSelect,o=r.shouldCloseOnSelect
if("function"==typeof a){var s=n.dataset.idx,c=i[s]
a(s,"string"==typeof c?c:c&&c.value),e.setState({currentMenuListItemIdx:s}),o&&e.close()}})),e}return(0,c.default)(n,[{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.props,i=r.onOpen,a=r.onClose,o=r.onToggle,s=this.state.isOpen
n!==s&&(s?(i(),o(!0)):(a(),o(!1)))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opener,r=e.openerType,i=e.shouldCloseOnClickOutside,a=this.state,s=a.isOpen,c=a.$opener,l=a.currentMenuListItemIdx,u=this.props.isDisabled||this.props.disabled,d=(0,x.trimList)(["Dropdown",s&&"is-open",u&&"is-disabled",t]),p={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:u}
return(0,h.jsxs)("label",{ref:this.set$opener,className:d,children:["button"!==r&&(0,g.isValidElement)(n)?(0,g.cloneElement)(n,p):(0,h.jsx)("button",(0,o.default)((0,o.default)({type:"button"},p),{},{children:n})),(0,h.jsx)(_,(0,o.default)((0,o.default)({},this.props),{},{isOpen:s,$opener:c,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:i,currentMenuListItemIdx:l})),s&&(0,h.jsx)(y.default,{target:document,onMouseMove:this.onMouseMove})]})}}],[{key:"getDerivedStateFromProps",
value:function(e,t){var n=t.prevProps
t.isOpen
return(0,m.default)(e,n)?null:(0,f.default)(e.isOpen)?{prevProps:e,isOpen:e.isOpen}:{prevProps:e}}}]),n}(g.PureComponent);(0,p.default)(C,"positionMenu",w),(0,p.default)(C,"propTypes",{isOpen:b.default.bool,mode:b.default.oneOf(["light","dark"]),opener:b.default.node,openerType:b.default.oneOf(["button","custom"]),className:b.default.string,portalClassName:b.default.string,menuBaseClassName:b.default.string,menuClassName:b.default.string,menuBaseStyle:b.default.shape((a={top:b.default.number,
right:b.default.number,bottom:b.default.number},(0,p.default)(a,"top",b.default.number),(0,p.default)(a,"width",b.default.number),(0,p.default)(a,"height",b.default.number),a)),menu:b.default.node,menuList:b.default.arrayOf(b.default.oneOfType([b.default.node,b.default.shape({label:b.default.node,value:b.default.any,isDisabled:b.default.bool})])),currentMenuListItemIdx:b.default.oneOfType([b.default.number,b.default.string]),shouldPreventScrollingPropagation:b.default.bool,shouldOpenOnHover:b.default.bool,
shouldCloseOnClickOutside:b.default.bool,hoverDelay:b.default.oneOfType([b.default.number,b.default.string]),hoverCloseDelay:b.default.oneOfType([b.default.number,b.default.string]),arrowed:b.default.bool,inflexible:b.default.bool,menuX:b.default.oneOf(["left","center","right"]),menuY:b.default.oneOf(["top","bottom"]),menuBasedX:b.default.bool,isDisabled:b.default.bool,disabled:b.default.bool,onSelect:b.default.func,shouldCloseOnSelect:b.default.bool,onOpen:b.default.func.isRequired,
onClose:b.default.func.isRequired,onToggle:b.default.func.isRequired}),(0,p.default)(C,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}})
var _=function(e){(0,u.default)(n,e)
var t=(0,d.default)(n)
function n(){var e;(0,s.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,l.default)(e),"state",{isDownward:"bottom"===e.props.position}),(0,p.default)((0,l.default)(e),"portal",(0,x.preparePortal)(j,(0,x.trimList)(["DropdownMenuPortal",e.props.portalClassName]))),(0,p.default)((0,l.default)(e),"menuBaseRef",(0,g.createRef)()),(0,p.default)((0,l.default)(e),"onResizeWindow",(function(){return e.props.isOpen&&e.position()})),(0,p.default)((0,l.default)(e),"onClickOutside",(function(t){
var n=t.target,r=e.props,i=r.$opener,a=r.onClose
if(r.shouldCloseOnClickOutside){var o=!j.contains(n),s=n.closest("label"),c=s&&s.contains(i),l=!!(0,x.$)(".SelectMenu.is-open")
!o||c||l||a()}})),(0,p.default)((0,l.default)(e),"position",(function(){var t=e.props,n=t.$opener,r=t.menuX,i=t.menuY,a=t.menuBaseStyle,o=t.inflexible,s=w({$menuBase:(0,l.default)(e).menuBaseRef.current,$opener:n,menuX:r,menuY:i,menuBaseStyle:a,inflexible:o}).isDownward
e.setState({isDownward:s})})),e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.shouldPreventScrollingPropagation,r=this.menuBaseRef.current
t&&setTimeout(this.position),n&&(0,x.preventScrollingPropagation)((0,x.$)(".content",r)),window.addEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.portal,t=this.menu
return(0,v.createPortal)(t,e)}},{key:"menu",get:function(){var e=this.props,t=e.isOpen,n=e.mode,r=e.menuBaseClassName,i=e.menuClassName,a=e.menu,o=e.menuList,s=e.arrowed,c=e.menuX,l=(e.menuY,e.menuBasedX),u=e.currentMenuListItemIdx,d=e.onSelect,p=this.state.isDownward,f=(0,x.trimList)(["DropdownMenu",n,t&&"is-open",p?"is-downward":"is-upward","x-".concat(c),s&&"arrowed ".concat(l?"x-menu-based":"x-arrow-based"),i])
return(0,h.jsx)("div",{ref:this.menuBaseRef,className:(0,x.trimList)(["DropdownMenuBase",r]),children:(0,h.jsxs)("div",{className:f,children:[s&&(0,h.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:x.SVG.DROPDOWN_ARROW}}),(0,h.jsx)("div",{className:"content",children:o?(0,h.jsx)("ul",{className:"MenuList",children:o.map((function(e,t){return(0,h.jsx)("li",{role:"option","data-idx":t,className:(0,x.trimList)([e.isDisabled&&"is-disabled",t===Number(u)&&"is-active"]),
onClick:e.isDisabled?void 0:d,children:e.label||e},t)}))}):a}),t&&(0,h.jsx)(y.default,{target:document,onClick:this.onClickOutside}),t&&(0,h.jsx)(y.default,{target:document,onScroll:(0,y.withOptions)(this.position,{capture:!0})})]})})}}]),n}(g.PureComponent);(0,p.default)(_,"propTypes",(0,o.default)((0,o.default)({},C.propTypes),{},{isOpen:b.default.bool,$opener:b.default.instanceOf(Element),onSelect:b.default.func,onClose:b.default.func}))
var O=C
t.default=O},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p}))
var r=n(4),i=n.n(r),a=n(110),o=n(264),s=n(46),c=function(){for(var e=Object(o.a)(),t=$(e).find(".ah"),n=12,r=12;r>=1;r--)t.css("font-size",r+"px"),t.css("line-height","100%"),t.text("a").height()===r&&(n=r)
return n},l=function(e){return"rich_text"===e.name?{width:Object(s.c)(e),height:Object(s.b)(e)}:{width:e.width,height:e.height}},u=function(e){return"rich_text"===e.name?d(e):e.height},d=function(e){if("rich_text"!==e.name)return null
var t=Object(o.a)(MB.currentProject&&MB.currentProject.device).getElementsByClassName("auto-height")[0]
t.style.width=e.width+"px",t.innerHTML=Object(a.getHTML)(e.text)
var n=t.getBoundingClientRect()
return Math.ceil(n.height)},p=function(e,t){var n=i()(i()({},e[0]),{},{children:void 0}),r=i()(i()({},e[0].children[0]),{},{text:void 0})
return t.map((function(e){return i()(i()({},n),{},{children:[i()(i()({},r),{},{text:e})]})}))}},function(e,t,n){"use strict"
var r,i=n(17)(n(23))
!function(a,o,s,c){var l,u=["","webkit","Moz","MS","ms","o"],d=o.createElement("div"),p=Math.round,h=Math.abs,f=Date.now
function m(e,t,n){return setTimeout(j(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r
if(e)if(e.forEach)e.forEach(t,n)
else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++
else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function b(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n"
return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=a.console&&(a.console.warn||a.console.log)
return i&&i.call(a.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object")
for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n]
if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign
var y=b((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++
return e}),"extend","Use `assign`."),x=b((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.")
function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function j(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return"function"==(0,i.default)(e)?e.apply(t&&t[0]||void 0,t):e}function C(e,t){return void 0===e?t:e}function _(e,t,n){v(E(t),(function(t){e.addEventListener(t,n,!1)}))}function O(e,t,n){v(E(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0
e=e.parentNode}return!1}function M(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t)
for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r
r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],i=[],a=0;a<e.length;){var o=t?e[a][t]:e[a]
T(i,o)<0&&r.push(e[a]),i[a]=o,a++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function N(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),a=0;a<u.length;){if((r=(n=u[a])?n+i:t)in e)return r
a++}}var I=1
function P(e){var t=e.ownerDocument||e
return t.defaultView||t.parentWindow||a}var L="ontouchstart"in a,F=void 0!==N(a,"PointerEvent"),B=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R=["x","y"],U=["clientX","clientY"]
function z(e,t){var n=this
this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=1&t&&r-i==0,o=12&t&&r-i==0
n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length
n.firstInput||(n.firstInput=G(t))
i>1&&!n.firstMultiple?n.firstMultiple=G(t):1===i&&(n.firstMultiple=!1)
var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,c=t.center=V(r)
t.timeStamp=f(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=Z(s,c),t.distance=q(s,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{}
1!==t.eventType&&4!==a.eventType||(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y})
t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=Y(t.deltaX,t.deltaY)
var l=W(t.deltaTime,t.deltaX,t.deltaY)
t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,t.scale=o?(u=o.pointers,d=r,q(d[0],d[1],U)/q(u[0],u[1],U)):1,t.rotation=o?function(e,t){return Z(t[1],t[0],U)+Z(e[1],e[0],U)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,a,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp
if(8!=t.eventType&&(s>25||void 0===o.velocity)){var c=t.deltaX-o.deltaX,l=t.deltaY-o.deltaY,u=W(s,c,l)
r=u.x,i=u.y,n=h(u.x)>h(u.y)?u.x:u.y,a=Y(c,l),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction
t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=a}(n,t)
var u,d
var p=e.element
k(t.srcEvent.target,p)&&(p=t.srcEvent.target)
t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function G(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++
return{timeStamp:f(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length
if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)}
for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++
return{x:p(n/t),y:p(r/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function Y(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function q(e,t,n){n||(n=R)
var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]]
return Math.sqrt(r*r+i*i)}function Z(e,t,n){n||(n=R)
var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]]
return 180*Math.atan2(i,r)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(P(this.element),this.evWin,this.domHandler)}}
var X={mousedown:1,mousemove:2,mouseup:4}
function J(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}w(J,z,{handler:function(e){var t=X[e.type]
1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}})
var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},$="pointerdown",ee="pointermove pointerup pointercancel"
function te(){this.evEl=$,this.evWin=ee,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a.MSPointerEvent&&!a.PointerEvent&&($="MSPointerDown",ee="MSPointerMove MSPointerUp MSPointerCancel"),w(te,z,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=K[r],a=Q[e.pointerType]||e.pointerType,o="touch"==a,s=T(t,e.pointerId,"pointerId")
1&i&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}})
var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8}
function re(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function ie(e,t){var n=A(e.touches),r=A(e.changedTouches)
return 12&t&&(n=D(n.concat(r),"identifier",!0)),[n,r]}w(re,z,{handler:function(e){var t=ne[e.type]
if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t)
12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}})
var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8}
function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function se(e,t){var n=A(e.touches),r=this.targetIds
if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n]
var i,a,o=A(e.changedTouches),s=[],c=this.target
if(a=n.filter((function(e){return k(e.target,c)})),1===t)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++
for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),12&t&&delete r[o[i].identifier],i++
return s.length?[D(a.concat(s),"identifier",!0),s]:void 0}w(oe,z,{handler:function(e){var t=ae[e.type],n=se.call(this,e,t)
n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}})
function ce(){z.apply(this,arguments)
var e=j(this.handler,this)
this.touch=new oe(this.manager,e),this.mouse=new J(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ue.call(this,t)):12&e&&ue.call(this,t)}function ue(e){var t=e.changedPointers[0]
if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY}
this.lastTouches.push(n)
var r=this.lastTouches
setTimeout((function(){var e=r.indexOf(n)
e>-1&&r.splice(e,1)}),2500)}}function de(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(n-i.y)
if(a<=25&&o<=25)return!0}return!1}w(ce,z,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType
if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)le.call(this,t,n)
else if(i&&de.call(this,n))return
this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}})
var pe=N(d.style,"touchAction"),he=void 0!==pe,fe=function(){if(!he)return!1
var e={},t=a.CSS&&a.CSS.supports
return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||a.CSS.supports("touch-action",n)})),e}()
function me(e,t){this.manager=e,this.set(t)}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&fe[e]&&(this.manager.element.style[pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[]
return v(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(M(e,"none"))return"none"
var t=M(e,"pan-x"),n=M(e,"pan-y")
if(t&&n)return"none"
if(t||n)return t?"pan-x":"pan-y"
if(M(e,"manipulation"))return"manipulation"
return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection
if(this.manager.session.prevented)t.preventDefault()
else{var r=this.actions,i=M(r,"none")&&!fe.none,a=M(r,"pan-y")&&!fe["pan-y"],o=M(r,"pan-x")&&!fe["pan-x"]
if(i){var s=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250
if(s&&c&&l)return}if(!o||!a)return i||a&&6&n||o&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}}
function ge(e){this.options=l({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ve(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager
return n?n.get(e):e}function xe(){ge.apply(this,arguments)}function we(){xe.apply(this,arguments),this.pX=null,this.pY=null}function je(){xe.apply(this,arguments)}function Se(){ge.apply(this,arguments),this._timer=null,this._input=null}function Ce(){xe.apply(this,arguments)}function _e(){xe.apply(this,arguments)}function Oe(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=C(t.recognizers,ke.defaults.preset),
new Me(e,t)}ge.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this
var t=this.simultaneous
return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this
var t=this.requireFail
return-1===T(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this
e=ye(e,this)
var t=T(this.requireFail,e)
return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state
function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ve(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ve(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e)
this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1
e++}return!0},recognize:function(e){var t=l({},e)
if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=32)
56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(xe,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers
return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e)
return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),w(we,xe,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[]
return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY
return i&t.direction||(6&t.direction?(i=0===a?1:a<0?2:4,n=a!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return xe.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY
var t=be(e.direction)
t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(je,xe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out"
e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Se,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time
if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset()
else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this)
else if(4&e.eventType)return 8
return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Ce,xe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(_e,xe,{defaults:{event:"swipe",threshold:10,
velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction
return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection)
t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Oe,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time
if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout()
if(r&&i&&n){if(4!=e.eventType)return this.failTimeout()
var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold
if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),
ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ce,{enable:!1}],[je,{enable:!1},["rotate"]],[_e,{direction:6}],[we,{direction:6},["swipe"]],[Oe],[Oe,{event:"doubletap",taps:2},["tap"]],[Se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}}
function Me(e,t){var n
this.options=l({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?te:B?oe:L?ce:J))(n,H),this.touchAction=new me(this,this.options.touchAction),Ee(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]))
e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ee(e,t){var n,r=e.element
r.style&&(v(e.options.cssProps,(function(i,a){n=N(r.style,a),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Me.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session
if(!t.stopped){var n
this.touchAction.preventDefaults(e)
var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null)
for(var a=0;a<r.length;)n=r[a],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),a++}},get:function(e){if(e instanceof ge)return e
for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n]
return null},add:function(e){if(g(e,"add",this))return this
var t=this.get(e.options.event)
return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this
if(e=this.get(e)){var t=this.recognizers,n=T(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers
return v(E(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers
return v(E(e),(function(e){t?n[e]&&n[e].splice(T(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event")
n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t)
var n=this.handlers[e]&&this.handlers[e].slice()
if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()}
for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Me,Input:z,
TouchAction:me,TouchInput:oe,MouseInput:J,PointerEventInput:te,TouchMouseInput:ce,SingleTouchInput:re,Recognizer:ge,AttrRecognizer:xe,Tap:Oe,Pan:we,Swipe:_e,Pinch:je,Rotate:Ce,Press:Se,on:_,off:O,each:v,merge:x,extend:y,assign:l,inherit:w,bindFn:j,prefixed:N}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(r=function(){return ke}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.RadioGroup=t.default=void 0
var i=r(n(7)),a=r(n(6)),o=r(n(3)),s=r(n(8)),c=r(n(9)),l=r(n(2)),u=n(0),d=n(5),p=r(n(1)),h=r(n(59)),f=n(35),m=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,isChecked:e.props.isChecked}),(0,l.default)((0,o.default)(e),"onToggle",(function(){var t=e.props,n=t.name,r=t.value,i=t.label,a=t.onToggle,s=t.onChange,c=e.state.isChecked,l=!!(0,o.default)(e).canToggle||c
e.setState({isChecked:l}),a(l,n,r||i),s(n,r||i,l)})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.className,i=e.label,a=e.name,o=this.state.isChecked,s=this.isDisabled,c=this.readOnly
return(0,u.jsxs)("label",{className:(0,f.trimList)(["core"===n?"CoreRadio":"Radio",t,r,o&&"is-checked",s&&"is-disabled",c&&"readonly"]),children:[(0,u.jsx)("input",{type:"radio",defaultChecked:o,disabled:s,name:a,onClick:this.onToggle}),(0,u.jsx)("span",{className:"Check-state"}),(0,u.jsx)("span",{className:"Check-label",children:i})]})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isChecked
return(0,h.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}]),n}(d.PureComponent);(0,l.default)(m,"propTypes",{size:p.default.oneOf(["regular","small"]),theme:p.default.oneOf(["core","plain"]),className:p.default.string,label:p.default.any,name:p.default.string,value:p.default.any,isChecked:p.default.bool,isDisabled:p.default.bool,disabled:p.default.bool,readOnly:p.default.bool,onChange:p.default.func.isRequired,onToggle:p.default.func.isRequired}),(0,l.default)(m,"defaultProps",{size:"regular",
theme:"plain",isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var g=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"name",e.props.name||Math.random().toString(36).substring(2,15)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,value:e.props.value}),(0,l.default)((0,o.default)(e),"createOnChangeHandler",(function(t,n,r){return function(){var i=e.props,a=i.onToggle,s=i.onChange,c=e.state.value,l=(0,o.default)(e).canToggle?n:c
e.setState({value:l}),a(l,t),s({name:t,value:l,idx:r})}})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.theme,i=t.className,a=t.optionList,o=this.state.value,s=this.name,c=this.isDisabled,l=this.readOnly,d=(0,f.trimList)(["core"===r?"CoreRadioGroup":"RadioGroup",n,i,c&&"is-disabled",l&&"readonly"])
return(0,u.jsx)("span",{className:d,children:a.map((function(t,i){return t&&(0,u.jsx)(m,{name:s,size:n,theme:r,label:(0,f.getOptionLabel)(t),type:"radio",isChecked:(0,f.checkOptionByValue)(t,o),isDisabled:c||t.isDisabled,readOnly:l,onChange:c||t.isDisabled?void 0:e.createOnChangeHandler(s,(0,f.getOptionValue)(t),i)},i)}))})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,h.default)(n,e)?null:{prevProps:e,value:e.value}}}]),n}(d.PureComponent)
t.RadioGroup=g,(0,l.default)(g,"propTypes",{size:p.default.oneOf(["regular","small"]),theme:p.default.oneOf(["core","plain"]),className:p.default.string,name:p.default.string,optionList:p.default.arrayOf(p.default.oneOfType([p.default.string,p.default.number,p.default.shape({label:p.default.any,value:p.default.any,isDisabled:p.default.bool})])).isRequired,value:p.default.oneOfType([p.default.number,p.default.string]),isDisabled:p.default.bool,disabled:p.default.bool,readOnly:p.default.bool,
onChange:p.default.func.isRequired,onToggle:p.default.func.isRequired}),(0,l.default)(g,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:function(){return null},onToggle:function(){return null}})
var v=m
t.default=v},function(e,t,n){"use strict"
var r=n(17),i=r(n(26)),a=r(n(22)),o=r(n(8)),s=r(n(9)),c=r(n(7)),l=r(n(6)),u=r(n(23))
function d(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t]
"object"!=(0,u.default)(n)||Object.isFrozen(n)||d(n)})),e}var p=d,h=d
p.default=h
var f=function(){function e(t){(0,c.default)(this,e),void 0===t.data&&(t.data={}),this.data=t.data}return(0,l.default)(e,[{key:"ignoreMatch",value:function(){this.ignore=!0}}]),e}()
function m(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function g(e){var t=Object.create(null)
for(var n in e)t[n]=e[n]
for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a]
return i.forEach((function(e){for(var n in e)t[n]=e[n]})),t}function v(e){return e.nodeName.toLowerCase()}var b=Object.freeze({__proto__:null,escapeHTML:m,inherit:g,nodeStream:function(e){var t=[]
return function e(n,r){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:r,node:i}),r=e(i,r),v(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:i}))
return r}(e,0),t},mergeStreams:function(e,t,n){var r=0,i="",a=[]
function o(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function s(e){i+="<"+v(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+m(e.value)+'"'})).join("")+">"}function c(e){i+="</"+v(e)+">"}function l(e){("start"===e.event?s:c)(e.node)}for(;e.length||t.length;){var u=o()
if(i+=m(n.substring(r,u[0].offset)),r=u[0].offset,u===e){a.reverse().forEach(c)
do{l(u.splice(0,1)[0]),u=o()}while(u===e&&u.length&&u[0].offset===r)
a.reverse().forEach(s)}else"start"===u[0].event?a.push(u[0].node):a.pop(),l(u.splice(0,1)[0])}return i+m(n.substr(r))}}),y=function(e){return!!e.kind},x=function(){function e(t,n){(0,c.default)(this,e),this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}return(0,l.default)(e,[{key:"addText",value:function(e){this.buffer+=m(e)}},{key:"openNode",value:function(e){if(y(e)){var t=e.kind
e.sublanguage||(t="".concat(this.classPrefix).concat(t)),this.span(t)}}},{key:"closeNode",value:function(e){y(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),w=function(e){(0,o.default)(n,e)
var t=(0,s.default)(n)
function n(e){var r
return(0,c.default)(this,n),(r=t.call(this)).options=e,r}return(0,l.default)(n,[{key:"addKeyword",value:function(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""!==e&&this.add(e)}},{key:"addSublanguage",value:function(e,t){var n=e.root
n.kind=t,n.sublanguage=!0,this.add(n)}},{key:"toHTML",value:function(){return new x(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),n}(function(){function e(){(0,c.default)(this,e),this.rootNode={children:[]},this.stack=[this.rootNode]}return(0,l.default)(e,[{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){var t={kind:e,children:[]}
this.add(t),this.stack.push(t)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}},{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}}],[{key:"_walk",value:function(e,t){var n=this
return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((function(t){return n._walk(e,t)})),e.closeNode(t)),e}},{key:"_collapse",value:function(t){"string"!=typeof t&&t.children&&(t.children.every((function(e){return"string"==typeof e}))?t.children=[t.children.join("")]:t.children.forEach((function(t){e._collapse(t)})))}}]),e}())
function j(e){return e?"string"==typeof e?e:e.source:null}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.map((function(e){return j(e)})).join("")
return r}var C="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_={begin:"\\\\[\\s\\S]",relevance:0},O={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[_]},k={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[_]},M={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=g({
className:"comment",begin:e,end:t,contains:[]},n)
return r.contains.push(M),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},T=E("//","$"),A=E("/\\*","\\*/"),D=E("#","$"),N={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},I={className:"number",begin:C,relevance:0},P={className:"number",begin:"\\b(0b[01]+)",relevance:0},L={className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},F={
begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[_,{begin:/\[/,end:/\]/,relevance:0,contains:[_]}]}]},B={className:"title",begin:"[a-zA-Z]\\w*",relevance:0},R={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},U={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},z=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:C,BINARY_NUMBER_RE:"\\b(0b[01]+)",
RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//
return e.binary&&(e.begin=S(t,/.*\b/,e.binary,/\b.*/)),g({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:_,APOS_STRING_MODE:O,QUOTE_STRING_MODE:k,PHRASAL_WORDS_MODE:M,COMMENT:E,C_LINE_COMMENT_MODE:T,C_BLOCK_COMMENT_MODE:A,HASH_COMMENT_MODE:D,NUMBER_MODE:N,C_NUMBER_MODE:I,BINARY_NUMBER_MODE:P,CSS_NUMBER_MODE:L,REGEXP_MODE:F,TITLE_MODE:B,UNDERSCORE_TITLE_MODE:R,METHOD_GUARD:U,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{
"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}}),H=["of","and","for","in","not","or","if","then","parent","list","value"]
function G(e){function t(t,n){return new RegExp(j(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}var n=function(){function e(){(0,c.default)(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return(0,l.default)(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}},{key:"compile",value:function(){
0===this.regexes.length&&(this.exec=function(){return null})
var e=this.regexes.map((function(e){return e[1]}))
this.matcherRe=t(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,i="",a=0;a<e.length;a++){var o=r+=1,s=j(e[a])
for(a>0&&(i+=t),i+="(";s.length>0;){var c=n.exec(s)
if(null==c){i+=s
break}i+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),"\\"===c[0][0]&&c[1]?i+="\\"+String(Number(c[1])+o):(i+=c[0],"("===c[0]&&r++)}i+=")"}return i}(e),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex
var t=this.matcherRe.exec(e)
if(!t)return null
var n=t.findIndex((function(e,t){return t>0&&void 0!==e})),r=this.matchIndexes[n]
return t.splice(0,n),Object.assign(t,r)}}]),e}(),r=function(){function e(){(0,c.default)(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return(0,l.default)(e,[{key:"getMatcher",value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e]
var t=new n
return this.rules.slice(e).forEach((function(e){var n=(0,a.default)(e,2),r=n[0],i=n[1]
return t.addRule(r,i)})),t.compile(),this.multiRegexes[e]=t,t}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t=this.getMatcher(this.regexIndex)
t.lastIndex=this.lastIndex
var n=t.exec(e)
if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{var r=this.getMatcher(0)
r.lastIndex=this.lastIndex+1,n=r.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}]),e}()
function o(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.")
return e.classNameAliases=g(e.classNameAliases||{}),function n(a,s){var c,l=a
if(a.compiled)return l
a.compiled=!0,a.__beforeBegin=null,a.keywords=a.keywords||a.beginKeywords
var d=null
if("object"===(0,u.default)(a.keywords)&&(d=a.keywords.$pattern,delete a.keywords.$pattern),a.keywords&&(a.keywords=function(e,t){var n={}
"string"==typeof e?r("keyword",e):Object.keys(e).forEach((function(t){r(t,e[t])}))
return n
function r(e,r){t&&(r=r.toLowerCase()),r.split(" ").forEach((function(t){var r=t.split("|")
n[r[0]]=[e,V(r[0],r[1])]}))}}(a.keywords,e.case_insensitive)),a.lexemes&&d)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ")
return l.keywordPatternRe=t(a.lexemes||d||/\w+/,!0),s&&(a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",a.__beforeBegin=o),a.begin||(a.begin=/\B|\b/),l.beginRe=t(a.begin),a.endSameAsBegin&&(a.end=a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(l.endRe=t(a.end)),l.terminator_end=j(a.end)||"",a.endsWithParent&&s.terminator_end&&(l.terminator_end+=(a.end?"|":"")+s.terminator_end)),a.illegal&&(l.illegalRe=t(a.illegal)),void 0===a.relevance&&(a.relevance=1),
a.contains||(a.contains=[]),a.contains=(c=[]).concat.apply(c,(0,i.default)(a.contains.map((function(e){return function(e){e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(t){return g(e,{variants:null},t)})))
if(e.cached_variants)return e.cached_variants
if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return g(e,{starts:e.starts?g(e.starts):null})
if(Object.isFrozen(e))return g(e)
return e}("self"===e?a:e)})))),a.contains.forEach((function(e){n(e,l)})),a.starts&&n(a.starts,s),l.matcher=function(e){var t=new r
return e.contains.forEach((function(e){return t.addRule(e.begin,{rule:e,type:"begin"})})),e.terminator_end&&t.addRule(e.terminator_end,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(l),l}(e)}function V(e,t){return t?Number(t):function(e){return H.includes(e.toLowerCase())}(e)?0:1}function W(e){var t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className:function(){
return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted:function(){return this.autoDetect||e.getLanguage(this.language)?(this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value):(console.warn('The language "'.concat(this.language,'" you specified could not be found.')),this.unknownLanguage=!0,m(this.code))
var t},autoDetect:function(){return!this.language||function(e){return Boolean(e||""===e)}(this.autodetect)},ignoreIllegals:function(){return!0}},render:function(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}}
return{Component:t,VuePlugin:{install:function(e){e.component("highlightjs",t)}}}}var Y=m,q=g,Z=b.nodeStream,X=b.mergeStreams,J=Symbol("nomatch"),K=function(e){var t=[],n=Object.create(null),r=Object.create(null),i=[],o=!0,s=/(^(<[^>]+>|\t|)+|\n)/gm,c="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]},d={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",
tabReplace:null,useBR:!1,languages:null,__emitter:w}
function h(e){return d.noHighlightRe.test(e)}function m(e,t,n,r){var i={code:t,language:e}
_("before:highlight",i)
var a=i.result?i.result:g(i.language,i.code,n,r)
return a.code=i.code,_("after:highlight",a),a}function g(e,t,r,i){var s=t
function l(e,t){var n=w.case_insensitive?t[0].toLowerCase():t[0]
return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function u(){null!=_.subLanguage?function(){if(""!==M){var e=null
if("string"==typeof _.subLanguage){if(!n[_.subLanguage])return void k.addText(M)
e=g(_.subLanguage,M,!0,O[_.subLanguage]),O[_.subLanguage]=e.top}else e=v(M,_.subLanguage.length?_.subLanguage:null)
_.relevance>0&&(E+=e.relevance),k.addSublanguage(e.emitter,e.language)}}():function(){if(_.keywords){var e=0
_.keywordPatternRe.lastIndex=0
for(var t=_.keywordPatternRe.exec(M),n="";t;){n+=M.substring(e,t.index)
var r=l(_,t)
if(r){var i=(0,a.default)(r,2),o=i[0],s=i[1]
k.addText(n),n="",E+=s
var c=w.classNameAliases[o]||o
k.addKeyword(t[0],c)}else n+=t[0]
e=_.keywordPatternRe.lastIndex,t=_.keywordPatternRe.exec(M)}n+=M.substr(e),k.addText(n)}else k.addText(M)}(),M=""}function p(e){return e.className&&k.openNode(w.classNameAliases[e.className]||e.className),_=Object.create(e,{parent:{value:_}})}function h(e){return 0===_.matcher.regexIndex?(M+=e[0],1):(D=!0,0)}function m(e){for(var t=e[0],n=e.rule,r=new f(n),i=0,a=[n.__beforeBegin,n["on:begin"]];i<a.length;i++){var o=a[i]
if(o&&(o(e,r),r.ignore))return h(t)}return n&&n.endSameAsBegin&&(n.endRe=function(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(t)),n.skip?M+=t:(n.excludeBegin&&(M+=t),u(),n.returnBegin||n.excludeBegin||(M=t)),p(n),n.returnBegin?0:t.length}function b(e){var t=e[0],n=s.substr(e.index),r=function e(t,n,r){var i=function(e,t){var n=e&&e.exec(t)
return n&&0===n.index}(t.endRe,r)
if(i){if(t["on:end"]){var a=new f(t)
t["on:end"](n,a),a.ignore&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent
return t}}if(t.endsWithParent)return e(t.parent,n,r)}(_,e,n)
if(!r)return J
var i=_
i.skip?M+=t:(i.returnEnd||i.excludeEnd||(M+=t),u(),i.excludeEnd&&(M=t))
do{_.className&&k.closeNode(),_.skip||_.subLanguage||(E+=_.relevance),_=_.parent}while(_!==r.parent)
return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),p(r.starts)),i.returnEnd?0:t.length}var y={}
function x(t,n){var i=n&&n[0]
if(M+=t,null==i)return u(),0
if("begin"===y.type&&"end"===n.type&&y.index===n.index&&""===i){if(M+=s.slice(n.index,n.index+1),!o){var a=new Error("0 width match regex")
throw a.languageName=e,a.badRule=y.rule,a}return 1}if(y=n,"begin"===n.type)return m(n)
if("illegal"===n.type&&!r){var c=new Error('Illegal lexeme "'+i+'" for mode "'+(_.className||"<unnamed>")+'"')
throw c.mode=_,c}if("end"===n.type){var l=b(n)
if(l!==J)return l}if("illegal"===n.type&&""===i)return 1
if(A>1e5&&A>3*n.index)throw new Error("potential infinite loop, way more iterations than matches")
return M+=i,i.length}var w=j(e)
if(!w)throw console.error(c.replace("{}",e)),new Error('Unknown language: "'+e+'"')
var S=G(w),C="",_=i||S,O={},k=new d.__emitter(d)
!function(){for(var e=[],t=_;t!==w;t=t.parent)t.className&&e.unshift(t.className)
e.forEach((function(e){return k.openNode(e)}))}()
var M="",E=0,T=0,A=0,D=!1
try{for(_.matcher.considerAll();;){A++,D?D=!1:_.matcher.considerAll(),_.matcher.lastIndex=T
var N=_.matcher.exec(s)
if(!N)break
var I=x(s.substring(T,N.index),N)
T=N.index+I}return x(s.substr(T)),k.closeAllNodes(),k.finalize(),C=k.toHTML(),{relevance:E,value:C,language:e,illegal:!1,emitter:k,top:_}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:s.slice(T-100,T+100),mode:t.mode},sofar:C,relevance:0,value:Y(s),emitter:k}
if(o)return{illegal:!1,relevance:0,value:Y(s),emitter:k,language:e,top:_,errorRaised:t}
throw t}}function v(e,t){t=t||d.languages||Object.keys(n)
var r=function(e){var t={relevance:0,emitter:new d.__emitter(d),value:Y(e),illegal:!1,top:l}
return t.emitter.addText(e),t}(e),i=t.filter(j).filter(C).map((function(t){return g(t,e,!1)}))
i.unshift(r)
var o=i.sort((function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance
if(e.language&&t.language){if(j(e.language).supersetOf===t.language)return 1
if(j(t.language).supersetOf===e.language)return-1}return 0})),s=(0,a.default)(o,2),c=s[0],u=s[1],p=c
return p.second_best=u,p}function b(e){return d.tabReplace||d.useBR?e.replace(s,(function(e){return"\n"===e?d.useBR?"<br>":e:d.tabReplace?e.replace(/\t/g,d.tabReplace):e})):e}function y(e){var t=null,n=function(e){var t=e.className+" "
t+=e.parentNode?e.parentNode.className:""
var n=d.languageDetectRe.exec(t)
if(n){var r=j(n[1])
return r||(console.warn(c.replace("{}",n[1])),console.warn("Falling back to no-highlight mode for this block.",e)),r?n[1]:"no-highlight"}return t.split(/\s+/).find((function(e){return h(e)||j(e)}))}(e)
if(!h(n)){_("before:highlightBlock",{block:e,language:n}),d.useBR?(t=document.createElement("div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"):t=e
var i=t.textContent,a=n?m(n,i,!0):v(i),o=Z(t)
if(o.length){var s=document.createElement("div")
s.innerHTML=a.value,a.value=X(o,Z(s),i)}a.value=b(a.value),_("after:highlightBlock",{block:e,result:a}),e.innerHTML=a.value,e.className=function(e,t,n){var i=t?r[t]:n,a=[e.trim()]
return e.match(/\bhljs\b/)||a.push("hljs"),e.includes(i)||a.push(i),a.join(" ").trim()}(e.className,n,a.language),e.result={language:a.language,re:a.relevance,relavance:a.relevance},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.relevance,relavance:a.second_best.relevance})}}var x=function e(){if(!e.called){e.called=!0
var n=document.querySelectorAll("pre code")
t.forEach.call(n,y)}}
function j(e){return e=(e||"").toLowerCase(),n[e]||n[r[e]]}function S(e,t){var n=t.languageName
"string"==typeof e&&(e=[e]),e.forEach((function(e){r[e]=n}))}function C(e){var t=j(e)
return t&&!t.disableAutodetect}function _(e,t){var n=e
i.forEach((function(e){e[n]&&e[n](t)}))}for(var O in Object.assign(e,{highlight:m,highlightAuto:v,fixMarkup:function(e){return console.warn("fixMarkup is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2534"),b(e)},highlightBlock:y,configure:function(e){e.useBR&&(console.warn("'useBR' option is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2559")),
d=q(d,e)},initHighlighting:x,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",x,!1)},registerLanguage:function(t,r){var i=null
try{i=r(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",t)),!o)throw e
console.error(e),i=l}i.name||(i.name=t),n[t]=i,i.rawDefinition=r.bind(null,e),i.aliases&&S(i.aliases,{languageName:t})},listLanguages:function(){return Object.keys(n)},getLanguage:j,registerAliases:S,requireLanguage:function(e){console.warn("requireLanguage is deprecated and will be removed entirely in the future."),console.warn("Please see https://github.com/highlightjs/highlight.js/pull/2844")
var t=j(e)
if(t)return t
throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:C,inherit:q,addPlugin:function(e){i.push(e)},vuePlugin:W(e).VuePlugin}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="10.4.0",z)"object"===(0,u.default)(z[O])&&p(z[O])
return Object.assign(e,z),e}({})
e.exports=K},,,,,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},,function(e,t,n){"use strict"
n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))
var r=n(44),i=n.n(r),a=n(11)
function o(){var e=i()(["\n  .ModalPortal,\n  .CoreModalPortal,\n  .OverlayPortal {\n    min-width: initial !important;\n  }\n"])
return o=function(){return e},e}function s(){var e=i()(["\n  ::-webkit-scrollbar-track {\n    background-color: transparent;\n  }\n\n  ::-webkit-scrollbar {\n    width: 6px;\n    height: 6px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background-color: transparent;\n  }\n"])
return s=function(){return e},e}var c=Object(a.createGlobalStyle)(s(),(function(e){return e.theme.scrollbar.thumb.y_bg})),l=Object(a.createGlobalStyle)(o())},,,,,,,,function(e,t,n){"use strict"
n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))
var r=n(26),i=n.n(r),a=n(71),o=n(42),s=n(74),c=function(e){var t=e.screenCid,n=e.stateCid,r=e.screenMeta,a=e.widgetList,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s={},c=[{screenCid:t,stateCid:n,screenMeta:r,widgetList:a}].concat(i()(o))
return c.forEach((function(e){var t=e.treeId,n=e.screenCid,r=e.stateCid,i=e.screenMeta,a=e.widgetList,o=u(a,n,r),c=o.widgetMap,l=o.groupMap
t=t||"".concat(n,"-").concat(r),s[t]={groupMap:l,widgetMap:c,widgetTreeData:{screenMeta:i,children:l.root.children.map((function(e){return p(e,l,c,{})}))}}})),s},l=function(e,t,n,r){var i=u(n,e,t),a=i.widgetMap,o=i.groupMap,s=r.reduce((function(e,t){return e[t.cid]=t,e}),{})
return{cid:"root",children:o.root.children.map((function(e){return p(e,o,a,s)}))}},u=function(e,t,n){var r={},i={},a=[]
e.forEach((function(e){r[e.cid]=e,e.gid?(i[e.gid]=i[e.gid]||{gid:e.gid,screen_cid:t,children:[]},i[e.gid].children.push(e)):a.push(e)}))
var o={}
Object.values(i).forEach((function(e){var t=e.gid,i=e.screen_cid,s=e.children
s.sort(d)
var c=r[t]
if(!c){if(1===s.length)return s[0].gid="",void a.push(s[0])
c=h(t,i,n,s),r[c.cid]=c,a.push(c)}o[t]={cid:t,gid:c.gid,widget:c,children:s.map((function(e){return e.cid}))}}))
o.root={cid:"root",children:a.sort(d).map((function(e){return e.cid}))}
var s=[]
for(var c in r)"group"===r[c].name&&void 0===o[c]&&(delete r[c],s.push(c))
for(var l in o){var u=o[l].children
o[l].children=u.filter((function(e){return!s.includes(e)}))}return{widgetMap:r,groupMap:o}},d=function(e,t){return e.z-t.z||e.timestamp-t.timestamp},p=function e(t,n,r,i){var a=r[t]
if("group"===a.name){var s=n[t]||{children:[]}
return{cid:a.cid,type:"group",widget:a,links:Object(o.i)(i,a.link_cids),children:s.children.map((function(t){return e(t,n,r,i)}))}}if("panel"===a.name){var c=a.screen_meta_cid,l=a.screen_state_cid
return{cid:a.cid,type:"panel",widget:a,links:Object(o.i)(i,a.link_cids),refKey:"".concat(c,"-").concat(l),children:[]}}if("table"===a.name){var u=a.link_cids
return!u&&a.tableData&&a.tableData.links&&(u=a.tableData.links.flat().filter((function(e){return e})).join(",")),{cid:a.cid,type:"widget",widget:a,links:Object(o.i)(i,u),children:[]}}return{cid:a.cid,type:"widget",widget:a,links:Object(o.i)(i,a.link_cids),children:[]}},h=function(e,t,n,r){var i=r[r.length-1],o=i.primary_fixed
return o!==s.a.FIXED_TYPE.not_fixed&&r.forEach((function(e){return e.primary_fixed=s.a.FIXED_TYPE.not_fixed})),Object(a.c)({cid:e,name:"group",link_cids:e,screen_cid:t,screenstate_cid:n,z:i.z,primary_fixed:o})}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return W}))
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(329),c=n(270),l=n(102),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return new Promise((function(t,n){MB.global.popupHelper.alertAsyncBlocked(e).then(t),setTimeout(n,6e4)})).catch((function(){return setTimeout((function(){return Object(l.b)({type:"Error:alertAsyncBlocked:timeout",option:e})}),0)}))},d=function(){var e=o()(i.a.mark((function e(t){var n,r=arguments
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:t.status||-255,MB.event("zhuge","Workspace_ErrorMsg",{ErrorCode:"Save_Error"}),403!==n){e.next=8
break}return e.next=5,MB.global.popupHelper.alertAsyncBlocked({title:"无法继续编辑",confirmText:I18N.dModule.exit_editing,desc:"项目可能被删除或权限变更，详情请咨询企业管理员"})
case 5:MB.global.onBackButtonClick(),e.next=17
break
case 8:if(401!==n){e.next=14
break}return e.next=11,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm})
case 11:MB.global.onBackButtonClick(),e.next=17
break
case 14:return e.next=16,u({desc:window.I18N.dModule.unknown_error.replace(/%s/i,n),isHTML:!0})
case 16:window.location.reload()
case 17:return Object(l.a)(t),e.next=20,Object(c.setTimeoutAsync)(36e5)
case 20:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),p=function(){var e
return(e=MB).event.apply(e,arguments)},h=function(){return window.MB.user},f=function(){var e=o()(i.a.mark((function e(t){var n,r,a
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.autoSaveDelay,a=t.savingState,Object(l.c)(t,"[AutoSaver|".concat(n,"]"),{autoSaveDelay:r},a),e.next=4,d(t)
case 4:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),m=function(){return{id:h().id,name:h().name,avatar:h().avatar}},g=function(){var e=o()(i.a.mark((function e(t,n,r){var a,o
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.type,o=r.timeout,!String(t).toLowerCase().includes("timeout")){e.next=8
break}p("ga-0","send","event",a,"timeout","(".concat(n.length,")(").concat(o,"ms)(").concat(h().email,")")),MB.global.popupHelper.alertAsync({title:I18N.dModule.error_happened,desc:I18N.dModule.network_error,isHTML:!0}),e.next=11
break
case 8:return p("ga-0","send","event",a,"error: ".concat(t.status),"[".concat(t.status,"] ").concat(t.message||t,": (").concat(n.length,"item|").concat(o,"ms)(").concat(h().email,")")),e.next=11,d(t,t.status)
case 11:case"end":return e.stop()}}),e)})))
return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){return Object(s.createAutoSaver)({onSaverError:f})},b=n(272),y=n(85),x=n(24),w=n.n(x),j=n(22),S=n.n(j),C=n(25),_=new Set,O=new Set,k=new Set,M=function(e,t,n,r,i,a){var o=a.screenGlueConfig,s=a.screenMetaConfig,c=a.screenRuntimeDataConfig,l=a.screenRuntimeStateConfig,u=a.screenRuntimeItemListConfig
switch(e){case"projectMeta":return null
case"screenGlue":return E(t,n,r,i,o)
case"screenMeta":return T(t,n,r,i,s)
case"screenRuntimeState":return A(t,n,r,i,l)
case"screenRuntimeState:data":return D(t,n,r,i,c)
case"screenRuntimeState:itemList":return N(t,n,r,i,u)
default:return null}},E=function(e,t,n,r,i){"create"===e&&_.add(n.cid),"update"===e&&(i.updateScreenGlue=n),"delete"===e&&(i.deleteScreenGlue=r),i.operationSet.add(e)},T=function(e,t,n,r,i){"delete"===e&&(i.deleteScreenMeta=r,i.operationSet.add("delete")),"create"===e&&(_.has(n.screen_glue_cid)&&k.add(n.cid),_.delete(n.screen_glue_cid),O.add(n.cid),i.operationSet.add("create")),"update"===e&&n&&Boolean(n.deleted_at)&&MB.getCurrentProjectMeta().cid===n.project_meta_cid&&(i.deleteScreenMeta=n,
i.operationSet.add("delete")),"update"===e&&n&&Boolean(!n.deleted_at)&&(i.updateScreenMeta=n,i.operationSet.add("update"))},A=function(e,t,n,r,i){"create"===e&&(k.delete(n.screenMetaCid),O.delete(n.screenMetaCid),i.operationSet.add("create"))},D=function(e,t,n,r,i){"update"===e&&n!==r&&(i.updateData=n,i.operationSet.add("update")),"create"===e&&i.operationSet.add("create"),"delete"===e&&(i.deleteData=r,i.operationSet.add("delete"))},N=function(e,t,n,r,i){if(0===k.size){
var a=S()(t,1)[0],o=MB.getCurrentScreen().cid
if("update"===e){var s={},c={}
n&&n.forEach((function(e){return s[e.cid]=e})),r&&r.forEach((function(e){return c[e.cid]=e}))
for(var l=Object.keys(s),u=new Set(Object.keys(c)),d=0,p=l;d<p.length;d++){var h=p[d],f=s[h],m=c[h]
u.delete(h)
var g=void 0===m?"create":m!==f?"update":""
g&&i.operationSet.add(g)}var v,b=w()(u)
try{for(b.s();!(v=b.n()).done;){var y=v.value
i.operationSet.add("delete"),a===o&&i.selectionList.push(y)}}catch(e){b.e(e)}finally{b.f()}}}},I=function(e){var t=e.getSocketStore,n=Object(b.createProjectExchange)({getSocketStore:t})
return n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_LOAD_LOCAL,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_RESET_SERVER_WITH_DUMP,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_APPLY_SERVER_PATCH,(function(e){!function(e){var t={operationSet:new Set,updateScreenGlue:null,deleteScreenGlue:null},n={operationSet:new Set,
updateScreenMeta:null,deleteScreenMeta:null},r={operationSet:new Set,updateData:null,deleteData:null},i={operationSet:new Set,updateDta:null,deleteDta:null,selectionList:[]},a={operationSet:new Set}
Object(y.walkProjectStoreChangeMap)(e,(function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s]
return M.apply(void 0,o.concat([{screenGlueConfig:t,screenMetaConfig:n,screenRuntimeDataConfig:r,screenRuntimeStateConfig:a,screenRuntimeItemListConfig:i}]))}))
var o=t.operationSet,s=o.has("create"),c=o.has("update"),l=o.has("delete")
s||!c&&!l||MB.action("entry:refresh:template-list")
var u=n.operationSet,d=n.updateScreenMeta,p=n.deleteScreenMeta,h=u.has("create"),f=u.has("update"),m=u.has("delete")
if(!h){var g=MB.getCurrentScreen()
m&&(g.cid===p.cid?MB.action("entry:activate:root-project:home-screen"):MB.renderScreenList()),f&&(g.cid===d.cid&&MB.action("entry:update:current:screen-mata",{screenMeta:d}),MB.renderScreenList())}var v=r.operationSet,b=r.deleteData,x=v.has("create"),w=v.has("update")
if(v.has("delete"))if(MB.getCurrentScreenStateCid()===b.cid){var j=Object(C.h)(MB.getCurrentProjectMeta().cid,MB.getCurrentScreen().cid)
MB.action("entry:refresh:and:active:screenstate",{nextStateCid:j.cid})}else MB.action("entry:refresh:screenstate-list");(w||x)&&MB.action("entry:refresh:screenstate-list"),a.operationSet.has("create")&&(0===O.size&&MB.renderScreenList(),0===k.size&&(MB.action("entry:refresh:template-list"),MB.updateWidgetList()))
var S=i.operationSet,_=i.selectionList
0===O.size&&(S.has("delete")&&MB.action("selection:unselect:items",{cids:_}),MB.updateWidgetList())}(e)})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT,(function(e){return!1})),n},P=n(2),L=n.n(P),F=n(49),B=n(330),R=function(e,t,n){var r=CoWorker.find(e)||new CoWorker({cid:e,name:t,avatar:n})
r.screen_cid=MB.getCurrentScreen().cid,r.last_seen=new Date,r.save(),MB.renderCoWorkers&&MB.renderCoWorkers()},U=function(e){var t,n,r,a,s=e.userId,c=e.getProjectExchange,u=e.onError,d=void 0===u?l.c:u,p=(t={},L()(t,F.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW,(function(e){e.type
var t=e.payload.object,n=t.data,r=t.target_users,i=["org","mockingbot.com","mockingbot.in","wondershare.com"].some((function(e){return location.hostname.includes(e)}))?"org":"free"
"free"===r&&"org"===i||"org"===r&&"free"===i||MB.action&&MB.action("entry:init:upgrade-notice",{notice:n})})),L()(t,F.V3_BROADCAST_USER_DATA,(function(e){e.type,e.payload})),L()(t,F.V3_BROADCAST_PROJECT_META_DATA,(function(e){e.type
var t=e.payload
t.action===F.V3_ACTION_PROJECT_VERSION_RESET&&t.fromUser.id!==MB.user.id&&MB.action("versions:socket:project-version:reset",t)})),L()(t,F.V3_BROADCAST_COMMENT_DATA,(function(e){e.type
e.payload.forEach((function(e){var t=e.action,n=e.object
MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comments",action:t,data:n}})}))})),L()(t,F.V3_BROADCAST_COMMENT_THREAD_DATA,(function(e){e.type
e.payload.forEach((function(e){var t=e.action,n=e.object
MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comment-threads",action:t,data:n}})}))})),L()(t,F.V3_BROADCAST_ORG_DATA,(function(e){e.type,e.payload})),L()(t,F.V3_BROADCAST_TEAM_DATA,(function(e){e.type,e.payload})),L()(t,F.V3_BROADCAST_ORG_LIBRARY_DATA,(function(e){e.type
!function(e){switch(e.action){case F.V3_ACTION_LIBRARY_ACCESS_UPDATE:var t=e.libraryAccessList
MB.action&&MB.action("entry:update:org-library-accesses-data",{libraryAccessList:t}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-library-accesses-data",{libraryAccessList:t})
break
case F.V3_ACTION_ORG_ASSET_UPDATE:var n=e.orgAssetList,r=e.fromUser
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:n,type:"update",fromUser:r})
break
case F.V3_ACTION_ORG_ASSET_DELETE:var i=e.orgAssetList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:i,type:"del"})
break
case F.V3_ACTION_ORG_ASSET_GROUP_UPDATE:var a=e.orgAssetGroupList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:a,type:"update"})
break
case F.V3_ACTION_ORG_ASSET_GROUP_DELETE:var o=e.orgAssetGroupList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:o,type:"del"})
break
case F.V3_ACTION_ORG_COMBO_GROUP_UPDATE:var s=e.orgComboGroupList
MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:s,type:"update"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:s,type:"update"})
break
case F.V3_ACTION_ORG_COMBO_GROUP_DELETE:var c=e.orgComboGroupList
MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:c,type:"del"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:c,type:"del"})
break
case F.V3_ACTION_ORG_COMBO_DELETE:}}(e.payload)})),t),h=(n={},L()(n,F.V3_BROADCAST_PROJECT_META_DATA,(function(e){e.type,e.payload})),L()(n,F.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE,(a=o()(i.a.mark((function e(t){var n,r,a
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type,n=t.payload,r=n.jsonSaveQueue,a=void 0===r?[]:r,n.projectMetaCid,n.fromUser.id,c()){e.next=5
break}return e.abrupt("return",!1)
case 5:return e.next=7,c().applySaveQueueAsync({jsonSaveQueue:a})
case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})),L()(n,F.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE,(r=o()(i.a.mark((function e(t){var n,r,a,o,s,l,u
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type,n=t.payload,r=n.bufferSaveQueue,a=void 0===r?[]:r,n.projectMetaCid,o=n.fromUser,s=o.id,l=o.name,u=o.avatar,c()){e.next=5
break}return e.abrupt("return",!1)
case 5:return e.next=7,c().applySaveQueueAsync({bufferSaveQueue:a})
case 7:s&&MB.getCurrentScreen&&R(s,l,u)
case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})),n)
return Object(B.createSocketStoreV3)({userId:s,socketPayloadListenerMap:p,socketPayloadQueueAsyncListenerMap:h,onError:d})},z=n(331),H="".concat(location.origin,"/api/web/v3/snapshot_public.html"),G=function(){return Object(z.createSnapshotStore)({urlSnapshotPng:"/snapshot.png",urlSnapshotTask:"/snapshot/task",urlSnapshotPublic:H,urlPngFallback:"/mb-workspace/images/preview/image-load.png",
requestDesktopSnapshot:/Electron/i.test(navigator.userAgent)&&/Mockingbot/i.test(navigator.userAgent)?window.MB_DESKTOP_SNAPSHOT||window.parent.MB_DESKTOP_SNAPSHOT?null:window.MB_DESKTOP_SNAPSHOT_V3||window.parent.MB_DESKTOP_SNAPSHOT_V3:null,getDesktopSnapshotPngData:function(e,t){return{projectUpperName:MB.getCurrentProject().name,projectUpperDevice:MB.getCurrentProject().device,screenMetaList:Object(C.k)(e),cacheTag:MB.getScreenTimestampMap()[t]}},getDesktopSnapshotPngZipData:function(e){return{
projectUpperName:MB.getCurrentProject().name,projectUpperDevice:MB.getCurrentProject().device,screenMetaList:Object(C.k)(e),cacheTag:MB.getProjectTimestamp()}}})},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.projectExchange,r=t.snapshotStore,i=v(),a=U({userId:e,getProjectExchange:function(){return n}})
return n=n||I({getSocketStore:function(){return a}}),r=r||G(),i.addRailsFetchSaver({urlRailsFetchBatchSave:"/web/v3/something/something/batch_saving",onSaveChunkErrorAsync:g}),i.addProjectExchangeSaver({projectExchange:n,socketStore:a,getFromUser:m,onSaveChunkErrorAsync:g}),{autoSaver:i,projectExchange:n,socketStore:a,snapshotStore:r}},W=function(){var e=v(),t=U({getProjectExchange:function(){return n}}),n=I({getSocketStore:function(){return t}}),r=G()
return e.addDummySaver({name:"saver:rails-fetch"}),e.addDummySaver({name:"saver:project-exchange"}),{autoSaver:e,projectExchange:n,socketStore:t,snapshotStore:r}}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return X})),n.d(t,"c",(function(){return J}))
var r=n(135),i=n(98),a=n.n(i),o=n(11),s=n.n(o),c=n(4),l=n.n(c),u=n(0),d=n(5),p=n.n(d),h=n(1),f=n.n(h)
function m(e){var t=e.className,n=e.name,r=e.children,i=e.type,a=e.isLabel,o=e.isRequired
return p.a.createElement(a?"label":"div",{className:"form-entry ".concat(t),type:i},n&&Object(u.jsxs)("span",{className:"key",children:[n,o&&Object(u.jsx)("span",{className:"required-sign",children:"*"})]}),Object(u.jsx)("span",{className:"val",children:r}))}m.propTypes={className:f.a.string,children:f.a.any,name:f.a.any,type:f.a.string,isLabel:f.a.bool,isRequired:f.a.bool},m.defaultProps={className:"",isLabel:!1}
var g=n(3),v=n.n(g),b=n(7),y=n.n(b),x=n(6),w=n.n(x),j=n(8),S=n.n(j),C=n(9),_=n.n(C),O=n(2),k=n.n(O),M=function(e){S()(n,e)
var t=_()(n)
function n(){return y()(this,n),t.apply(this,arguments)}return w()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,r=e.isChecked,i=e.isDisabled,a=e.onClick,o=e.children
return Object(u.jsxs)("label",{className:"\n        ".concat(t,"-label\n        ").concat(r?"is-checked":"","\n        ").concat(i?"is-disabled":"","\n        ").concat(n,"\n        "),children:[Object(u.jsx)("button",{className:"checker",onClick:a,disabled:i}),o]})}}]),n}(d.PureComponent)
k()(M,"propTypes",{type:f.a.oneOf(["radio","check"]).isRequired,className:f.a.string,isDisabled:f.a.bool,isChecked:f.a.bool,onClick:f.a.func,children:f.a.any}),k()(M,"defaultProps",{className:""})
var E=function(e){S()(n,e)
var t=_()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),k()(v()(e),"createOnChangeHandler",(function(t,n){return function(){return e.props.onChange(t,n)}})),e}return w()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.optionList,i=t.currentOptionIdx,a=t.isDisabled
return Object(u.jsx)("span",{className:"radio-group ".concat(n," ").concat(a?"is-disabled":""),children:r.map((function(t,n){return t&&Object(u.jsx)(M,{type:"radio",isChecked:n===i,isDisabled:a||t.isDisabled,onClick:!(a||t.isDisabled)&&e.createOnChangeHandler(t.val,n),children:t.name},n)}))})}}]),n}(d.PureComponent)
k()(E,"propTypes",{className:f.a.string,onChange:f.a.func,optionList:f.a.array,currentOptionIdx:f.a.number,isDisabled:f.a.bool}),k()(E,"defaultProps",{className:""})
var T=function(e){S()(n,e)
var t=_()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),k()(v()(e),"createOnChangeHandler",(function(t){return function(){var n=e.props,r=n.onChange,i=n.currentOptionIdxList,a=new Set(i),o=a.has(t)?"delete":"add"
a[o](t),r(a)}})),e}return w()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.optionList,i=t.currentOptionIdxList,a=t.isDisabled,o=new Set(i)
return Object(u.jsx)("span",{className:"checkbox-group ".concat(n," ").concat(a?"is-disabled":""),children:r.map((function(t,n){return t&&Object(u.jsx)(M,{type:"check",onClick:e.createOnChangeHandler(n),isDisabled:a||t.isDisabled,isChecked:o.has(n),children:t.name},n)}))})}}]),n}(d.PureComponent)
k()(T,"propTypes",{className:f.a.string,onChange:f.a.func,optionList:f.a.array,currentOptionIdxList:f.a.oneOfType([f.a.instanceOf(Set),f.a.array]),isDisabled:f.a.bool}),k()(T,"defaultProps",{className:"",currentOptionIdxList:new Set})
var A=n(40),D=n.n(A),N=n(326),I=n.n(N),P=function(e){S()(n,e)
var t=_()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),k()(v()(e),"handleChange",(function(t,n,r){return e.props.onChange(r,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=(e.attr,e.size),n=(e.onChange,D()(e,["attr","size","onChange"]))
return Object(u.jsx)(I.a,l()(l()({},n),{},{size:t,onChange:this.handleChange}))}}]),n}(p.a.PureComponent)
P.propTypes={attr:f.a.string,size:f.a.oneOf(["regular","small"]),onChange:f.a.func},P.defaultProps={size:"small"}
var L=n(87),F=n.n(L),B=function(e){S()(n,e)
var t=_()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),k()(v()(e),"handleChange",(function(t){return e.props.onChange(t,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,n=(e.attr,e.size),r=(e.onChange,D()(e,["forwardedRef","attr","size","onChange"]))
return Object(u.jsx)(F.a,l()(l()({},r),{},{ref:t,size:n,onChange:this.handleChange}))}}]),n}(p.a.PureComponent)
k()(B,"propTypes",{forwardedRef:f.a.object,attr:f.a.string,size:f.a.oneOf(["regular","small"]),onChange:f.a.func}),k()(B,"defaultProps",{size:"small"})
var R=p.a.forwardRef((function(e,t){return Object(u.jsx)(B,l()({forwardedRef:t},e))})),U=n(35),z=n(327),H=n.n(z)
function G(e){var t=e.className,n=D()(e,["className"])
return Object(u.jsx)(H.a,l()({size:"small",className:Object(U.trimList)(["PanelInputNumber",t])},n))}G.propTypes={className:f.a.string}
var V=function(e){S()(n,e)
var t=_()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),k()(v()(e),"handleChange",(function(t){return e.props.onConfirm(t,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=(e.attr,e.onConfirm,e.precision),n=e.dontSelectOnFocus,r=D()(e,["attr","onConfirm","precision","dontSelectOnFocus"])
return Object(u.jsx)(G,l()({precision:t,dontSelectOnFocus:n,onConfirm:this.handleChange},r))}}]),n}(p.a.PureComponent)
V.propTypes={precision:f.a.number,dontSelectOnFocus:f.a.bool,value:f.a.oneOfType([f.a.string,f.a.number]),attr:f.a.oneOfType([f.a.string,f.a.array]),onConfirm:f.a.func},V.defaultProps={precision:0,dontSelectOnFocus:!0}
var W=Object(r.c)(a.a),Y=Object(r.c)(P),q=Object(r.c)(R),Z=Object(r.c)(V),X=(s()(Z).withConfig({displayName:"form__InputNumber",componentId:"sc-145fbkf-0"})(["&.is-valid:not(.unstyled){.title{color:#8d9ea7;}input{color:#415058;background-color:",";border:1px solid ",";}}&.is-valid.is-disabled{.title{opacity:1;color:#e8e8e8;}input{color:#c8cdd0;opacity:1;background-color:",";border:1px solid ",";}}"],(function(e){return e.theme.draggablePanel.NumberInput.bg}),(function(e){
return e.theme.draggablePanel.NumberInput.border_color}),(function(e){return e.theme.draggablePanel.NumberInput.disabled_bg}),(function(e){return e.theme.draggablePanel.NumberInput.disabled_border_color})),s()(Y).withConfig({displayName:"form__Check",componentId:"sc-145fbkf-1"})(["&.small.is-checked{.Check-state{background-color:",";border-color:",";color:",";}}"],(function(e){return e.theme.draggablePanel.CheckBorder.bg}),(function(e){return e.theme.draggablePanel.CheckBorder.border_color}),(function(e){
return e.theme.draggablePanel.CheckBorder.cr}))),J=s()(q).withConfig({displayName:"form__Select",componentId:"sc-145fbkf-2"})(["&.small:not(.unstyled){background-color:",";border:1px solid ",";}&.small.CoreSelect:not(.unstyled){background-color:",";border:1px solid ",";}"],(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color}),(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color
}))},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return M}))
var r=n(24),i=n.n(r),a=n(4),o=n.n(a),s=n(22),c=n.n(s),l=n(110),u=n(54),d=n(143),p=n(220),h=n(97),f=n(139),m=n(58),g=n(96),v=n(116),b=n(186),y=n(111),x=n(78),w=y.tableUtilsFunction.mapTableToLayer,j=/\\\w+/gi,S=function(e){return e?"number"==typeof e?Object(u.rgbaCSSFromHex8Number)(e):e.replace(j,"").trim():b.a},C=function(e){return Object(m.a)(e)},_=function(e){var t=Object(m.b)(e)
return t?t.borderColor:"transparent"},O=function(e,t,n){var r=[],i=n.width,a=n.height
return e.forEach((function(e){var n=e.id,s=e.rotation,l=e.name,u=e.left,d=e.top,p=e.width,h=e.height
if("group"!==l){if(s&&0!==s){var f={x:u+p/2,y:d+h/2},m=[s].map((function(e){return e%180})).map((function(e){return e<90?e:180-e})),v=c()(m,1)[0],b=Object(g.b)(f.x,f.y,p,h,v)
u=b.left,d=b.top,p=b.width,h=b.height}var y=function(e){return Number.isInteger(e)||"artboard-base"===e}(n)?i/t.width:1,x=d*y,w=u*y,j=p*y,S=h*y,C=Math.min(Math.max(w,0),i),_=Math.min(Math.max(w+j,0),i),O=Math.min(Math.max(x,0),a),k=Math.min(Math.max(x+S,0),a)
_-C!=0&&k-O!=0&&r.push(o()(o()({},e),{},{id:n,left:C,top:O,width:_-C,height:k-O,src_top:Number(parseFloat(Math.max(d,0)).toFixed(2)),src_left:Number(parseFloat(Math.max(u,0)).toFixed(2)),src_width:Number(parseFloat(Math.min(u+p,t.width)-Math.max(u,0)).toFixed(2)),src_height:Number(parseFloat(Math.min(d+h,t.height)-Math.max(d,0)).toFixed(2)),rect_height:e.height,rect_width:e.width}))}else r.push(e)})),r},k=function(e,t,n){var r=!!n.artboard_id,i=e.filter((function(e){
return!(["link","pg","lr","sticky"].includes(e.name)||r&&"image_view"===e.name&&e.width===n.width&&e.height===n.height)})).sort((function(e,t){return e.z-t.z||e.timestamp-t.timestamp}))
return M(i,t.device)},M=function(e,t){var n,r=[],a=i()(e)
try{for(a.s();!(n=a.n()).done;){var s=n.value,c=E(s,t),l=o()(o()({},c),{},{id:s.cid,src_top:s.top,src_left:s.left,src_width:s.width,src_height:s.height})
"table"!==l.name?r.push(l):w(l).map((function(e){r.push(E(e,t))}))}}catch(e){a.e(e)}finally{a.f()}return r},E=function(e,t){var n,r={},i=e.name,a=e.ro,o=e.border_radius,s=Object(m.d)(e),c=e.ha,l=e.va,p=e.lh,f=e.box_shadow,g=e.text_shadow,b=e.sc,y=e.ds,w="string"==typeof e.text?e.text:JSON.stringify(e.text)
if(w&&(n=A(w.replace(/<p>/g,"").replace(/<\/p>/g,"\n")),r.text_styles=Object(h.a)(e)?[N(e.text)]:[{font_size:e.fs,color:S(e.tc||D(i,"tc")),length:n.length,font_face:I(w,t)}],r.text=n),e.table_cell_text&&(r.text=e.table_cell_text,r.text_styles=[{fontStyle:e.fontStyle,letterSpacing:0,lineHeight:e.lineHeight,paraSpacing:5,font_size:e.fs,color:e.color,length:e.table_cell_text.length,font_face:I(e.table_cell_text,t)}]),c&&(r.alignment=c),l&&(r.vertical_alignment=l),p&&(r.line_height=p),
o&&"0"!==o&&(r.bd_radius=o),a&&(r.rotation=a),r.border=_(e),v.a.includes(i)&&s&&(r.borders=[{thickness:s,color:_(e)}]),e.background&&(r.bg_colors=[{value:C(e)}]),e.table_cell_background&&(r.bg_colors=[{value:e.table_cell_background}]),"triangleb"!==i&&"triangletl"!==i||(r.bg_colors=[{value:C(e)}]),Object(x.g)(i)&&(r.bg_colors=[{value:S(e.tc||D(i,"tc"))}]),f){var O=function(e){var t=Object(d.boxShadowJSONFromBase)(e)
return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,spread:t.spreadRadius,color:Object(u.rgbaCSSFromHex8Number)(Object(u.hex8NumberFromJSON)(t.color))}:null}(f[0])
O&&(r.shadows=[O])}else b&&y&&(r.shadows=[{color:S(b.replace(j,"")),blur_radius:y}])
if(g){var k=function(e){var t=Object(d.textShadowJSONFromBase)(e)
return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,color:Object(u.rgbaCSSFromHex8Number)(Object(u.hex8NumberFromJSON)(t.color))}:null}(g[0])
k&&(r.textShadows=[k])}else e.ts&&(r.textShadows=[{color:S(e.tsc.replace(j,"")),blur_radius:e.ts}])
return"label"!==i&&"text_view"!==i||(r.hiddSpacing=!0),Object.assign({},e,r)},T=/<[^>]+>/gi,A=function(e){return!!e&&e.replace(T,"")},D=function(e,t){var n=b.a[e]
return n&&n[t]?n[t]:b.a[t]},N=function(e){var t=Object(l.getRichTextAttr)(e),n=t.fontFamily,r=t.fontWeight,i=t.fontSize,a=t.color,o=t.fontStyle,s=t.letterSpacing,c=t.lineHeight,u=t.paraSpacing
return{font_face:"".concat(Object(p.d)(n,r)),font_size:i,color:a,fontStyle:o,letterSpacing:s,lineHeight:c,paraSpacing:u}},I=function(e,t){var n=P(e)?"chinese":"english",r=L()?"mac":"windows",i=Object(f.c)(t)
return F[r][i][n]},P=function(e){var t=e.charCodeAt(0)
return t>=19968&&t<=40869},L=function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},F={mac:{ios:{chinese:"PingFang SC",english:"-apple-system"},android:{chinese:"PingFang SC",english:"Roboto"},others:{chinese:"PingFang SC",english:"Roboto"}},windows:{ios:{chinese:"Microsoft Yahei",english:"Arial"},android:{chinese:"Microsoft Yahei",english:"Roboto"},others:{chinese:"Microsoft Yahei",english:"Roboto"}}}},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(4)),a=r(n(40)),o=r(n(7)),s=r(n(6)),c=r(n(3)),l=r(n(8)),u=r(n(9)),d=r(n(2)),p=n(0),h=n(5),f=r(n(1)),m=r(n(72)),g=n(35),v=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){var e;(0,o.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,c.default)(e),"state",{isTruncated:!1,isDetected:!1}),(0,d.default)((0,c.default)(e),"set$ellipsis",(function(t){return Object.assign((0,c.default)(e),{$ellipsis:t})})),(0,d.default)((0,c.default)(e),"detectTruncation",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$ellipsis
return t.offsetWidth<t.scrollWidth})),e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}},{key:"componentDidUpdate",value:function(e){var t=e.children,n=e.html,r=this.props,i=r.children,a=r.html,o=this.state.isDetected
return t!==i||n!==a?this.setState({isDetected:!1}):o?void 0:this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.to,r=e.type,o=e.max,s=e.display,c=e.lang,l=e.theme,u=e.noTooltip,d=e.withTooltip,h=e.withQuote,f=e.withPeriod,v=e.withComma,b=e.withQuestionMark,y=e.children,x=e.html,w=(0,
a.default)(e,["className","to","type","max","display","lang","theme","noTooltip","withTooltip","withQuote","withPeriod","withComma","withQuestionMark","children","html"]),j=this.state,S=j.isTruncated,C=x?{dangerouslySetInnerHTML:{__html:x}}:{children:y},_=j.isDetected&&(S?"is-truncated":"isnt-truncated"),O=(0,i.default)({type:n?"link":"inline",theme:l,className:(0,g.trimList)(["Ellipsis",_,t]),href:n,"data-type":r,"data-max":o,style:{display:s,maxWidth:isFinite(o)?"".concat(o,"em"):o},
content:(d||S&&!u)&&(0,p.jsx)("div",(0,i.default)({lang:c,className:"EllipsisTip"},C)),html:x,children:y,setRef:this.set$ellipsis},w),k=(0,p.jsx)(m.default,(0,i.default)({},O))
return h||f||v||b?(0,p.jsx)("span",{className:(0,g.trimList)(["Punctuation",h&&"with-quote",f&&"with-period",v&&"with-comma",b&&"with-question-mark",_]),children:k}):k}}]),n}(h.PureComponent);(0,d.default)(v,"propTypes",{className:f.default.string,theme:f.default.oneOf(["core","plain"]),type:f.default.oneOf(["user","id","email","org","team","app","widget"]),max:f.default.oneOfType([f.default.string,f.default.number]),display:f.default.oneOf(["inline-block","block"]),lang:f.default.string,
to:f.default.string,children:f.default.node,html:f.default.string,noTooltip:f.default.bool,withTooltip:f.default.bool,withQuote:f.default.bool,withComma:f.default.bool,withPeriod:f.default.bool,withQuestionMark:f.default.bool}),(0,d.default)(v,"defaultProps",{lang:"en",theme:"core"})
var b=v
t.default=b},function(e,t,n){"use strict"
var r=n(21),i=n(16),a=n(7),o=n.n(a),s=n(6),c=n.n(s),l=n(3),u=n.n(l),d=n(8),p=n.n(d),h=n(9),f=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n(1),y=n.n(b),x=n(5),w=n.n(x),j=n(4),S=n.n(j),C=n(196),_=n(184),O=n(60),k=function(e,t,n){var r=e.children.filter((function(e){if(0!==e.widget.primary_fixed)return!1
var r=t-(e.widget.top+e.widget.height)
return"group"!==e.type?r<n:t-Object(O.b)(e).maxY<n}))
return S()(S()({},e),{},{children:r})},M=n(198),E=n(193),T=n(204),A=n(45),D=n(13),N=n.n(D),I=function(e){p()(n,e)
var t=f()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.screenInfo,r=e.isActive,i=e.style,a=e.isHTMLZip,o=e.isScrollable,s=n.screenMeta,c=n.stateCid,l=n.screenRuntimeState,u=n.transition,d=Object(A.b)(s.cid,c,l.itemListMap[c]),p=S()({display:t?"":"none",backgroundColor:s.bgcolor,backgroundImage:s.bgimage?"url(".concat(s.bgimage,")"):"",height:s.height},i),h=Object(T.b)(s),f=N()("pcanvas",h,{active:r,mouseAble:d.length
}),m=l.dataMap[c],g=m.hh,b=m.fh,y=r&&o&&"none"!==p.display
return Object(v.jsxs)("div",{id:"pscreen".concat(s.cid),"data-cid":s.cid,"data-orientation":h,className:f,style:p,children:[Object(v.jsx)(L,{screenMeta:s,stateCid:c,transition:u,screenRuntimeState:l,isHTMLZip:a}),y&&Object(v.jsx)(P,{screenCid:s.cid,hh:g,fh:b})]})}}]),n}(x.PureComponent)
g()(I,"propTypes",{isShow:y.a.bool,isActive:y.a.bool,screenInfo:y.a.object,style:y.a.object,isHTMLZip:y.a.bool,isScrollable:y.a.bool})
var P=function(e){p()(n,e)
var t=f()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.screenCid
setTimeout((function(){return MB.runner.runnerUtil.renderScrollbar(e)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.screenCid
MB.runner.runnerUtil.renderScrollbar(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.screenCid
MB.runner.runnerUtil.destroyScrollBarByCid(e)}},{key:"render",value:function(){return null}}]),n}(x.PureComponent)
g()(P,"propTypes",{screenCid:y.a.string})
var L=function(e){p()(n,e)
var t=f()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.stateCid,r=e.transition,i=e.screenRuntimeState,a=e.isHTMLZip,o=i.dataMap[n],s=o.hh,c=void 0===s?0:s,l=o.fh,u=void 0===l?0:l,d={height:t.height-(c+u)},p={height:t.height,marginTop:-c},h={isHTMLZip:a,isPreview:!0,isSnapshot:!1}
return Object(v.jsx)(M.a,{screen:t,stateCid:n,transition:r,screenRuntimeState:i,children:function(e){return Object(v.jsxs)(w.a.Fragment,{children:[Object(v.jsx)("div",{className:"screen-header",style:{height:c},children:c>0&&Object(v.jsxs)(w.a.Fragment,{children:[Object(v.jsx)(E.a,{imageUrl:t.artboard_image_url}),Object(v.jsx)(_.a,S()({screen:t,widgetTreeData:(n=e,r=c,i=n.children.filter((function(e){return 0===e.widget.primary_fixed&&("group"!==e.type?e.widget.top<r:Object(O.b)(e).minY<r)})),
S()(S()({},n),{},{children:i}))},h))]})}),Object(v.jsx)("div",{className:"screen-content",children:Object(v.jsx)("div",{className:"widgets",style:d,children:Object(v.jsxs)("div",{className:"scontainer",style:p,children:[Object(v.jsx)(E.a,{imageUrl:t.artboard_image_url}),Object(v.jsx)(_.a,S()({screen:t,widgetTreeData:e},h))]})})}),Object(v.jsx)("div",{className:"screen-footer",style:{height:u},children:u>0&&Object(v.jsxs)("div",{className:"footer-widgets",style:{marginTop:u-t.height},
children:[Object(v.jsx)(E.a,{imageUrl:t.artboard_image_url}),Object(v.jsx)(_.a,S()({screen:t,widgetTreeData:k(e,t.height,u)},h))]})})]})
var n,r,i}})}}]),n}(x.PureComponent)
g()(L,"propTypes",{screenMeta:y.a.object,stateCid:y.a.string,transition:y.a.object,screenRuntimeState:y.a.object,isHTMLZip:y.a.bool})
var F=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),g()(u()(r),"handleHomeScreenLoad",(function(e){var t=r.props.screenInfoMap[e],n=t.screenMeta,i=t.stateCid
MB.runner.doneTransition(n,i)})),g()(u()(r),"handleTransitionEnd",(function(e){var t=r.props,n=t.screenInfoMap,i=t.transition,a=i.name,o=i.callback;/(menu|drawer)-reverse/.test(a)&&(console.log("menu - closed"),MB.runner.currentMenu=MB.runner.currentScreen=null)
var s=n[e],c=s.screenMeta,l=s.stateCid
MB.runner.doneTransition(c,l),o&&o()})),r.state={prevScreenCid:"",currentScreenCid:e.activeCid},r}return c()(n,[{key:"componentDidMount",value:function(){MB.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!0}})}},{key:"componentWillUnmount",value:function(){console.log("mb runner will unmount")}},{key:"render",value:function(){var e=this.props,t=e.screenInfoMap,n=e.transition,r=e.isHTMLZip,i=e.isScrollable,a=this.state,o=a.prevScreenCid,s=a.currentScreenCid
return s?Object(v.jsx)(C.a,{activeCid:s,transition:n,onHomeScreenLoad:this.handleHomeScreenLoad,onTransitionEnd:this.handleTransitionEnd,children:function(e,n){return Object.values(t).sort((function(e,t){return e.cid>t.cid?1:-1})).map((function(t,a){var c=t.cid,l=c===o,u=c===s,d=l?e:u?n:null
return Object(v.jsx)(I,{isShow:l||u,screenInfo:t,style:d,isActive:s===c,isHTMLZip:r,isScrollable:i},c)}))}}):null}}]),n}(x.PureComponent)
g()(F,"propTypes",{isHTMLZip:y.a.bool,isScrollable:y.a.bool,screenInfoMap:y.a.object,activeCid:y.a.string,transition:y.a.object}),g()(F,"getDerivedStateFromProps",(function(e,t){return e.activeCid!==t.currentScreenCid?{prevScreenCid:t.currentScreenCid,currentScreenCid:e.activeCid}:null}))
var B=Object(r.connect)((function(e){var t=Object(i.D)(e).isHTMLZip,n="device"===Object(i.M)(e)
return S()({isHTMLZip:t,isScrollable:n},Object(i.J)(e))}))(F),R=n(22),U=n.n(R),z=n(113),H=n(79),G=n(11),V=n.n(G),W=V.a.div.withConfig({displayName:"style__StyledAppSplash",componentId:"x9spaw-0"
})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]),Y=function(e){p()(n,e)
var t=f()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentWillUnmount",value:function(){Object(H.a)(8)}},{key:"render",value:function(){var e,t=this.props,n=t.homeScreen,r=t.url,i=t.isPanelPreviewMode,a=Object(T.a)(n),o=U()(a,2),s=o[0],c=o[1],l=Object(T.b)(n)
return e=n.width!==s?{top:0-s,width:c,height:s}:{top:0,width:s,height:"101%"},Object(v.jsxs)(W,{className:N()("splash",l),style:{backgroundColor:n.bgcolor},children:[r&&!i&&Object(v.jsx)("img",{src:r,style:e}),Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)(z.a,{className:"splash-loading"})})]})}}]),n}(x.PureComponent)
g()(Y,"propTypes",{homeScreen:y.a.object,url:y.a.string,isPanelPreviewMode:y.a.bool})
var q=n(25),Z=n(123),X=function(e,t,n,r,i,a){var o,s,c,l,u=i.isMobile,d=i.isEmbedV1,p=i.isEmbedV2,h=i.isSquare,f=a.isShellShow,m=a.isImmersive,g=a.scale,v=m||"device"!==r,b=(p||h)&&"device"!==r
if(u||d||(p||h)&&"device"===r){var y=d||p,x=y&&"landscape"===(s=n.cid,c=Object(q.j)(s).cid,l=Object(q.k)(c),Object(Z.b)(l)).orientation?[t.height,t.width]:[t.width,t.height],w=window.innerWidth,j=window.innerHeight
if(y&&(w=x[0],j=x[1]),(p||h)&&!u){var S="landscape"===e.orientation?[t.height,t.width]:[t.width,t.height],C=U()(S,2)
w=C[0],j=C[1]}var _=y||h?{width:w,height:j}:{width:window.innerWidth,height:window.innerHeight},O=_.height,k=_.width/e.width,M=e.width,E=O,T=0
e.height*k<O&&(E=e.height*k,T=Math.floor(Math.max((O-E)/2,0))),e.width===n.width&&_.width<_.height&&(E=Math.min(n.height*k,O),T=Math.floor(Math.max((O-E)/2,0))),o={width:M,height:E/k,transform:"scale(".concat(k,")"),marginTop:T}}else if(b){var A=g/100,D="landscape"===e.orientation?t.width:t.height
"device"!==r&&(D=Math.min(D,e.height)),o={width:e.width,height:e.height,marginBottom:(window.innerHeight-D*A)/2/A}}else if(v)o={width:e.width,height:e.height}
else{var N=e.width,I=0
f?(n.height===e.width&&(I=n.width),n.width===e.width&&(I=n.height)):I=e.height,o={width:N,height:I}}return o},J=n(149),K=n(138),Q=n(354),ee=V.a.div.withConfig({displayName:"style__StyledSimulator",componentId:"m9lqnr-0"
})(["transform-origin:top left;background-size:100% 100%;position:relative;z-index:4;&.iphone,&.android{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABblBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBQX////////////////////////////////////////////////////////////////////////////+/v7///8CAgL///////////8AAAAAAAD///////////////////////////8AAAADAwP///////////8AAAD///////////8BAQH///8AAAD////t7e3///8DAwNDQ0MkJCQXFxcgICDl5eX8/Pz8/Pz19fW4uLj///+0tLSurq7////AwMChoaFZWVlAQECqqqqfn591dXVqampOTk4vLy/q6urx8fHr6+vg4ODa2trz8/POzs7CwsLKysr19fXg4OC7u7v////k5OT09PT///////+ysrL////39/fn5+eWlpbT09PLy8u5ubmamprS0tKzs7Obm5stLS1WVlbJycnX19dISEiZmZnPz8/R0dGZmZlISEjBwcG/v7/YpJ28AAAAenRSTlMAAwYLEg4XCS8tNzJEST81KiglIyBCR049OhgbTB0WVBMUGhBYVg4eC1EmIwlcBykcY14sOyBSBVovNzEtNZ6MhXx4dHRualxMPz0SYkdGMjCqo6Ccl5KMiYaFhXx7eXhvbWdgX19eU0pGOjIvLBwaFxMTBXBvZDwdHMsX0GIAAAKhSURBVEjHpZYHk5pAFICTCHheNP1OjSEGYnIRgmjQE3vv9XrvvbfUf59d6nkI7sx9w4yF/ea9XZb39skwnuoY7pkMf6aBYEnj7TYbLmGz2eySZimA8TiGUYQERWFAkyQrAcMImmQZXhB4hiVJGlgg1HBHFiia5LvlpYXszEx2Yanc5WM0ASTZMRogJTr2Z31+NpffKG1vlzbyudn59SZLEpgcyGhgBJkqzuVK1YhGtZSbK2ZiNIZLjtFg29l8NfJjgEg1n/3N0BR0jAZTXNzZ4zhR5EROQ+T2dhaLAvnQkYz+8mpEDAxBjKyupKADUtMNO04wKwXuiwlcYVkgMbhuelo4xZa3RL8p4laZp6FzLy3ysBCYhgSngyrgq/Y7UDhkCZiaEgSklVoLuC0JrGWk1LQgscq++4Ml7v0Ko4WBQZKbQdcI3JtNKYw6k4rfNTkCl78CZqMqFPPT5RyJ65dAYyAzqOBE48A5MRLnQUPKDE4Fo9uTLxCYbMdgZvJ67To9UU8UXB4z4P2JXUZVKLbm8UKi3ii4vGZ4ajyN22WFqUXHEYjWwPwVhT8af4nA+FFCV46fI3GsK8zJGBInemJsfcyBwFhdmz4WqzteIeCog0VWH2XH8RoBRwc+SmXDJM/eIHCmbGV5/qdvETjVtiXc/J13CHTh5tdesdR5eCoMrikD4E8I+DjX3mR5zRo+C8K+cNjna9x7kWGY9MX7EVzoQZTZJP9+tORfUy1KeulLXn+y4Dqplz69wPZuPpty01MK7GAZ53utrya0koJcxg3Not/6NpRW39AsVIdNXYW+GwhdZbSWZHRIIX0bDw0Qv00l1MZn0l4T6Uv7XVzhzn6ZTmjt1aKJJ9JgFI5TJJtOGJs4+lHhsQcS9GPP4w9X6Ee4/9WZxSosYtQDAAAAAElFTkSuQmCC') 25 25,default;&:active{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA51BMVEUAAADu7u7t7e3s7Ozl5eXr6+vq6uro6OgAAAAAAADt7e3s7Ozq6uro6Ojs7Ozp6enm5ubk5OTv7+/n5+fv7+/v7+/q6uri4uLh4eHs7Ozp6enw8PDf39/v7+/h4eHx8fHw8PDi4uLd3d3v7+/o6Ojw8PDm5ubr6+soKCi/v7/l5eXx8fHw8PDa2trx8fHAwMCZmZlmZmbHx8e5ubnh4eHOzs66urro6Ojc3NzAwMDc3NzZ2dnm5ubk5OTW1tbS0tLLy8vQ0NC0tLSvr6+MjIyCgoLf39/i4uLs7Ozh4eHW1tbPz8/q6uojhl1DAAAATXRSTlMAgHlyVG1qWwcCfHRoYG9hV1GGXYOMZktJd2STRIhGlpBNQY5YmVJ/DGJNmoiGjmYoFHBbjHNgk4J4m5GMf316eXhKSB8cdp6Xko6GhVNXB78AAAI1SURBVEjH3ZZrd6IwEIa3oJKoKHZbVIpaVmRBF1FAvF/qrdf//3t2kGVDBJXPfTKZzHvkPTkcJMOP7w7GCOk6QhinvB4NnNHKfH83VyNngPBtw8EwF6zEaYqicRK7MI0Dvm4YGi6r1mT51wlZrqmsawyvmNDWZbUmXE+Qm1rJ3aKLDmOpVuUYNXVpXPDo04LWTKJWKWz0xD022UotgSrMSnaKEhxWtlINUKoxKkcr5sHbpaB0u0pXAbpBRLWw3OIzy3DCaRUaWnPm8GwTS8qEaBBhpWmQAiSL3mY/4TJCBiJEEE7an/80N9nTm4iqKqgCAAsARaiDCUmktkFrnrsJv0YRy+DI/6TgSfZToI4D4sBGkefLfEBYxLVoYGKxi+WyVP6PBCMIyS9DRJtY0KgoiREkUZIgwxLUgP97cYSI5SVXjCDCSCL3Qiz6KpeKlU4s62wq1sSCRmypBHEiVhEdvRebTYVNLNiuF1JQtzGxOHWmDsEw/upXydrBkT/MhGGYPHOd/GRAHPBg8imAx0LA3t3d7zAgwfDTmfYw9YqZdzcx9/SL7Hw9+Nw/EM70F9w8xdC8j9MIkw8cFzR45zYaf4LwEyy0dnc4dvR5i8crLJyk43L62O63n2Ge6Pfb4QDGNko+xsfPNE/+9PN4ql9qFuOnRMbe5Qazm7+1YrzNd+hq45u1er1Op9fqQG71Oq3ODBrfjfZqfbyCpQcWiNcP64DTNHFv8zmfzeafG4808fSfCt+cvwzTdVIzvwMmAAAAAElFTkSuQmCC') 25 25,default;}}.group,.ppanel{pointer-events:none;&.clickable{pointer-events:auto;}.widget{pointer-events:auto;}}.group.invisible,.ppanel.invisible{pointer-events:none;*{pointer-events:none !important;}}.ppanel{transform:translateX(0);overflow:hidden;.panel-scroll-box{position:relative;width:100%;height:100%;overflow:hidden;}&.panelShow{overflow:visible;.panel-scroll-box{overflow:visible !important;.pstate{overflow:visible !important;}}}&.panelHidden{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollX{overflow:hidden;.panel-scroll-box{overflow:hidden;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollY{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;.pstate{overflow:hidden;}}}}.pg{display:none;}.lr{background:transparent;opacity:1;border:none;}.clickable > .region{position:absolute;top:0;right:0;width:100%;height:100%;background-color:rgba(255,195,16,0.2);z-index:100;display:none;background-repeat:no-repeat;background-position:50%;border:1px solid #ff7100;}.pg{left:50%;margin-left:-20px;z-index:110;justify-content:center;align-items:center;&.stap{top:10px;}&.sleft{top:60px;}&.sright{top:120px;}&.sup{top:180px;}&.sdown{top:240px;}&.sshake{top:300px;}&.sdtap{top:300px;}}#app{background:#f0f0f2;width:100%;height:100%;position:absolute;background-size:100% auto;z-index:1;transform:translate(0,0);overflow:hidden;.pstate{position:absolute;overflow:hidden;width:100%;height:100%;z-index:1;}.pcanvas{display:flex;flex-direction:column;.screen-header,.screen-footer{position:relative;overflow:hidden;}.screen-footer{.footer-widgets{position:absolute;top:0;left:0;width:100%;height:100%;}}.screen-content{position:relative;flex:1;overflow:hidden;.iScrollVerticalScrollbar{z-index:2147483647 !important;}}}.pcanvas,.pstate{transition:unset !important;z-index:1;width:100%;height:100%;max-height:100%;position:absolute;left:0;top:0;background-color:transparent;background-repeat:repeat;background-position:top left;background-size:100% auto;overflow:hidden;.widgets{width:100%;height:100%;position:relative;overflow:hidden;.scontainer{position:absolute;overflow:hidden;width:100%;}}&.mouseAble{pointer-events:auto;}}}&.is-outside-visible{#app{overflow:visible;.pcanvas{overflow:visible;.screen-header,.screen-footer{overflow:visible;}.screen-content{overflow:visible;.widgets{overflow:visible;.scontainer{overflow:visible;}}}}}}&.is-mobile{#app{background:#000;overflow:visible;.pcanvas{overflow:visible;}}.ppanel{overflow:auto;&.panelShow{overflow:visible;}}.map_view .image{overflow:auto;}}"]),te=function(e){
p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),g()(u()(r),"handleMouseDown",(function(e){var t=r.props,n=t.previewOptions,i=t.isImmersive
if(!n.isMobile&&!i){var a=$(e.target).closest(".map_view .image"),o=$(e.target).closest(".ppanel"),s=a[0]||o[0]
if(s&&(s.clientWidth!==s.scrollWidth||s.clientHeight!==s.scrollHeight)){var c=e.clientX,l=e.clientY,u=s.scrollTop,d=s.scrollLeft,p=0,h=function(e){e.preventDefault(),p++,s.scrollTop=u-(e.clientY-l),s.scrollLeft=d-(e.clientX-c)}
document.addEventListener("mousemove",h),document.addEventListener("mouseup",(function e(){p>5&&MB.runner.eventBucket.isCoolDown(),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",e)}))}}})),r.state={homeScreen:e.screen},r}return c()(n,[{key:"componentDidMount",value:function(){var e=this
if(this.props.previewOptions.isMobile){var t="onorientationchange"in window?"orientationchange":"resize"
window.addEventListener(t,(function(){setTimeout((function(){e.forceUpdate()}),100)}),!1)}MB.runner.eventHandler.init(document.querySelector("#app"))}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.screen,r=e.screenGlue,i=e.scale,a=e.isImmersive,o=e.isShowSplash,s=e.isPanelPreviewMode,c=e.isShellShow,l=e.simulatorType,u=e.previewOptions,d=this.state.homeScreen,p=u.isMobile,h=t.splash,f=void 0===h?"":h,m=X(n,r,t,l,u,{isShellShow:c,isImmersive:a,scale:i}),g=Object(J.b)(n,t.device)
return p&&(g+=" is-mobile"),"outside_artboard"===l&&(a||"device"!==l)&&(g+=" is-outside-visible"),Object(v.jsxs)(ee,{id:"simulator",className:g,style:m,onMouseDown:this.handleMouseDown,children:[Object(v.jsx)("div",{id:"app",children:Object(v.jsx)(B,{})}),o&&Object(v.jsx)(Y,{homeScreen:d,url:f,isPanelPreviewMode:s}),Object(v.jsx)(Q.a,{}),p&&Object(v.jsx)(K.a,{})]})}}]),n}(x.PureComponent)
g()(te,"propTypes",{screen:y.a.object.isRequired,project:y.a.object.isRequired,screenGlue:y.a.object.isRequired,isShowSplash:y.a.bool,isShellShow:y.a.bool,isMobile:y.a.bool,isImmersive:y.a.bool,isPanelPreviewMode:y.a.bool,previewOptions:y.a.object,simulatorType:y.a.string,scale:y.a.number})
t.a=Object(r.connect)((function(e){var t=Object(i.g)(e),n=Object(i.c)(e),r=Object(i.h)(e),a=Object(i.o)(e),o=function(e){return e.container.artboards.isShowSplash}(e)
return{screen:t,project:n,screenGlue:r,previewOptions:Object(i.D)(e),isImmersive:a,isShowSplash:o,isPanelPreviewMode:Object(i.q)(e),simulatorType:Object(i.M)(e),scale:Object(i.f)(e)}}))(te)},function(e,t,n){"use strict"
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n(13),c=n.n(s),l=n(11),u=n.n(l).a.span.withConfig({displayName:"styles__StyledSUnreadSignal",componentId:"sc-5t8oyb-0"})(["position:absolute;top:-2px;right:-2px;width:8px;height:8px;transition:all 0.25s ease-out;background-color:",";border:1px solid #fff;border-radius:50%;opacity:0;&.is-on{opacity:1;}"],(function(e){return e.theme.unread_signal_bg.bg})),d=Object(o.memo)((function(e){var t=e.on,n=e.className
return Object(r.jsx)(u,{className:c()(n,{"is-on":t})})}))
d.propTypes={className:a.a.string,on:a.a.bool}
t.a=d},,,function(e,t,n){"use strict"
var r=n(546),i=n(436),a=n(224)
e.exports=function(e){return a(e)?r(e,!0):i(e)}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),h=n(8),f=n.n(h),m=n(9),g=n.n(m),v=n(2),b=n.n(v),y=n(0),x=n(1),w=n.n(x),j=n(5),S=n(167),C=n(118),_=Object(S.createAsyncFuncQueue)().push,O=function(e){f()(n,e)
var t=g()(n)
function n(e){var r
return c()(this,n),r=t.call(this,e),b()(p()(r),"setElementRef",(function(e){return r.$elem=e})),r.isUnmounted=!1,r.retryTimer=null,r}return u()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.isVisible,i=n.cacheTag
r&&this.generateSnapshotTask(),r&&e.cacheTag!==i&&(clearTimeout(this.retryTimer),this.generateSnapshotTask())}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0,clearTimeout(this.retryTimer)}},{key:"generateSnapshotTask",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=_(o()(i.a.mark((function t(){var n,r,a,o,s,c
return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.projectMetaCid,a=n.screenMetaCid,o=n.screenStateCid,s=n.isVisible,c=n.cacheTag,s){t.next=3
break}return t.abrupt("return")
case 3:if(!e.isUnmounted){t.next=5
break}return t.abrupt("return")
case 5:return t.next=7,SnapshotStore.loadSnapshotPngAsync({imageElement:e.$elem,zoomMode:C.SNAPSHOT_ZOOM_MODE.THUMBNAIL,projectMetaCid:r,screenMetaCid:a,screenStateCid:o,cacheTag:c})
case 7:case"end":return t.stop()}}),t)}))))
n.catch((function(n){e.retryTimer=setTimeout((function(){e.generateSnapshotTask(2*t)}),1e3*t)}))}},{key:"render",value:function(){return Object(y.jsx)("img",{ref:this.setElementRef,src:"/mb-workspace/images/preview/image-load.png"})}}]),n}(j.PureComponent)
b()(O,"propTypes",{cacheTag:w.a.string,screenStateCid:w.a.string.isRequired,screenMetaCid:w.a.string.isRequired,projectMetaCid:w.a.string.isRequired,isVisible:w.a.bool.isRequired})},function(e,t,n){"use strict"
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(5)
function v(e){this.mode=y.MODE_8BIT_BYTE,this.data=e}function b(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}v.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},b.prototype={addData:function(e){var t=new v(e)
this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t)
return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e
for(e=1;e<40;e++){for(var t=B.getRSBlocks(e,this.errorCorrectLevel),n=new R,r=0,i=0;i<t.length;i++)r+=t[i].dataCount
for(var a=0;a<this.dataList.length;a++){var o=this.dataList[a]
n.put(o.mode,4),n.put(o.getLength(),D.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount)
for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount)
for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null===this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){
for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0===r||6===r)||0<=r&&r<=6&&(0===n||6===n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n)
var r=D.getLostPoint(this);(0===n||e>r)&&(e=r,t=n)}return t},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0)
for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=D.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n]
if(null==this.modules[r][i])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[r+a][i+o]=-2===a||2===a||-2===o||2===o||0===a&&0===o}},setupTypeNumber:function(e){for(var t=D.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1)
this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var i=0;i<18;i++){var a=!e&&1==(t>>i&1)
this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=D.getBCHTypeInfo(n),i=0;i<15;i++){var a=!e&&1==(r>>i&1)
i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var o=0;o<15;o++){var s=!e&&1==(r>>o&1)
o<8?this.modules[8][this.moduleCount-o-1]=s:o<9?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6===o&&o--;;){for(var s=0;s<2;s++)if(null===this.modules[r][o-s]){var c=!1
a<e.length&&(c=1==(e[a]>>>i&1)),D.getMask(t,r,o-s)&&(c=!c),this.modules[r][o-s]=c,-1===--i&&(a++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n
break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(e,t,n){for(var r=B.getRSBlocks(e,t),i=new R,a=0;a<n.length;a++){var o=n[a]
i.put(o.mode,4),i.put(o.getLength(),D.getLengthInBits(o.mode,e)),o.write(i)}for(var s=0,c=0;c<r.length;c++)s+=r[c].dataCount
if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")")
for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1)
for(;!(i.getLengthInBits()>=8*s||(i.put(b.PAD0,8),i.getLengthInBits()>=8*s));)i.put(b.PAD1,8)
return b.createBytes(i,r)},b.createBytes=function(e,t){for(var n=0,r=0,i=0,a=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c
r=Math.max(r,c),i=Math.max(i,l),a[s]=new Array(c)
for(var u=0;u<a[s].length;u++)a[s][u]=255&e.buffer[u+n]
n+=c
var d=D.getErrorCorrectPolynomial(l),p=new F(a[s],d.getLength()-1).mod(d)
o[s]=new Array(d.getLength()-1)
for(var h=0;h<o[s].length;h++){var f=h+p.getLength()-o[s].length
o[s][h]=f>=0?p.get(f):0}}for(var m=0,g=0;g<t.length;g++)m+=t[g].totalCount
for(var v=new Array(m),b=0,y=0;y<r;y++)for(var x=0;x<t.length;x++)y<a[x].length&&(v[b++]=a[x][y])
for(var w=0;w<i;w++)for(var j=0;j<t.length;j++)w<o[j].length&&(v[b++]=o[j][w])
return v}
for(var y={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},x=1,w=0,j=3,S=2,C=0,_=1,O=2,k=3,M=4,E=5,T=6,A=7,D={
PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],
G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;D.getBCHDigit(t)-D.getBCHDigit(D.G15)>=0;)t^=D.G15<<D.getBCHDigit(t)-D.getBCHDigit(D.G15)
return(e<<10|t)^D.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;D.getBCHDigit(t)-D.getBCHDigit(D.G18)>=0;)t^=D.G18<<D.getBCHDigit(t)-D.getBCHDigit(D.G18)
return e<<12|t},getBCHDigit:function(e){for(var t=0;0!==e;)t++,e>>>=1
return t},getPatternPosition:function(e){return D.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case C:return(t+n)%2==0
case _:return t%2==0
case O:return n%3==0
case k:return(t+n)%3==0
case M:return(Math.floor(t/2)+Math.floor(n/3))%2==0
case E:return t*n%2+t*n%3==0
case T:return(t*n%2+t*n%3)%2==0
case A:return(t*n%3+(t+n)%2)%2==0
default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new F([1],0),n=0;n<e;n++)t=t.multiply(new F([1,N.gexp(n)],0))
return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case y.MODE_NUMBER:return 10
case y.MODE_ALPHA_NUM:return 9
case y.MODE_8BIT_BYTE:case y.MODE_KANJI:return 8
default:throw new Error("mode:"+e)}else if(t<27)switch(e){case y.MODE_NUMBER:return 12
case y.MODE_ALPHA_NUM:return 11
case y.MODE_8BIT_BYTE:return 16
case y.MODE_KANJI:return 10
default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t)
switch(e){case y.MODE_NUMBER:return 14
case y.MODE_ALPHA_NUM:return 13
case y.MODE_8BIT_BYTE:return 16
case y.MODE_KANJI:return 12
default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var a=0,o=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0===s&&0===c||o===e.isDark(r+s,i+c)&&a++
a>5&&(n+=3+a-5)}for(var l=0;l<t-1;l++)for(var u=0;u<t-1;u++){var d=0
e.isDark(l,u)&&d++,e.isDark(l+1,u)&&d++,e.isDark(l,u+1)&&d++,e.isDark(l+1,u+1)&&d++,0!==d&&4!==d||(n+=3)}for(var p=0;p<t;p++)for(var h=0;h<t-6;h++)e.isDark(p,h)&&!e.isDark(p,h+1)&&e.isDark(p,h+2)&&e.isDark(p,h+3)&&e.isDark(p,h+4)&&!e.isDark(p,h+5)&&e.isDark(p,h+6)&&(n+=40)
for(var f=0;f<t;f++)for(var m=0;m<t-6;m++)e.isDark(m,f)&&!e.isDark(m+1,f)&&e.isDark(m+2,f)&&e.isDark(m+3,f)&&e.isDark(m+4,f)&&!e.isDark(m+5,f)&&e.isDark(m+6,f)&&(n+=40)
for(var g=0,v=0;v<t;v++)for(var b=0;b<t;b++)e.isDark(b,v)&&g++
return n+=10*(Math.abs(100*g/t/t-50)/5)}},N={glog:function(e){if(e<1)throw new Error("glog("+e+")")
return N.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255
for(;e>=256;)e-=255
return N.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},I=0;I<8;I++)N.EXP_TABLE[I]=1<<I
for(var P=8;P<256;P++)N.EXP_TABLE[P]=N.EXP_TABLE[P-4]^N.EXP_TABLE[P-5]^N.EXP_TABLE[P-6]^N.EXP_TABLE[P-8]
for(var L=0;L<255;L++)N.LOG_TABLE[N.EXP_TABLE[L]]=L
function F(e,t){if(void 0===e.length)throw new Error(e.length+"/"+t)
for(var n=0;n<e.length&&0===e[n];)n++
this.num=new Array(e.length-n+t)
for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function B(e,t){this.totalCount=e,this.dataCount=t}function R(){this.buffer=[],this.length=0}F.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=N.gexp(N.glog(this.get(n))+N.glog(e.get(r)))
return new F(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this
for(var t=N.glog(this.get(0))-N.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r)
for(var i=0;i<e.getLength();i++)n[i]^=N.gexp(N.glog(e.get(i))+t)
return new F(n,0).mod(e)}
},B.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],
B.getRSBlocks=function(e,t){var n=B.getRsBlockTable(e,t)
if(void 0===n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t)
for(var r=n.length/3,i=[],a=0;a<r;a++)for(var o=n[3*a+0],s=n[3*a+1],c=n[3*a+2],l=0;l<o;l++)i.push(new B(s,c))
return i},B.getRsBlockTable=function(e,t){switch(t){case x:return B.RS_BLOCK_TABLE[4*(e-1)+0]
case w:return B.RS_BLOCK_TABLE[4*(e-1)+1]
case j:return B.RS_BLOCK_TABLE[4*(e-1)+2]
case S:return B.RS_BLOCK_TABLE[4*(e-1)+3]
default:return}},R.prototype={get:function(e){var t=Math.floor(e/8)
return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8)
this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}
var U=n(1),z=n.n(U),H=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return i()(this,n),r=t.call(this,e),f()(c()(r),"freshCanvas",(function(){var e=r.canvasWrapperRef.current,t=r.props,n=function(e){var t=e.text,n=e.width,r=e.height,i=void 0===r?n:r,a=e.foreground,o=void 0===a?"#000000":a,s=e.background,c=void 0===s?"#ffffff":s,l=e.typeNumber,u=void 0===l?0:l,d=e.correctLevel,p=new b(u,void 0===d?S:d)
p.addData(t),p.make()
var h=document.createElement("canvas")
h.width=n,h.height=i
for(var f=h.getContext("2d"),m=n/p.getModuleCount(),g=i/p.getModuleCount(),v=0;v<p.getModuleCount();v++)for(var y=0;y<p.getModuleCount();y++){f.fillStyle=p.isDark(v,y)?o:c
var x=Math.ceil((y+1)*m)-Math.floor(y*m),w=Math.ceil((v+1)*m)-Math.floor(v*m)
f.fillRect(Math.round(y*m),Math.round(v*g),x,w)}return h}({height:t.height,width:t.width,text:t.text})
e.hasChildNodes()?e.replaceChild(n,e.firstChild):e.appendChild(n)})),r.canvasWrapperRef=Object(g.createRef)(),r}return o()(n,[{key:"componentDidMount",value:function(){this.freshCanvas()}},{key:"componentDidUpdate",value:function(){this.freshCanvas()}},{key:"render",value:function(){var e=this.props.className
return Object(m.jsx)("div",{className:e,ref:this.canvasWrapperRef})}}]),n}(g.PureComponent)
H.propTypes={width:z.a.number,height:z.a.number,text:z.a.string.isRequired,className:z.a.string},H.defaultProps={width:150,height:150}
t.a=H},function(e,t,n){"use strict"
var r=n(23),i=n.n(r),a=n(22),o=n.n(a),s=JSON.parse('{"unread_signal_bg":{"bg":["#eb5648","#eb5648","#eb5648","#FF3333"]},"screen_panel":{"svg_color":["#5b6b73","#5b6b73","#d7dde0","#5b6b73"],"item_hover_bg":["#f7f7f7","#EDEDED","#151515","#f7f7f7"],"select_bg":["#f2f8ff","#e5ebf2","#196ad4","rgba(66, 87, 255, 0.06)"],"dummy_select_bg":["#fafafa","#F7F7F7","#363738","#fafafa"],"folder_icon":{"main":["#298DF8","#298DF8","#298DF8","#4257FF"],"secondary":["#76b8ff","#76b8ff","#76b8ff","#5E82FF"]},"square_border_color":["#298df8","#298df8","#298df8","#4257ff"],"square_border_color_hover":["rgba(41, 141, 248, 0.5)","rgba(41, 141, 248, 0.5)","rgba(41, 141, 248, 0.5)","rgba(66, 87, 255,0.5)"]},"palette":{"border_color":["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],"active_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"high_light_color":["#298DF8","#298DF8","#196AD4","#4257FF"],"hr_color":["#DEDEE4","#D9D9D9","#151515","#DEDEE4"],"panel_bg":["#FFF","#F2F2F2","#252626","#FFF"],"panel_bg_blue":["#298DF8","#298DF8","#298DF8","#4257FF"],"panel_bg_blue_wonder":["#1e98ea","#1e98ea","#1e98ea","#4257FF"],"panel_title_color":["#415058","#415058","#D7DDE0","#415058"],"line_hover":["#1e98ea","#1e98ea","#1e98ea","#7584FF"],"blue_color":["#1684fc","#1684fc","#1684fc","#4257ff"]},"common":{"bg":{"input_bg":["#fff","#fff","#252626","#fff"],"item_active_bg":["#F2F2F2","#FFF","#196AD4","#F2F2F2"],"bg_4":["#fff","#fff","#454647","#fff"],"bg_5":["#f2f2f2","#f2f2f2","#252626","#1F1F1F"],"menu_bg":["#fff","#fff","#363738","#fff"],"preview_menu_bg":["#fff","#fff","#363738","#292929"],"select_bg":["#fff","#fff","#151515","#fff"],"tips_bg":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"white_bg":["#fff","#fff","#F2F4F5","#fff"],"iframe_bg":["#fff","#fff","#363738","#fff"],"black_bg":["#415058","#415058","#F2F4F5","#415058"]},"table":{"table_icon":["#DBDBDB","#DBDBDB","#595A5C","#DBDBDB"],"table_type_bg":["#ededed","#ededed","#196AD4","#ededed"],"table_type_icon":["#298DF8","#298DF8","#298DF8","#4257FF"],"table_type_icon_bg":["#fff","#fff","#252626","#fff"],"table_type_icon_stroke":["#5B6B73","#5B6B73","#B8BCBF","#5B6B73"],"table_type_icon_fill":["#7D8694","#7D8694","#8C8C8C","#7D8694"],"table_type_icon_active_bg":["#fff","#fff","#196AD4","#fff"],"table_type_icon_active_stroke":["#298DF8","#298DF8","#F2F4F5","#298DF8"],"table_type_icon_active_fill":["#298DF8","#298DF8","#C6D8EE","#298DF8"],"table_type_icon_not_hover":["#DBDBDB","#DBDBDB","#595A5C","#DBDBDB"],"table_type_icon_active_not_hover":["#DBDBDB","#DBDBDB","#8FB4E3","#DBDBDB"]},"button":{"red":{"normal":["#FF6161","#FF6161","#FF6161","#4257FF"],"hover":["#e04c4c","#e04c4c","#e04c4c","#3c4ee5"],"active":["#bc4439","#bc4439","#bc4439","#3c4ee5"]},"white":{"normal":["#fff","#fff","#fff","#fff"],"hover":["#eb5648","#eb5648","#eb5648","#4257FF"]},"blue":{"normal":["#298DF8","#298DF8","#196AD4","#4257FF"],"hover":["#1a70d8","#1a70d8","#1a70d8","#3c4ee5"]},"black":{"normal":["#415058","#415058","#415058","#4257ff"],"hover":["#1f292e","#1f292e","#1f292e","#3C4ee5"]}},"radio":{"bg":["#f6f7f8","#f6f7f8","#454647","#f6f7f8"],"border_cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"switch":{"bg":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"tc":["#fff","#fff","#999999","#fff"]},"check":{"tc":["#5b6b73","#5b6b73","#151515","#5b6b73"],"border_color":["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],"active_bg":["#7d8694","#7d8694","#196AD4","#7d8694"],"active_tc":["#5b6b73","#5b6b73","transparent","#5b6b73"]},"divider":{"divider_1":["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],"divider_2":["#ededed","#ededed","#252626","#ededed"],"divider_3":["#dbdbdb","#dbdbdb","#252626","#dbdbdb"],"divider_4":["#e8e8e8","#e8e8e8","#151515","#e8e8e8"],"divider_5":["#dbdbdb","#dbdbdb","#151515","#dbdbdb"]},"menu":{"panel":{"bg":["#fff","#fff","#363738","#fff"],"card":{"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"],"hover_bg":["#f7f7f7","#f7f7f7","#196AD4","#f7f7f7"]}},"event_select":{"bg":["#1f292e","#1f292e","#454647","#1f292e"],"card":{"hover_bg":["#298df8","#298df8","#363738","#4257FF"],"hover_tc":["#fff","#fff","#D7DDE0","#fff"],"active_bg":["#415058","#415058","#196AD4","#415058"],"active_tc":["#fff","#ff","#F2F4F5","#fff"]},"divider":["#7d8694","#7d8694","#363738","#7d8694"]},"tc":["#415058","#415058","#D7DDE0","#415058"],"disabled_tc":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"]},"text_1":{"cr":["#415058","#415058","#D7DDE0","#415058"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_2":{"cr":["#415058","#415058","#D7DDE0","#415058"],"hover":["#298DF8","#298DF8","#D7DDE0","#4257FF"],"active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_3":{"cr":["#415058","#415058","#D7DDE0","#415058"]},"text_4":{"cr":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"text_5":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"text_6":{"cr":["#415058","#415058","#B8BCBF","rgba(255,255,255,0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]},"text_8":{"cr":["#415058","#415058","#999999","#415058"]},"text_9":{"cr":["#7d8694","#7d8694","#999999","#7d8694"]},"text_10":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"hover":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"active":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_11":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"]},"text_12":{"cr":["#415058","#415058","#F2F4F5","#415058"]},"text_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"text_13":{"cr":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_14":{"cr":["#fff","#fff","#1F292E","#fff"]},"text_15":{"cr":["#415058","#415058","#B8BCBF","#415058"]},"text_17":{"cr":["#5B6B73","#5B6B73","#F2F4F5","#5B6B73"],"hover_active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_18":{"cr":["#415058","#415058","#B8BCBF","#415058"],"hover":["#298DF8","#298DF8","#196AD4","#4257FF"]},"text_19":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]},"text_20":{"cr":["#8d9ea7","#8d9ea7","#999999","#3c4ee5"],"hover":["#5B6B73","#5B6B73","#F2F4F5","#3c4ee5"]},"text_22":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"text_23":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"]},"text_24":{"cr":["#5b6b73","#5b6b73","#999999","#5b6b73"]},"text_25":{"cr":["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"]},"text_26":{"cr":["#5B6B73","#5B6B73","#F2F4F5","#5B6B73"]},"text_27":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_28":{"cr":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"hover":["#298df8","#298df8","#F2F4F5","#4257FF"]},"text_31":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_32":{"cr":["#fff","#fff","#F2F4F5","#fff"]},"icon_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"icon_1":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"]},"icon_2":{"cr":["#d8d8d8","#d8d8d8","#808080","#d8d8d8"]},"icon_3":{"cr":["#298DF8","#298DF8","#196AD4","#4257FF"]},"icon_4":{"cr":["#5b6b73","#5b6b73","#999999","#5b6b73"]},"icon_5":{"cr":["#8d9ea7","#8d9ea7","#D7DDE0","#5B6B73"],"hover":["#298df8","#298df8","#B8BCBF","#4257FF"],"active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_6":{"cr":["#415058","#415058","#D7DDE0","#415058"]},"icon_7":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"]},"icon_8":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"icon_9":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"icon_10":{"cr":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_11":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_12":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_13":{"cr":["#7d8694","#7d8694","#B8BCBF","#7d8694"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_14":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_15":{"cr":["#415058","#415058","#B8BCBF","#415058"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_16":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#292929"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_17":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]},"icon_18":{"cr":["#7d8694","#7d8694","#808080","#7d8694"]},"shadow":{"shadow_1":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626","0 2px 8px 0 rgba(0, 0, 0, 0.1)"],"shadow_2":["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)"],"shadow_3":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},"border":{"border_blue":["#79baff","#79baff","#196AD4","#4257FF"],"border_light_blue":["#1E98EA","#1E98EA","#298DF8","#4257FF"],"border_dark_blue":["#1E98EA","#1E98EA","#196AD4","#4257FF"]}},"inputNumber":{"border_color":["#ebebeb","#C8CDD0","#454647","#ebebeb"],"hover_border":["#d8d8d8","#d8d8d8","#454647","#d8d8d8"],"caret_bg_hover":["#ededed","#ededed","#363738","#ededed"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"]},"borderResizer":{"bg":["#f55d54","#f55d54","#f55d54","transparent"]},"select":{"border_color":["#ededed","#C8CDD0","#454647","#ededed"],"tc":["#fff","#fff","#D7DDE0","#fff"],"active_bg":["#415058","#415058","#151515","#415058"],"divider":["#7d8694","#7d8694","#363738","#7d8694"],"shadow":["0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626","0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)"]},"radioLine":{"border":["1px solid #ededed","1px solid #DBDBDB","1px solid #454647","1px solid #ededed"],"bg":["#FFF","#F2F2F2","#252626","#FFF"],"border_color":["#ededed","#DBDBDB","transparent","#ededed"],"active_bg":["#EDEDED","#DBDBDB","#196AD4","rgba(66, 87, 255, 0.06)"],"hover_icon":["#298DF8","#298DF8","#196AD4","#4257FF"],"tc":["#5b6b73","#5b6b73","#999999","#5b6b73"],"hover_tc":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"slideNav":{"border":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"toast":{"success":{"bg":["#7d8694","#7d8694","#F2F4F5","#7d8694"]}},"dropdown":{"dark":{"tc":["#fff","#fff","#415058","#fff"],"hover_tc":["#fff","#fff","#1F292E","#fff"],"bg":["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]},"list":{"bg":["#fff","#fff","#595A5C","#fff"],"hover_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"tc":["#1e98ea","#1e98ea","#f2f4f5","#4257FF"]}},"icon_button":{"fore_color":["#7d8694","#7d8694","#808080","#7d8694"],"hover":{"fore_color":["#298DF8","#298DF8","#196AD4","#4257FF"]}},"workspaceTutorialPane":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"icon":["#979797","#979797","#D7DDE0","#979797"],"hover":["#f2f2f2","#e8e8e8","#151515","#f2f2f2"],"shortcut":{"kbd_bg":["#ededed","#fff","#595A5C","#ededed"]},"video":{"item_hover_bg":["#f7f7f7","#f7f7f7","#196AD4","#f7f7f7"],"icon_main":["#dbdbdb","#dbdbdb","#363738","#dbdbdb"]}},"versionManagementPane":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"top":[52,52,52,64],"button_bg":["#298df8","#298df8","#196ad4","#4257FF"],"button_bg_hover":["#3c4ee5","#3c4ee5","#0b55b6","#3c4ee5"],"color_1":["#415058","#415058","#d7dde0","#415058"],"color_2":["#7d8b94","#7d8b94","#b8bcbf","#7d8b94"],"header":{"border_color":["#dbdbdb","#dbdbdb","#151515","#dbdbdb"]},"versionItem":{"shadow_hover":["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)","0 2px 4px rgba(0, 0, 0, 0.14)"],"bg_1":["#f2f2f2","#f2f2f2","#454647","#f2f2f2"],"bg_2":["#fff","#fff","#363738","#fff"],"border_color":["#ededed","#ededed","#252626","#ededed"],"icon":{"color":["#7d8b94","#7d8b94","#B8BCBF","#7d8b94"],"hover":["#415058","#415058","#f2f4f5","#415058"]},"color_1":["#415058","#415058","#d7dde0","#415058"],"color_2":["#415058","#415058","#d7dde0","#415058"],"color_3":["#7d8b94","#7d8b94","#999999","#7d8b94"],"color_4":["#7d8b94","#7d8b94","#d7dde0","#7d8b94"]}},"versionViewWindow":{"bg":["#6f7478","#6f7478","#595a5c","#6f7478"]},"slider":{"bg":["#efefef","#c8cdd0","#454647","#efefef"]},"artBoard":{"linkback":{"border":["1px solid transparent","1px solid #d9d9d9","1px solid transparent","1px solid transparent"],"bg_hover":["#f5f5f5","#f5f5f5","#252626","#f5f5f5"],"hover_color":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"dot":{"bg":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"border":["#7d8694","#7d8694","#808080","#7d8694"]},"linking_bg":["#f5f5f5","#f5f5f5","#298DF8","#f5f5f5"]},"panelEditBreadNav":{"tc":["#fff","#fff","#415058","#fff"],"tc_hover":["#fff","#fff","#F2F4F5","#fff"],"bg_hover":["#298DF8","#298DF8","#196AD4","#4257FF"],"line":["#dbdbdb","#dbdbdb","#8D9EA7","#dbdbdb"]},"loginBtn":{"bg":["#415058","#415058","#fff","#415058"],"tc":["#E8E8E8","#E8E8E8","#415058","#E8E8E8"],"btc":["#fff","#fff","#1f292e","#fff"],"save_bg":["#ec4954","#415058","#fff","#ec4954"]}},"toolbar":{"shadow":["0 2px 3px 0 rgba(100, 100, 100, 0.20)","0 2px 3px 0 rgba(100, 100, 100, 0.18)","","0 2px 3px 0 rgba(100, 100, 100, 0.20)"],"bg":["#FFF","#F2F2F2","#353738","#292929"],"height":["52px","52px","52px","64px"],"active_bg":["#F2F2F2","#E8E8E8","#252626","#1F1F1F"],"border_bottom":["0px solid transparent","0px solid transparent","1px solid #151515","0px solid transparent"],"app_name":["#525e71","#525e71","#D8E0E6","rgba(255, 255, 255, 0.72)"],"disabled_text":["#C8CDD0","#C8CDD0","#808080","rgba(255, 255, 255, 0.24)"],"item_disabled_text":["#C8CDD0","#C8CDD0","#808080","rgb(200, 205, 208)"],"divider_color":["#e8e8e8","#e8e8e8","#353738","#e8e8e8"],"divider_4":["#e8e8e8","#e8e8e8","#151515","transparent"],"button":{"icon_color":["#5B6B73","#5B6B73","#D9D9D9","rgba(255, 255, 255, 0.72)"],"icon_hover":["#5B6B73","#5B6B73","#F2F4F5","#FFFFFF"],"icon_active":["#415058","#415058","#F2F4F5","#FFFFFF"]},"dropdownArrow":{"position":{"top":["14px","14px","14px","19px"]}},"play":{"color":["#ff6161","#ff6161","#ff6161","#C3C3C3"],"color_hover":["#ff6161","#ff6161","#ff6161","#FFFFFF"],"marginLeft":["19px","19px","19px","auto"]},"more":{"marginRight":["auto","auto","auto","19px"]},"save":{"icon":["#ff6161","#ff6161","#ff6161","#FFFFFFB8"]},"text_6":{"cr":["#415058","#415058","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFF"]},"zoom_scale":{"cr":["#5B6B73","#5B6B73","#D9D9D9","rgba(255, 255, 255, 0.72)"],"hover":["#298df8","#298df8","#298df8","#FFF"],"dropdown":{"input":["#1684fc","#1684fc","#1684fc","#4257FF"]}},"preference":{"icon_main":["#c8cdd0","#c8cdd0","#737373","#c8cdd0"]},"version":{"icon":["#298DF8","#298DF8","#298DF8",""]},"menu":{"icon":{"close":["#7d8694","#7d8694","#B8BCBF","#7d8694"]},"border":{"input":["1px solid #e8e8e8","1px solid #e8e8e8","1px solid #595A5C","1px solid #e8e8e8"]},"divider":["#e7e9ea","#e7e9ea","#252626","#e7e9ea"],"active":{"border_top":["2px solid #bbc5ca","2px solid #bbc5ca","2px solid #808080","2px solid rgba(255, 255, 255, 0.56)"],"select_bg":["#f6f7f8","#f6f7f8","#298DF8","#f6f7f8"]}},"icon_color":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#FFFFFFB8"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]}},"popups":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"bc":["#DBDBDB","#DEDEE4","#454647","#DBDBDB"],"header":{"bg":["#F2F2F2","#DBDBDB","#363738","#F2F2F2"],"hover_bg":["#F7F7F7","#E8E8E8","#196AD4","#F7F7F7"],"tc":["#415058","#415058","#D7DDE0","#415058"],"tc_hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"],"icon_color":["#7D8694","#8D9EA7","#B8BCBF","#7D8694"],"icon_hover":["#415058","#415058","#F2F4F5","#415058"],"line_color":["#EDEDED","#E8E8E8","#151515","#EDEDED"]},"widget":{"border":["#ebebeb","#ebebeb","#454647","#ebebeb"],"border_combo":["#ebebeb","#ebebeb","#595A5C","#ebebeb"]},"iconPanel":{"border":["#f1f1f5","#f1f1f5","#454647","#f1f1f5"],"icon_active":["#1E98EA","#1E98EA","#298DF8","#1E98EA"]},"customPanel":{"icon_main_hover":["#298df8","#298df8","#D7DDE0","#4257FF"],"icon_secondary_hover":["#76b8ff","#76b8ff","#F2F4F5","#76b8ff"],"actions_bg":["#F7F7F7","#E8E8E8","transparent","#F7F7F7"]},"statePanel":{"index_color":["#1f292e","#1f292e","#E6E9EB","#1f292e"],"divider":["#d8d8d8","#d8d8d8","#595A5C","#d8d8d8"]},"CollapsePanel":{"expanded_icon":{"secondary":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"]}},"builtinPanel":{"toggle_icon":["#E8E8E8","#DBDBDB","#595A5C","#E8E8E8"],"bg":["#F2F2F2","#fff","#363738","#F2F2F2"]},"nav":{"border_color":["#DEDEE4","#D9D9D9","#151515","#DEDEE4"]},"footer":{"background":["#fff","#fff","","#fff"],"icon_active_color":["#FF6161","#FF6161","#FF6161","#4257FF"]},"no":{"tips_cr":["#7d8694","#7d8694","#B8BCBF","#7d8694"]}},"linkList":{"linkLine":{"cut_cr":["#525e71","#525e71","#B8BCBF","#525e71"],"border_color":["#298df8","#298df8","#298df8","#4257FF"]}},"settingPanel":{"arrange":{"icon_hover_color":["#EDEDED","#DBDBDB","","#EDEDED"],"bg":["none","none","#363738","none"],"icon_hover_bg":["#ededed","#ededed","#252626","#0000000A"]},"general":{"layerInfo":{"border_left_color":["#d9d9d9","#d9d9d9","#454647","#d9d9d9"],"hover_border":["#FF6161","#FF6161","#196AD4","#4257FF"],"active_border":["#f55d54","#f55d54","#196AD4","#4257FF"]},"morelayer":{"border_left":["#d9d9d9","#d9d9d9","#454647","#d9d9d9"],"item":{"icon_stroke_hover":["#f2f2f2","#f2f2f2","transparent","#f2f2f2"],"icon_fill_hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"icon_fill_active":["#ff6161","#ff6161","#999999","#4257FF"],"icon_fore_hover":["#fff","#fff","#454647","#fff"],"bg":["#DBDBDB","#F2F2F2","#454647","#DBDBDB"],"hover_bg":["#fff","#fff","#196AD4","#fff"],"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"],"border_hover":["#298df8","#298df8","transparent","#4257FF"]}},"aspectRatio":{"color":["#7D8B94","#7D8B94","#D7DDE0","#7D8B94"],"hv_color":["#7D8B94","#7D8B94","#D7DDE0","#7D8B94"],"hv_bg":["#F2F2F2","#EDEDED","#151515","#F2F2F2"],"lock_bg":["#EDEDED","#E8E8E8","#196AD4","#EDEDED"],"lock_color":["#5B6B73","#5B6B73","#FFFFFF","#5B6B73"],"disabled_color":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]}},"widgetSetting":{"borderRadiusLine":{"bg":["#fff","#F2F2F2","","#fff"],"border_color":["#ededed","#DBDBDB","#4D4D4D","#ededed"],"active_bg":["#EDEDED","#DBDBDB","#0E6CE6","rgba(66, 87, 255, 0.06)"]},"animation_box":{"bg":["#f7f7fa","#f7f7fa","#363738","#f7f7fa"],"tc":["#eb5648","#eb5648","#F2F4F5","#4257FF"]},"textSetting":{"options":{"hover_bg":["#ededed","#ededed","#151515","#ededed"]},"font":{"position":["73px","73px",0,"73px"]}},"fontWeightSelector":{"width":[60,60,60,200]},"carouselSettings":{"assetBoxBg":["#f7f7f7","#ebebeb","#363738","#f7f7f7"],"addAssetIconFill":["#c8cdd0","#8d9ea7","#D7DDE0","#c8cdd0"],"assetBoxBorder":["#e8e8e8","#e8e8e8","#454647","#e8e8e8"],"assetLinkBtnBg":["rgba(252, 252, 252, 0.74)","rgba(252, 252, 252, 0.74)","#595A5C","rgba(252, 252, 252, 0.74)"],"link_boxshadow":["none","none","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","none"]},"imageFilter":{"input_bg":["rgb(242, 242, 242)","rgb(242, 242, 242)","#363738","rgb(242, 242, 242)"],"input_border":["rgb(232, 232, 232)","rgb(232, 232, 232)","transparent","rgb(232, 232, 232)"]},"imgSetting":{"border":["#7d8694","#7d8694","#999999","#7d8694"],"stroke":["#298DF8","#fff","#fff","#4257FF"],"restBorder":["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],"restHoverBorder":["#298DF8","#298DF8","#298DF8","#4257FF"],"resetColor":["#298DF8","#298DF8","#196AD4","#4257FF"],"span":["#415058","#415058","#999999","#415058"]},"imgClip":{"shape_bg":["#c8cdd0","#c8cdd0","#B8BCBF","#c8cdd0"]}},"linkSettings":{"linkEditor":{"bg":["#F5F5F5","#fafafa","#363738","#F5F5F5"],"color":["#5B6B73","#7d8694","#999999","#5B6B73"],"dropdown_border":["#D9D9D9","#ededed","#595A5C","#D9D9D9"],"icon_color":["#7D8694","#c8cdd0","#D7DDE0","#7D8694"],"hover_bg":["#ededed","#ededed","#363738","#ededed"],"hover_box_shadow":["none","none","inset 0 0 24px 0 rgba(87, 88, 89, 0.40)","none"],"select_link_border":["#d9d9d9","#d9d9d9","#595A5C","#d9d9d9"],"list_item_hover_bg":["#F7F7F7","#E8E8E8","#363738","#F7F7F7"],"transitionPanel":{"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"bg":["#ebebeb","#ebebeb","#D7DDE0","#ebebeb"]}},"createBtn":{"disabled_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"disabled_opacity":[1,1,0.5,1],"disabled_border":["#dedee4","#dedee4","transparent","#dedee4"]},"timer":{"icon_bg":["#fff","#fff","transparent","#fff"],"disabled":["#dedee4","#dedee4","#808080","#dedee4"],"bg":["#f6f7f8","#f6f7f8","transparent","#f6f7f8"],"hover_bg":["#fff","#fff","#196AD4","#fff"]}},"simulatorDisplaySettings":{"border_color":["#1a70d8","#1a70d8","#0b55b6","#1a70d8"],"color":["#415058","#415058","#fff","#415058"],"font_color":["#415058","#415058","#d7dde0","#415058"],"hover_bg":["#f2f2f2","#f2f2f2","#252626","#f2f2f2"],"active_bg":["#f7f7f7","#f7f7f7","#196ad4","#f7f7f7"],"active_color":["#298df8","#298df8","#fff","#4257FF"]}},"export_bar":{"bg":["#fff","#F2F2F2","","#fff"],"laber_color_bg":["#fff","#f2f2f2","","#fff"],"disabled_bg":["#fff","#f7f7f7","transparent","#fff"],"disabled_input_tc":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"disabled_border_color":["#f7f7f7","#f2f2f2","","#f7f7f7"],"export_button":{"bg":["#fff","#F2F2F2","#595A5C","#fff"],"cr_hover":["#298df8","#298df8","#D7DDE0","#4257FF"],"bg_hover":["transparent","transparent","#196AD4","transparent"],"cr_active":["#298df8","#298df8","rgba(215, 221, 224, 0.6)","#4257FF"],"bg_active":["transparent","transparent","#0B55B6","transparent"],"boxShadow_active":["0 1px 4px 0 #c8cdd0","0 1px 4px 0 #c8cdd0","none","0 1px 4px 0 #c8cdd0"],"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"border_hover":["#298df8","#298df8","transparent","#4257FF"]}},"panel":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"header":{"bg":["#F2F3F4","#DBDBDB","#363738","#F2F3F4"]},"nav":{"active_bg":["#FFF","#F2F2F2","#252626","#FFF"],"icon_color":["#5B6B73","#5B6B73","#D7DDE0","#5B6B73"],"icon_active_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"icon_fill_color":["#fccccc","#fccccc","#fccccc","#4257FF"],"leftnav":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"item_hover":["#FCFCFC","#EBEBEB","#454647","#FCFCFC"],"fore_hover":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]}}},"draggablePanel":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"border_color":["#DEDEE4","#DEDEE4","#454647","#DEDEE4"],"header":{"bg":["#F2F2F2","#DBDBDB","#363738","#F2F2F2"],"close_button_color":["#7d8694","#7d8694","#D9D9D9","#7d8694"],"close_button_hover_color":["#415058","#415058","#f2f4f5","#415058"]},"layerItem":{"bg":["#DBDBDB","#F2F2F2","#454647","#DBDBDB"]},"input":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"border":["1px solid transparent","1px solid #DBDBDB","1px solid #595A5C","1px solid transparent"]},"CheckBorder":{"bg":["#fff","#fff","#196ad4","#fff"],"cr":["#ff6161","#ff6161","#f2f4f5","#4257FF"],"border_color":["#8d9ea6","#bacdd6","transparent","#8d9ea6"]},"NumberInput":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"disabled_bg":["#F7F7F7","#fff","","#F7F7F7"],"disabled_border_color":["#F2F2F2","#e8e8e8","","#F2F2F2"]},"Select":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#454647","#E8E8E8"]}},"leftpane":{"shadow":["0 -2px 10px 0 rgba(39, 54, 78 ,0.11)","0 -2px 10px 0 rgba(39, 54, 78 ,0.12)","","0 -2px 10px 0 rgba(39, 54, 78 ,0.11)"],"border_right":["#DBDBDB","#DBDBDB","#454647","#DBDBDB"]},"rightpane":{"shadow":["0 -2px 10px 0 rgba(39, 54, 78 ,0.11)","0 -2px 10px 0 rgba(39, 54, 78 ,0.12)","","0 -2px 10px 0 rgba(39, 54, 78 ,0.11)"],"border":["transparent","transparent","#454647","transparent"]},"textarea":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"editable":{"bg":["transparent","transparent","#252626","transparent"],"border_bottom":["#f55d54","#f55d54","transparent","#4257FF"],"tc":["#525e71","#525e71","#F2F4F5","#525e71"]}},"sidebar":{"bg":["#FFF","#F2F2F2","#363738","#FFF"],"box_shadow":["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","","0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)"],"button":{"icon_main_color":["#dbdbdb","#dbdbdb","#363738","#dbdbdb"],"icon_color":["#415058","#415058","#B8BCBF","#415058"],"hover":{"bg":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]},"active":{"icon_color":["#fff","#fff","#F2F4F5","#fff"],"bg":["#298DF8","#298DF8","#196AD4","#4257FF"]}}},"basicWidgets":{"bg":["#fff","#F2F2F2","#363738","#fff"],"icon":{"color":["#6C6D6E","#6C6D6E","#D7DDE0","#6C6D6E"],"hover":{"bg":["#f2f2f2","#E8E8E8","#252626","#f2f2f2"],"border_color":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]},"active":{"bg":["#F2F2F2","#E8E8E8","#252626","#F2F2F2"],"color":["#FF6161","#FF6161","#B8BCBF","#4257FF"],"border_color":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]}},"nav":{"divider":["#d8d8d8","#d8d8d8","#808080","#d8d8d8"]}},"screenContainer":{"bg":["#F5F5F5","#E8E8E9","#151515","#F5F5F5"],"lightBg":["#E8E8E8","#E8E8E8","#454647","#E8E8E8"],"top":[52,52,52,64],"boxShadow":["0 1 2px 0 rgba(0, 0, 0, 0.2)","0 1 2px 0 rgba(0, 0, 0, 0.2)","","0 1 2px 0 rgba(0, 0, 0, 0.2)"]},"scrollbar":{"track":{"bg":["transparent","transparent","transparent","transparent"]},"thumb":{"x_bg":["#D2D2D8","#BCBCBC","#454647","#D2D2D8"],"y_bg":["#DEDEE4","#BCBCBC","#454647","#DEDEE4"],"x_hover_bg":["#BEC3C5","","#595A5C","#BEC3C5"],"y_hover_bg":["#C8CDD0","","#595A5C","#C8CDD0"]}},"listItem":{"expander_color":["#C8CDD0","#8D9EA7","#B8BCBF","#C8CDD0"],"action_color":["#8D9EA7","#8D9EA7","#B8BCBF","#8D9EA7"],"action_hover_color":["#5B6B73","#1F292E","#F2F4F5","#5B6B73"],"icon_expander":["#8d9ea7","#8d9ea7","#E6E9EB","#8d9ea7"],"hover":{"tc":["#298DF8","#298DF8","#D7DDE0","#4257FF"],"bg":["#F7F7F7","#E8E8E8","#151515","#F7F7F7"],"transfer_bg":["#F7F7F7","#E8E8E8","#252626","#F7F7F7"],"action":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"action_icon":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"group_icon":{"main":{"hover_active":["#298df8","#298df8","#D7DDE0","#4257FF"]},"secondary":{"hover_active":["#76b8ff","#76b8ff","#F2F4F5","#5E82FF"]}},"link_icon":{"tc":["#298df8","#298df8","#B8BCBF","#4257FF"],"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"]},"active":{"slice_item_bg":["#EBEBEB","#EBEBEB","#196AD4","#EBEBEB"],"bg":["#F2F2F2","#FFF","#151515","#F2F2F2"]},"linking_bg":["#bbd8fe","#bbd8fe","#298DF8","#bbd8fe"]},"listMenu":{"hover":{"bg":["#F5F5F5","#F5F5F5","#196AD4","rgba(0, 0, 0, 0.04)"]}},"thumbnail":{"bg":["#F2F2F2","#EBEBEB","#363738","#F2F2F2"],"imgWrap":{"card":{"bg":["rgba(41, 141, 248, 0.2)","rgba(41, 141, 248, 0.2)","rgba(25, 106, 212, 0.3)","rgba(41, 141, 248, 0.2)"]},"border":{"cr":["1px solid #EDEDED","1px solid #DBDBDB","1px solid transparent","1px solid #EDEDED"],"hover":["1px solid transparent","1px solid #298DF8","1px solid #196AD4","1px solid transparent"],"active":["1px solid #1e98ea","1px solid #1e98ea","2px solid #196AD4","1px solid #4257FF"]},"imge_type":{"bg":["rgba(200, 205, 208, 0.7)","rgba(200, 205, 208, 0.7)","rgb(242, 244, 245, 0.8)","rgba(200, 205, 208, 0.7)"],"tc":["#5b6b73","#5b6b73","#1F292E","#5b6b73"]}},"editable":{"border":["#FF6161","#FF6161","#196AD4","#4257FF"]},"icon":{"cr":["#5b6b73","#5b6b73","#298DF8","#5b6b73"],"bg":["#ededed","#dbdbdb","#454647","#ededed"],"rect_bg":["#000000","#000000","#595A5C","#000000"],"bg_base64":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII="]}},"colorButton":{"border_color":["rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.25)","#454647","rgba(0, 0, 0, 0.2)"],"border_color_hover":["#8d9ea7","#8d9ea7","#808080","#8d9ea7"]},"searchBar":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#454647","#E8E8E8"],"close_icon":["#bec2c9","#bec2c9","#595A5C","#bec2c9"],"hover":{"close_icon":["#7d8694","#7d8694","#808080","#7d8694"]}},"interation":{"active":{"box_shadow":["0 0 4px 0 rgba(34, 162, 237, 0.66)","0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)","0 0 4px 0 rgba(34, 162, 237, 0.66)"]}},"libraryContainer":{"replace_btn_bo":["#2ecc71","#2ecc71","#2ecc71","#4257FF"],"replace_btn_bg":["#2ecc71","#2ecc71","#2ecc71","#4257FF"],"create_action":["#1a70d8","#1a70d8","#1a70d8","#3C4EE5"],"footer_storage":["#ff6161","#ff6161","#ff6161","#FF641D"],"toorbar_tips":["#ff6161","#ff6161","#ff6161","#FF641D"],"left_panel":{"bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"item":{"hover_bg":["#ededed","#ededed","#252626","#ededed"],"active_bg":["#fff","#fff","#196AD4","#fff"],"icon_main":{"active":["#298df8","#298df8","#F2F4F5","#4257FF"]},"icon_secondary":{"cr":["#8d9ea7","#8d9ea7","#808080","#5d82ff"],"active":["#76b8ff","#76b8ff","#D7DDE0","#5d82ff"]}}},"toolbar":{"dropList":{"bg_hover":["#f2f2f2","#f2f2f2","#196AD4","#f2f2f2"]},"radioLine":{"bg":["#fff","#F2F2F2","#454647","#fff"],"border":["1px solid #ededed","1px solid #DBDBDB","1px solid #595A5C","1px solid #ededed"]}},"header":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"cr_active":["#525e71","#525e71","#F2F4F5","#525e71"],"cube_border":["#FF6161","#FF6161","#F2F4F5","#4257FF"],"arrow_right":["#7d8695","#7d8695","#D7DDE0","#7d8695"],"search_cr":["#415058","#415058","#5B6B73","#415058"],"search_tc":["#7d8694","#7d8694","#5B6B73","#7d8694"],"search_trash":["#415058","#415058","#7d8694","#415058"],"search_header_bg":["rgba(98, 203, 136, 0.2)","rgba(98, 203, 136, 0.2)","#DDF1E4","rgba(98, 203, 136, 0.2)"],"search_tips":["#e8e8e8","#e8e8e8","#B8BCBF","#e8e8e8"]},"content":{"header":{"check":{"border":["#bacdd6","#bacdd6","#454647","#bacdd6"],"active_bg":["#fff","#fff","#298DF8","#fff"],"active_cr":["#ff6161","#ff6161","#fff","#4257FF"]}},"user":{"userAssetList":{"tag_bg":["#ededed","#ededed","#595A5C","#ededed"],"tag_bg_hover":["#dbdbdb","#dbdbdb","#808080","#dbdbdb"],"tag_default_hover":["#c8cdd0","#c8cdd0","#808080","#c8cdd0"],"tab_bg_manag":["#fff","#fff","transparent","#fff"],"divider":["#d8d8d8","#d8d8d8","#454647","#d8d8d8"]}},"list":{"hover_bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"select_bg":["#f2f2f2","#f2f2f2","#363738","#f2f2f2"],"tags_bg_hover":["#dbdbdb","#dbdbdb","#808080","#dbdbdb"],"tags_item_bg":["#fcfcfc","#fcfcfc","#595A5C","#fcfcfc"],"tag_item_border":["#c8cdd0","#c8cdd0","#808080","#c8cdd0"]}},"footer":{"asset_btn":{"border":["#c8cdd0","#c8cdd0","#595A5C","#4257FF"]},"disabled":{"bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"border":["#dedee4","#dedee4","transparent","#dedee4"],"tc":["#C8CDD0","#C8CDD0","#F2F4F5","#C8CDD0"],"opacity":[1,1,0.6,1]},"hover":{"bg":["#8d9ea7","#8d9ea7","#151515","#fff"]},"active":{"bg":["#5b6b73","#5b6b73","#252626","#fff"],"border":["#415058","#415058","transparent","#415058"]}},"tagDropDown":{"input_bg":["#f7f7f7","#f7f7f7","#252626","#f7f7f7"],"hover_bg":["#f2f2f2","#f2f2f2","#196AD4","#f2f2f2"]},"no":{"assetUpload":{"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"bg":["#e8e8e8","#e8e8e8","#454647","#e8e8e8"]},"tips":{"create_icon_bg":["#fff","#fff","#8D9EA7","#fff"],"create_icon_cr":["#5b6b73","#5b6b73","#E8E8E8","#5b6b73"]}}},"menu":{"export":{"scale_item_bg":["#ededed","#ededed","#454647","#ededed"],"upgrade_tip_bg":["#ff6161","#ff6161","#ff6161","#ff641d"],"select_bg_active":["#f6f7f8","#f6f7f8","#298DF8","#f6f7f8"],"icon_fore_1":["#f7f7f7","#f7f7f7","#D7DDE0","#f7f7f7"],"icon_fore_2":["#7d8694","#7d8694","#F2F4F5","#7d8694"]},"dropdown":{"gestures":{"bg":["#1f292e","#1f292e","#454647","#1f292e"],"border":["#7d8694","#7d8694","#595A5C","#7d8694"],"move_cube_border":["#1f292e","#1f292e","#363738","#1f292e"],"hover_bg":["#298df8","#298df8","#252626","#4257FF"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"],"tc":["#fff","#fff","#D7DDE0","#fff"]},"newSize":{"hover_bg":["#415058","#415058","#363738","#415058"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"]}},"context":{"item_hover_bg":["rgba(0, 0, 0, 0.04)","rgba(0, 0, 0, 0.04)","#196AD4","rgba(0, 0, 0, 0.04)"],"icon":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#298df8","#298df8","#F2F4F5","#4257FF"]}},"font":{"family":{"divider":["#7d8694","#7d8694","#363738","#7d8694"],"tips_bg":["#1f292e","#1f292e","#595A5C","#1f292e"],"link_tc":["#fff","#fff","#298DF8","#fff"],"tip_show_color":["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1);","rgba(255, 255, 255, 1);","rgba(255, 255, 255, 0.4);"]}}},"modal":{"close_btn":["#8d9ea7","#8d9ea7","#b8bcbf","#8d9ea7"],"text_color1":["#1f292e","#1f292e","#f2f4f5","#1f292e"],"text_color2":["#415058","#415058","#f2f4f5","#415058"],"text_color3":["#5b6b73","#5b6b73","#b8bbbf","#5b6b73"],"check_icon_fill":["#7d8694","#7d8694","#196AD4","#7d8694"],"check_icon_stroke":["#5b6b73","#5b6b73","#196AD4","#5b6b73"],"bg":["#fff","#fff","#363738","#fff"],"bg1":["linear-gradient(to bottom,#fafafa,#f5f5f5)","linear-gradient(to bottom,#fafafa,#f5f5f5)","#595a5c","linear-gradient(to bottom,#fafafa,#f5f5f5)"],"bg2":["#298df8","#298df8","#196AD4","#4257FF"],"bg3":["#1a70d8","#1a70d8","#0B55B6","#1a70d8"],"footer_bg":["#f7f7f7","#f7f7f7","#454647","#f7f7f7"],"border_color":["#f2f2f3","#f2f2f3","#454647","#f2f2f3"],"border_color1":["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],"border_color2":["ededed","ededed","#595a5c","ededed"],"select_active_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"select_hover_bg":["#f6f7f8","#f6f7f8","#363738","#f6f7f8"],"shadow":["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","","0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)"],"input":{"border":["#f2f2f3","#f2f2f3","#595A5C","#f2f2f3"]},"cancel_btn":{"bg":["#fff","#fff","#595A5C","#fff"],"hover":["#8d9ea7","#8d9ea7","#252626","#8d9ea7"],"active":["#5b6b73","#5b6b73","#252626","#5b6b73"],"border":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"confirm_btn":{"disabled_border":["#dedee4","#dedee4","transparent","#dedee4"],"disabled":["#fff","#fff","rgba(235, 86, 72, 0.6)","#fff"],"border":["#eb5648","#eb5648","#eb5648","#4257FF"],"hover":["#ec4954","#ec4954","#ec4954","#3C4EE5"],"active_tx":["#eab7b7","#eab7b7","#eab7b7","#fff"]},"border":{"cancel_hover":["#7d8694","#7d8694","#595A5C","#7d8694"],"cancel_active":["#415058","#415058","#595A5C","#415058"],"input_border":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"]},"tc":{"hover":["#fff","#fff","#F2F4F5","#fff"],"active":["#fff","#fff","rgba(242, 244, 245, 0.6)","#fff"]},"transfer":{"tc":["#7d8b94","#7d8b94","#B8BCBF","#7d8b94"],"icon":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"bread_tc_hover":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"item_hover_bg":["#f2f2f2","#f2f2f2","#252626","#f2f2f2"]},"preview":{"bg":["#f5f5f5","#f5f5f5","#252626","#f5f5f5"],"header_border":["#e8e8e8","#e8e8e8","transparent","#e8e8e8"]},"newSize":{"title":["#1F292E","#1F292E","#F2F4F5"],"inputTitle":["#8d9ea7","#8d9ea7","#999999"],"inputTitleActive":["#196AD4","#196AD4","#999999"],"input":["#fff","#fff","#363738"],"inputActive":["#fff","#fff","#151515"],"inputBorder":["#c8cdd1","#c8cdd1","#454647"],"inputBorderActive":["#c8cdd1","#c8cdd1","#196AD4"],"tc":["#415058","#415058","#D7DDE0"],"actionActive":["#8d9ea7","#8d9ea7","#E6E6E6"]}},"preview":{"bg":["#f5f5f5","#f5f5f5","#151515","#f5f5f5"],"panel":{"no_slice_btn_border":["rgba(39, 54, 78, 0.1)","rgba(39, 54, 78, 0.1)","transparent","rgba(39, 54, 78, 0.1)"],"no_slice_btn_bg":["transparent","transparent","#454647","transparent"],"no_slice_btn_bg_hover":["transparent","transparent","#196AD4","transparent"],"no_slice_btn_bg_active":["#f7f7fa","#f7f7fa","#0B55B6","#f7f7fa"],"no_slice_text":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"active":["#5b6b73","#5b6b73","rgb(184, 188, 191, 0.6)","#5b6b73"]},"slice_icon_export":["transparent","transparent","#F2F4F5","transparent"],"box_shadow":["0 -2px 30px rgba(39, 54, 78, 0.11)","0 -2px 30px rgba(39, 54, 78, 0.11)","1px 0 0 0 #454647","0 -2px 30px rgba(39, 54, 78, 0.11)"],"footer_client_cr":["#ee534e","#ee534e","#ee534e","#FF3333"]},"toolbar":{"height":["52px","52px","52px","64px"],"tc":["#1f292e","#1f292e","#B8BCBF","#1f292e"],"item_border":["#bbc5ca","#bbc5ca","#595A5C","#bbc5ca"],"fullScreen":{"bg":["#f1f1f5","#f1f1f5","#454647","#1F1F1F"],"icon":{"cr":["#5b6b73","#5b6b73","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]}},"line_bg":["#DEDEE4","#DEDEE4","#999999","#383838"],"icon":{"cr":["#5b6b73","#5b6b73","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#fff"],"active":["#415058","#415058","#F2F4F5","#fff"]}},"leftPanel":{"toggleBtn":{"wrap_icon":["#fff","#fff","#363738","#fff"]}},"mainContent":{"settingList":{"bg_hover":["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],"bg_active":["#298DF8","#298DF8","#196AD4","#4257FF"]},"resetBtn":{"tc":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"tc_hover":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"bg_hover":["#f2f2f2","#f2f2f2","#363738","#f2f2f2"]}},"inspect":{"layerPanel":{"header_bg":["#f7f7f7","#f7f7f7","#151515","#f7f7f7"],"input_bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"border_input":["#F2F2F2","#F2F2F2","transparent","#F2F2F2"],"box_shadow":["0 2px 50px 0 rgba(39, 54, 78, 0.11)","0 2px 50px 0 rgba(39, 54, 78, 0.11)","-1px 0 0 0 #454647","0 2px 50px 0 rgba(39, 54, 78, 0.11)"]},"subToolbar":{"picker":["#F2C45A","#F2C45A","#F1C40F","#F2C45A"],"menu":{"hover_bg":["#f6f7f8","#f6f7f8","#151515","#f6f7f8"],"active_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"]}}},"comment":{"layer":{"copy_button":["#2889FC","#2889FC","#2889FC","#4257FF"],"load_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"icon":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"],"icon_hover":["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"],"icon_active":["#298DF8","#298DF8","#298DF8","#4257FF"],"reply_item_bg":["#f6f7f8","#f6f7f8","#363738","#f6f7f8"],"reply_border":["#f2f2f3","#f2f2f3","#454647","#4257FF"],"reply_shadow":["#4257ff80","#4257ff80","#4257ff80","#4257ff80"],"reply_btn_disabled_tc":["#fff","#fff","#999999","#fff"],"reply_btn":["#5b6b73","#5b6b73","#196AD4","#5b6b73"],"reply_btn_active":["#5b6b73","#5b6b73","#0B55B6","#5b6b73"],"reply_btn_disabled":["rgb(91, 107, 115, .6)","rgb(91, 107, 115, .6)","#595A5C","rgb(91, 107, 115, .6)"],"cancel_btn":{"cr":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"bg":["transparent","transparent","#454647","transparent"],"border":["#5b6b73","#5b6b73","#595A5C","#5b6b73"],"hover":{"cr":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"bg":["transparent","transparent","#151515","transparent"],"border":["#5b6b73","#5b6b73","#151515","#5b6b73"]},"active":{"cr":["#5b6b73","#5b6b73","rgb(242, 244, 245, 0.6)","#5b6b73"]}},"select_border":["#ff7100","#ff7100","#ff7100","#FF3333"],"confirm_btn":{"bg":["#8d9ea7","#8d9ea7","#196AD4","#8d9ea7"],"hover":{"bg":["#5b6b73","#5b6b73","#0D58BA","#5b6b73"]}},"entryMain_bg":["#f7f7fa","#f7f7fa","#363738","#f7f7fa"],"placeholder":["#a9afb8","#a9afb8","#999999","#a9afb8"],"box_shadow":["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","0 -2px 10px rgba(26, 58, 109, 0.12)"]},"dropdown":{"edit_hover_bg":["transparent","transparent","#196AD4","transparent"]}},"fullAction":{"navigation":{"btn_bg":["#acb2b5","#acb2b5","#252626","#acb2b5"],"btn_bg_hover":["#647077","#647077","#454647","#647077"],"svg":["#fff","#fff","#B8BCBF","#fff"],"svg_active":["#415058","#415058","#F2F4F5","#415058"]},"exitAndMode":{"svg":["#7d8694","#7d8694","#999999","#7d8694"],"svg_hover":["#415058","#415058","#F2F4F5","#415058"],"svg_active":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],"ligh_bg":["#f6f7f8","#f6f7f8","#151515","#f6f7f8"],"dark_bg":["#151515","#151515","#f6f7f8","#151515"],"active_border":["#0095FF","#0095FF","#1E98EA","#0095FF"],"full_screen_border":["#0095FF","#0095FF","#1E98EA","#4257FF"]}}},"loadingIcon":{"color_1":["rgb(237, 237, 237)","rgb(237, 237, 237)","#6B6B6B","rgb(237, 237, 237)"],"color_2":["rgb(200, 205, 208)","rgb(200, 205, 208)","#595a5c","rgb(200, 205, 208)"]},"workspace_dropdown_menu":{"shadow":{"shadow_3":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},"bg":{"bg_4":["#fff","#fff","#454647","#fff"]},"text_5":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"dark":{"tc":["#fff","#fff","#415058","#fff"],"hover_tc":["#fff","#fff","#1F292E","#fff"],"bg":["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]}},"new_slide_nav":{"text_10":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"hover":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"active":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"border":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"tooltip":{"tips_bg":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"cr":["#fff","#fff","#1F292E","#fff"],"tips_right":["#ff6161","#ff6161","#ff6161","#4257FF"]},"smCirCleIcon":{"fill":["#298DF8","#298DF8","#F2F4F5","#4257FF"],"stroke":["#2378D4","#2378D4","#D7DDE0","#4257FF"],"active_circle_right":[10,10,10,17]},"new_guide":{"coupons":["#298df8","#298df8","#f2f4f5","#fe5b28"],"step_3":{"left":[-48,-48,48,-115]},"arrow_step_3":{"left":[23,23,23,91]},"step_7":{"left":[0,0,0,-25]},"arrow_step_7":{"left":[165,165,165,189]},"arrow_step_10":{"top":[-24,-24,-24,24]},"guide_step4_tips":{"top":[124,124,124,137]},"desc_width":[0,0,0,600]},"color_panel_input_border":["#1e98ea","#1e98ea","#1e98ea","#4257ff"],"color_panel_input_shadow":["#1e98ea","#1e98ea","#1e98ea","#4257ff80"],"library":{"nav":{"active_bg":["#e8eef5","#e8eef5","#e8eef5","rgba(66, 87, 255, 0.06)"],"active_color":["#1684fc","#1684fc","#1684fc","#4257FF"]},"list":{"detail_item_hover_bg":["#ededed","#ededed","#ededed","rgba(66, 87, 255, 0.06)"],"item_active_bg":["#dbdbdb","#dbdbdb","#dbdbdb","rgba(66, 87, 255, 0.06)"],"item_active_color":["unset","unset","unset",""]}},"all_selected_button_bg":["#4997e9","#4997e9","#4997e9","#4257ff"],"action_bg":["inherit","inherit","inherit",""]}'),c=function e(t,n){
var r={}
return Object.entries(t).forEach((function(t){var a=o()(t,2),s=a[0],c=a[1]
Array.isArray(c)?r[s]=c[n]:"object"===i()(c)?r[s]=e(c,n):r[s]=c})),r}
t.a={light:c(s,0),grey:c(s,1),dark:c(s,2),wondershare:c(s,3)}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(11),i=n.n(r).a.div.withConfig({displayName:"styles__StyledEditableSpan",componentId:"h2z28f-0"})(["width:100%;height:24px;line-height:22px;overflow:hidden;border-top:1px solid transparent;border-bottom:1px solid transparent;&.is-editing{width:100%;display:flex;align-items:stretch;border-bottom:1px solid ",";textarea{resize:none;border:none;outline:none;width:100%;height:100%;background:",";color:",";white-space:nowrap;overflow:hidden;&::selection{background:color(#f55d54 a(0.2));}}}"],(function(e){
return e.theme.textarea.editable.border_bottom}),(function(e){return e.theme.textarea.editable.bg}),(function(e){return e.theme.textarea.editable.tc}))},function(e){
e.exports=JSON.parse('{"iphone_5":{"device":"iphone_5","bg":"iphone_se","width":379,"height":798,"top":119,"left":32},"iphone_6":{"device":"iphone_6","bg":"iphone_7","width":435,"height":888,"top":114,"left":30},"iphone_6_plus":{"device":"iphone_6_plus","bg":"iphone_7_plus","width":482,"height":983,"top":127,"left":34},"iphone_x":{"device":"iphone_x","bg":"iphone_x","width":435,"height":864,"top":26,"left":30},"iphone_xs_max":{"device":"iphone_xs_max","bg":"iphone_xs_max","width":477,"height":953,"top":29,"left":32},"iphone_11_pro":{"device":"iphone_x","bg":"iphone_x","width":435,"height":864,"top":26,"left":30},"iphone_11_pro_max":{"device":"iphone_xs_max","bg":"iphone_xs_max","width":477,"height":953,"top":29,"left":32},"iphone_12_pro":{"device":"iphone_12_pro","bg":"iphone_12","width":438,"height":884,"top":20,"left":24},"ipad_3_4":{"device":"ipad","bg":"ipad","width":881,"height":1247,"top":111,"left":56.5},"ipad_pro":{"device":"ipad","bg":"ipad_pro","width":1224,"height":1716,"top":175,"left":100},"apple_watch_38":{"device":"apple_watch","bg":"apple_watch_38","width":224,"height":400,"top":115,"left":38},"apple_watch_40":{"device":"apple_watch","bg":"apple_watch_40","width":230,"height":399,"top":101,"left":29},"apple_watch_42":{"device":"apple_watch","bg":"apple_watch_42","width":244,"height":438,"top":121,"left":38},"apple_watch_44":{"device":"apple_watch","bg":"apple_watch_44","width":251,"height":430,"top":103,"left":28},"google_nexus":{"device":"android","bg":"nexus_5","width":402,"height":798,"top":70,"left":21},"Huawei":{"device":"huawei","bg":"huawei_p9","width":400,"height":800,"top":77,"left":20},"samsung":{"device":"samsung","bg":"samsung_s7","width":398,"height":804,"top":85,"left":19},"google_pixel_2":{"device":"google_pixel_2","bg":"google_pixel_2","width":481,"height":956,"top":112,"left":35},"google_pixel_2_xl":{"device":"google_pixel_2_xl","bg":"google_pixel_2_xl","width":509,"height":955,"top":70,"left":49},"smart_tv":{"device":"web","bg":"sony_w850c","width":2039,"height":1245,"top":21,"left":36},"car_play":{"device":"web","bg":"car_play","width":1810,"height":1396,"top":86,"left":255},"Xiaomi":{"device":"android","bg":"nexus_5","width":402,"height":798,"top":70,"left":21}}')
},,function(e,t,n){"use strict"
var r=n(188)
e.exports=function(e){if("string"==typeof e||r(e))return e
var t=e+""
return"0"==t&&1/e==-1/0?"-0":t}},,,,function(e,t,n){"use strict"
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n(14),c=Object(o.memo)((function(e){var t=e.isActive,n=e.isFolder,i=e.isExpand?"design/group_open":"design/group_close"
return Object(r.jsx)(r.Fragment,{children:n?Object(r.jsx)(s.a,{className:"sm-folder-icon",name:i}):t?Object(r.jsx)(s.a,{name:"design/screen_file"}):Object(r.jsx)(s.a,{name:"design/file_o"})})}))
c.propTypes={isExpand:a.a.bool,isActive:a.a.bool,isFolder:a.a.bool},t.a=c},function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}))
var r=n(26),i=n.n(r),a=function(e,t){return t.filter((function(t){var n=t.parent
return n===e||!n&&!e}))},o=function(e){var t=null
return e.forEach((function(e){if(null==t)return e.mask?void(t=e.object_id):void 0
if(e.mask){if(e.ignore_underlying_mask)return
return e.maskedID=t,void(t=e.object_id)}e.ignore_underlying_mask?t=null:e.maskedID=t})),e},s=function(e){return e.sort((function(e,t){return t.level-e.level}))},c=function(e){return{id:e.id,name:e.name,object_id:e.object_id,parent:e.parent,type:e.type,mask:e.mask,ignore_underlying_mask:e.ignore_underlying_mask,level:e.level,maskedID:e.maskedID,imageSet:e.image_set}},l=function(e){return u(e)?function t(n,r){
var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[a.bind(null,n),o,s],u=l.reduce((function(e,t){return t(e)}),e)
return u.reduce((function(e,n){return d(n.type)?[].concat(i()(e),[{type:"compound",value:c(n),depth:r,children:t(n.object_id,r+1)}]):[].concat(i()(e),[{type:"basic",value:c(n),depth:r}])}),[])}(null,1):[]},u=function(e){return e&&Array.isArray(e)&&e.every((function(e){return!!e.level}))},d=function(e){return["group","shapeGroup"].includes(e)}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}))
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(38),c=function(){var e=o()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/v2/app/".concat(t,"/permission_check.json"),{permission:"P:update"})
case 3:return e.abrupt("return",!0)
case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1)
case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))
return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/web/v3/project_upper/project_basics/".concat(t.cid),t)
case 3:e.next=8
break
case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0)
case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))
return function(t){return e.apply(this,arguments)}}(),u=function(){var e=o()(i.a.mark((function e(t){var n,r
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)("/api/web/v3/project_basics/project_share/".concat(t))
case 2:return n=e.sent,r=n.projectShare,e.abrupt("return",{projectShare:r})
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),d=function(){var e=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/web/v3/project_shares/".concat(t.cid),{project_share:t})
case 3:e.next=8
break
case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0)
case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))
return function(t){return e.apply(this,arguments)}}(),p=function(){var e=o()(i.a.mark((function e(t){var n,r
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)("/api/web/v3/project_upper/project_basics/dashboard/".concat(t))
case 2:return n=e.sent,r=n.screen_metas,e.abrupt("return",{screenMetaList:r})
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.a={checkSharingPermission:c,updateSharingProject:l,requestProjectShare:u,updateCurrentProjectShare:d,requestProjectBasicScreenMetaList:p}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h}))
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(275),c=n.n(s),l=n(27),u=function(e){return Object(l.d)("".concat(e,"_pwd"))},d=function(e){return Object(l.b)("".concat(e,"_pwd"))},p=function(e,t){return Object(l.e)("".concat(e,"_pwd"),t)},h=function(e){var t=function(){var t=o()(i.a.mark((function t(n,r,a){var o
return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e({projectAccessToken:n,projectVersion:a,projectEncryptedPassword:r,userLocale:window.MBLocale})
case 3:return o=t.sent,p(n,r),t.abrupt("return",o)
case 8:t.prev=8,t.t0=t.catch(0),console.error("[getProjectFullData] failed: ".concat(t.t0)),u(n)
case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))
return function(e,n,r){return t.apply(this,arguments)}}()
return function(){var e=o()(i.a.mark((function e(n){var r,a,o,s,c
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.projectAccessToken,a=n.projectVersion,o=n.projectEncryptedPassword,s=n.isPasswordRequired,o=o||new URLSearchParams(location.search).get("password")||d(r),e.next=4,f(t,s,r,o,a)
case 4:if(e.t0=e.sent,e.t0){e.next=7
break}e.t0=[]
case 7:return c=e.t0,e.abrupt("return",c)
case 9:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()},f=function(){var e=o()(i.a.mark((function e(t,n,r,a,o){var s,l
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r,a,o)
case 2:if((s=e.sent)||n){e.next=5
break}return e.abrupt("return",MB.global.popupHelper.alertAsync({desc:I18N.dPages.no_permission_to_app}))
case 5:l=1/0
case 6:if(s||!l){e.next=18
break}return l--,e.t0=c.a,e.next=11,MB.global.popupHelper.promptGetPasswordAsync()
case 11:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=15,t(r,a,o)
case 15:s=e.sent,e.next=6
break
case 18:if(s){e.next=22
break}return console.log("Failed prompt password, again"),setTimeout((function(){return MB.global.popupHelper.alertAsync({desc:n?I18N.dPages.invalid_credential:"Failed to load this app."})}),320),e.abrupt("return")
case 22:return e.abrupt("return",s)
case 23:case"end":return e.stop()}}),e)})))
return function(t,n,r,i,a){return e.apply(this,arguments)}}()},,,,function(e,t,n){"use strict"
n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))
var r=n(11),i=n.n(r),a=i.a.footer.withConfig({displayName:"styles__StyledSvgIconExport",componentId:"sc-1vxcmdp-0"
})(["position:relative;display:flex;flex-direction:column;align-items:flex-start;height:1px;background:",";border-top:1px solid ",";transition:all 0.2s ease-in-out;overflow:hidden;&.is-open{height:133px;}.export-panel{width:100%;height:130px;display:flex;flex-direction:column;align-items:stretch;.export-header{display:flex;justify-content:space-between;padding:0 14px;margin-top:12px;.label{color:",";font-weight:600;}.icons{color:",";width:unset;margin-left:auto;cursor:pointer;.times-icon{width:10px;height:10px;}&:hover{color:",";}}}.export-settings{display:flex;flex-direction:column;padding:7px 9px 0 9px;.export-state{&.svg-export-label{display:flex;align-items:center;height:28px;margin-bottom:4px;}label{width:212px;height:28px;margin-bottom:4px;}.svg-name-label{display:flex;align-items:center;margin-left:5px;}.panel-icon-size{color:",";display:flex;align-items:center;width:148px;height:20px;background-color:",";border:1px solid ",";padding-right:6px;cursor:pointer;margin-left:auto;.svg-icon{width:16px;height:16px;margin:0 6px;}.panel-icon-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}}.export-second{display:flex;justify-content:space-between;margin-top:4px;& > div{display:flex;flex-direction:column;align-items:center;&.ratio{width:60px;}&.suffix{width:94px;.suffix-select{button{display:flex;justify-content:center;}}}&.format{width:44px;input{color:",";background-color:",";border:none;}}& > label{width:100%;height:28px;}& > span{color:",";line-height:20px;}}}}}"],(function(e){
return e.theme.export_bar.bg}),(function(e){return e.theme.common.divider.divider_1}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.icon_8.cr}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color}),(function(e){return e.theme.export_bar.disabled_input_tc}),(function(e){return e.theme.export_bar.disabled_bg
}),(function(e){return e.theme.common.text_22.cr})),o=i.a.div.withConfig({displayName:"styles__StyledExportButton",componentId:"sc-1vxcmdp-1"
})(["width:100%;height:","px;background:",";padding:0 10px;display:flex;justify-content:flex-end;align-items:center;z-index:1;a{width:100%;height:22px;color:",";line-height:22px;text-align:center;background:",";border-radius:2px;border:1px solid ",";transition:all 0.2s ease-in-out;cursor:pointer;&:hover{color:",";background:",";border-color:",";}&:active{box-shadow:",";color:",";background:",";border-color:",";}}"],33,(function(e){return e.theme.export_bar.bg}),(function(e){return e.theme.common.text_3.cr
}),(function(e){return e.theme.export_bar.export_button.bg}),(function(e){return e.theme.export_bar.export_button.border}),(function(e){return e.theme.export_bar.export_button.cr_hover}),(function(e){return e.theme.export_bar.export_button.bg_hover}),(function(e){return e.theme.export_bar.export_button.border_hover}),(function(e){return e.theme.export_bar.export_button.boxShadow_active}),(function(e){return e.theme.export_bar.export_button.cr_active}),(function(e){
return e.theme.export_bar.export_button.bg_active}),(function(e){return e.theme.export_bar.export_button.border_hover}))},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createStepper=t.createTimer=t.cancelFrameUpdate=t.requestFrameUpdate=t.setAwaitAsync=t.setTimeoutAsync=t.setWeakInterval=t.setWeakTimeout=t.getTimestamp=t.clock=t.CLOCK_TO_SECOND=t.CLOCK_PER_SECOND=void 0
var i=r(n(10)),a=r(n(15)),o=r(n(22)),s=n(467)
t.CLOCK_PER_SECOND=1e3
t.CLOCK_TO_SECOND=.001
var c=function(){try{var e=(0,s.getGlobal)().performance,t=function(){return e.now()}
if(t()<=t())return t}catch(e){}try{var n=(0,s.getGlobal)().process,r=function(){var e=n.hrtime(),t=(0,o.default)(e,2)
return 1e3*t[0]+1e-6*t[1]}
if(r()<=r())return r}catch(e){}return Date.now}()
t.clock=c
t.getTimestamp=function(){return Math.floor(.001*Date.now())}
var l=function(){try{var e=setTimeout((function(){}),0)
if(clearTimeout(e),"function"==typeof e.unref)return[setTimeout,setInterval].map((function(e){return function(){var t=e.apply(void 0,arguments)
return t.unref(),t}}))}catch(e){}return[setTimeout,setInterval]}(),u=(0,o.default)(l,2),d=u[0],p=u[1]
t.setWeakInterval=p,t.setWeakTimeout=d
t.setTimeoutAsync=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
return new Promise((function(t){return setTimeout(t,e)}))}
var h=function(){var e=(0,a.default)(i.default.mark((function e(){var t,n=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:0
case 1:if(!(t>0)){e.next=7
break}return e.next=4,null
case 4:t--
case 5:e.next=1
break
case 7:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.setAwaitAsync=h
var f=(0,s.getGlobal)().requestAnimationFrame?[(0,s.getGlobal)().requestAnimationFrame,(0,s.getGlobal)().cancelAnimationFrame]:[function(e){return setTimeout(e,1e3/60)},clearTimeout],m=(0,o.default)(f,2),g=m[0],v=m[1]
t.cancelFrameUpdate=v,t.requestFrameUpdate=g
t.createTimer=function(e){var t=e.func,n=e.delay,r=e.queueTask,i=void 0===r?setTimeout:r,a=e.cancelTask,o=void 0===a?clearTimeout:a,s=null,c=function e(){s&&(s=i(e,n),t())},l=function(){s||(s=i(c,n))},u=function(){s&&(o(s),s=null)}
return{start:l,stop:u,isActive:function(){return Boolean(s)},getDelay:function(){return n},setDelay:function(e){e!==n&&(n=e,u(),l())}}}
t.createStepper=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c()
return function(){var t=c(),n=t-e
return e=t,n}}},function(e,t,n){"use strict";(function(r){var i=n(17)(n(23))
function a(){var e
try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(482)).log=function(){return"object"===("undefined"==typeof console?"undefined":(0,i.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors
if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return
var r="color: "+this.color
e.splice(1,0,r,"color: inherit")
var i=0,a=0
e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0
if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1
return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),
t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],
t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(207))},function(e,t,n){"use strict"
t.encode=function(e){var t=""
for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]))
return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=")
t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t,n){"use strict"
e.exports=function(e,t){var n=function(){}
n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(r){var i=n(17)(n(23))
function a(){var e
try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(499)).log=function(){return"object"===("undefined"==typeof console?"undefined":(0,i.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors
if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return
var r="color: "+this.color
e.splice(1,0,r,"color: inherit")
var i=0,a=0
e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0
if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1
return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),
t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],
t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(207))},,function(e,t,n){"use strict"
var r=n(109),i=n(246)
e.exports=function(e){return r(e)&&1===e.nodeType&&!i(e)}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return Z}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(2),p=n.n(d),h=n(0),f=n(1),m=n.n(f),g=n(5),v=n(4),b=n.n(v),y=n(60),x=n(74),w=n(43),j=n(58),S=n(42),C=n(295),_=n(294),O=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.widget,r=e.top,i=e.left,a=e.links,o=e.renderOption,s=o.isPreview,c=o.isSnapshot,l=o.isHTMLZip
if(s&&"pg"===n.name&&!a)return null
var u="table"!==n.name||n.link_cids&&"table"===n.name?Object(S.e)(a):"",d=Object(S.g)(a)
"pg"===n.name&&(n.gesture=Object(S.h)(a))
var p=Object(j.g)(n,{links:a,isPreview:s,isSnapshot:c}),f=Object(j.h)(n,{top:r,left:i},{screen:t,isPreview:s,isSnapshot:c})
return Object(h.jsxs)("div",{"data-cid":n.cid,"data-link_cid":u,className:p,style:f,children:["table"===n.name?Object(h.jsx)(C.a,{widget:n,links:a}):"image_view"===n.name?Object(h.jsx)(_.a,{widget:n,renderOption:o},"".concat(n.cid,"-").concat(n.screenstate_cid)):Object(w.N)(n,{isPreview:s,isSnapshot:c,isHTMLZip:l}),n.v&&"line"!==n.name&&"arrow"!==n.name&&Object(h.jsx)("div",{className:"region gesture ".concat(d)})]})}}]),n}(g.PureComponent)
p()(O,"propTypes",{screen:m.a.object.isRequired,widget:m.a.object,top:m.a.number.isRequired,left:m.a.number.isRequired,links:m.a.array,renderOption:m.a.object}),p()(O,"defaultProps",{renderOption:{isPreview:!1,isSnapshot:!1,isHTMLZip:!1}})
var k=n(21),M=n(16),E=n(3),T=n.n(E),A=n(13),D=n.n(A),N=n(198),I=n(196),P=n(108),L=n(57)
var F=n(203),B=n(45),R={name:"none",delay:0,duration:0,offset:100},U={delay:0,duration:0},z=function(e){c()(n,e)
var t=u()(n)
function n(e){var r
return i()(this,n),r=t.call(this,e),p()(T()(r),"handlePanelScreenLoaded",(function(e){var t=r.props,n=t.panel,i=t.panelInfo.screenDataMap
if(MB.runner.timerHandler.resetPanelTimerFlag(n.cid),document.querySelector("#state"+n.cid+e+"p").offsetParent&&i[e]){var a=i[e].screenRuntimeState,o=Object.keys(a.dataMap)[0]
MB.runner.timerHandler.setupPanelTimers(n,e,o)}})),r.state={prevScreenCid:"",currentScreenCid:e.panelInfo.currentScreenMetaCid},r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.panel,r=e.top,i=e.left,a=e.links,o=e.panelInfo,s=e.renderOption,c=this.state,l=c.prevScreenCid,u=c.currentScreenCid,d=o.panelScreens,p=o.currentScreenStateCid,f=o.transition,m=o.screenGlue,g=o.screenDataMap,v=n.v&&a,b=Object(S.e)(v),y=Object(S.g)(v),w=function(e,t){var n="ppanel panel"
return t&&t.length&&(n+=Object(S.f)(t)),e.v||(n+=" invisible"),n+=" ".concat(L.a[e.overflow_behavior])}(n,v),j=function(e,t,n){var r=t.top,i=t.left,a=n.screen,o=n.screenGlue,s={left:i,width:e.width,height:e.height,zIndex:e.z}
return e.primary_fixed?(s.position="fixed",e.primary_fixed===x.a.FIXED_TYPE.bottom?s.bottom=a.height-(r+e.height):s.top=r):s.top=r,e.v?(s.pointerEvents=e.width<o.width||e.height<o.height?"auto":"",s.opacity=1):(s.pointerEvents="none",s.opacity=0),s.overflow=MB.f.inSnapshot?"hidden":"",s}(n,{top:r,left:i},{screen:t,screenGlue:m}),C={width:m.width,height:m.height},_=f&&f.name?f:R,O=f&&!f.name?f:U
return Object(h.jsxs)("div",{"data-cid":n.cid,"data-link_cid":b,className:w,style:j,children:[Object(h.jsx)("div",{className:"panel-scroll-box",style:C,children:Object(h.jsx)(I.a,{activeCid:u,transition:_,onHomeScreenLoad:this.handlePanelScreenLoaded,onTransitionEnd:this.handlePanelScreenLoaded,children:function(e,t){return d.map((function(r){var i=r===l,a=r===u,o=i?e:a?t:null,c=a?p:Object(P.a)(g[r]),d=g[r]
return Object(h.jsx)("div",{children:d?Object(h.jsx)(H,{panelCid:n.cid,isInvalidState:n.is_invalid_state,screenStateCid:c,transition:O,screenData:g[r],isShow:i||a,isActive:r===u,style:o,renderOption:s}):Object(h.jsx)(G,{panel:n,style:o})},r)}))}})}),Object(h.jsx)("div",{className:"region gesture ".concat(y)})]})}}]),n}(g.PureComponent)
p()(z,"propTypes",{screen:m.a.object,panel:m.a.object,panelInfo:m.a.object,top:m.a.number,left:m.a.number,links:m.a.array,renderOption:m.a.object}),p()(z,"getDerivedStateFromProps",(function(e,t){return e.panelInfo.currentScreenMetaCid!==t.currentScreenCid?{prevScreenCid:t.currentScreenCid,currentScreenCid:e.panelInfo.currentScreenMetaCid}:null}))
var H=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.screenData,n=e.screenStateCid,r=e.transition,i=e.renderOption,a=e.isShow,o=e.panelCid,s=e.isActive,c=e.isInvalidState,l=e.style,u=t.screenMeta,d=t.screenRuntimeState,p=Object(B.b)(u.cid,n,d.itemListMap[n]),f="state".concat(o).concat(u.cid,"p"),m=D()("pstate","state",{active:s,mouseAble:p.length}),g=b()({display:a?"":"none",width:u.width,height:u.height,backgroundColor:u.bgcolor,
backgroundImage:u.bgimage?"url(".concat(u.bgimage,")"):""},l)
return Object(h.jsx)("div",{id:f,className:m,"data-cid":u.cid,style:g,children:c?Object(h.jsx)(F.a,{}):Object(h.jsx)(N.a,{screen:u,stateCid:n,transition:r,screenRuntimeState:d,shouldSkipPanel:!0,children:function(e){return Object(h.jsx)(Z,b()({screen:u,widgetTreeData:e},i))}})})}}]),n}(g.PureComponent)
p()(H,"propTypes",{screenStateCid:m.a.string,screenData:m.a.object,transition:m.a.object,isInvalidState:m.a.bool,isShow:m.a.bool,isActive:m.a.bool,screen:m.a.object,panelCid:m.a.string,style:m.a.object,renderOption:m.a.object})
var G=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.panel,n=e.style,r=t.cid,i=t.screen_meta_cid,a=t.width,o=t.height,s="state".concat(r).concat(i,"p"),c=D()("pstate","state"),l=b()({width:a,height:o},n)
return Object(h.jsx)("div",{id:s,className:c,"data-cid":i,style:l,children:Object(h.jsx)(F.a,{})})}}]),n}(g.PureComponent)
p()(G,"propTypes",{style:m.a.object,panel:m.a.object})
var V=Object(k.connect)((function(e,t){var n=Object(M.J)(e).screenInfoMap,r=t.panel
return{panelInfo:n[r.screen_cid].panelInfoMap[r.cid]}}))(z),W=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,r=e.treeData,i=e.widgetTreeDataMap,a=e.offSetX,o=e.offSetY,s=e.renderOption,c=r.cid,l=r.type,u=r.widget,d=r.links,p=r.children,f=Object(y.b)(r),m=f.minX,g=f.minY,v=f.maxX,w=f.maxY,j=g-o,C=m-a
if("group"===l){var _=u.primary_fixed===x.a.FIXED_TYPE.bottom,k=b()({left:C,top:_?"":j,bottom:_?t.height-w:"",width:v-m,height:w-g},function(e){var t,n,r
return"none"!==e.ani_name&&e.v&&(n=e.ani_count,e.ani_delay&&"0"!==e.ani_delay&&(t=e.ani_delay),e.ani_duration&&"0"!==e.ani_duration&&(r=e.ani_duration)),{position:e.primary_fixed?"fixed":"absolute",zIndex:e.z,opacity:e.v?e.o/100:0,transform:e.ro?"rotate(".concat(e.ro,"deg)"):"",animationDelay:t,animationDuration:r,animationIterationCount:n}}(u)),M=function(e,t){var n="group"
return"none"!==e.ani_name&&e.v&&(n+=" animated ".concat(e.ani_name)),t&&t.length&&(n+=Object(S.f)(t)),e.v||(n+=" invisible"),n}(u,d),E=Object(S.e)(d),T=Object(S.g)(d)
return Object(h.jsxs)("div",{"data-cid":c,"data-link_cid":E,className:M,style:k,children:[p.map((function(e){return Object(h.jsx)(n,{screen:t,treeData:e,widgetTreeDataMap:i,offSetX:m,offSetY:g,renderOption:s},e.cid)})),u.v&&Object(h.jsx)("div",{className:"region gesture ".concat(T)})]})}return"panel"===l?Object(h.jsx)(V,b()({panel:u,renderOption:s},{screen:t,top:j,left:C,links:d})):Object(h.jsx)(O,b()({widget:u,renderOption:s},{screen:t,top:j,left:C,links:d}))}}]),n}(g.PureComponent)
p()(W,"propTypes",{screen:m.a.object.isRequired,treeData:m.a.object,offSetX:m.a.number,offSetY:m.a.number,widgetTreeDataMap:m.a.object,renderOption:m.a.object})
var Y=n(28),q=Object(Y.i)((function(e,t,n){return{isPreview:e,isSnapshot:t,isHTMLZip:n}})),Z=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.widgetTreeData,r=e.widgetTreeDataMap,i=e.isPreview,a=e.isSnapshot,o=e.isHTMLZip,s=q(i,a,o)
return n.children.map((function(e){return Object(h.jsx)(W,{screen:t,treeData:e,widgetTreeDataMap:r,offSetX:0,offSetY:0,renderOption:s},e.cid)}))}}]),n}(g.PureComponent)
p()(Z,"propTypes",{screen:m.a.object.isRequired,widgetTreeData:m.a.object,widgetTreeDataMap:m.a.object,isPreview:m.a.bool,isSnapshot:m.a.bool,isHTMLZip:m.a.bool}),p()(Z,"defaultProps",{isPreview:!0,isSnapshot:!1,isHTMLZip:!1})},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.lerp=t.smoothstep=t.clamp=t.euclideanModulo=t.addAbs=t.roundFloat=void 0
t.roundFloat=function(e){return Math.round(1e4*e)/1e4}
t.addAbs=function(e,t){return Math.sign(e)*Math.max(0,Math.abs(e)+t)}
t.euclideanModulo=function(e,t){return(e%t+t)%t}
t.clamp=function(e,t,n){return Math.max(t,Math.min(n,e))}
t.smoothstep=function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}
t.lerp=function(e,t,n){return e+(t-e)*n}},,function(e,t,n){"use strict"
var r=n(69),i=n(267),a=n(427),o=n(342)
e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(221),a=n(109)
e.exports=function(e){return"symbol"==(0,r.default)(e)||a(e)&&"[object Symbol]"==i(e)}},,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(22),i=n.n(r),a=n(7),o=n.n(a),s=n(3),c=n.n(s),l=n(6),u=n.n(l),d=n(8),p=n.n(d),h=n(9),f=n.n(h),m=n(2),g=n.n(m),v=n(1),b=n.n(v),y=n(5),x=n(197),w=function(e){p()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),g()(c()(r),"playAnimation",(function(e){r.setState({percent:0})
var t=Date.now()
requestAnimationFrame((function n(){var i=(Date.now()-t)/e
isNaN(i)&&(i=1/0)
var a=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(i),o=Math.min(a,1)
r.setState({percent:o}),o<1&&requestAnimationFrame(n)}))})),r.state={currentScreenCid:e.activeCid,percent:1},r}return u()(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.activeCid!==t.currentScreenCid?{currentScreenCid:e.activeCid,percent:0}:null}}]),u()(n,[{key:"componentDidMount",value:function(){this.props.onHomeScreenLoad(this.props.activeCid)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.transition,i=r.delay,a=r.duration
t.currentScreenCid!==this.state.currentScreenCid&&setTimeout((function(){n.playAnimation(a)}),i),t.percent<1&&1===this.state.percent&&this.props.onTransitionEnd(this.props.activeCid)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.transition,r=n.name,a=n.offset,o=this.state.percent,s=Object(x.b)(r,o,a),c=i()(s,2)
return t(c[0],c[1])}}]),n}(y.PureComponent)
g()(w,"propTypes",{children:b.a.func.isRequired,activeCid:b.a.string.isRequired,transition:b.a.object.isRequired,onHomeScreenLoad:b.a.func,onTransitionEnd:b.a.func})},function(e,t,n){"use strict"
n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}))
var r=n(4),i=n.n(r),a=n(22),o=n.n(a),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=u(e,t),a=o()(r,2),s=a[0],c=a[1],l=p(e),d=o()(l,2),h=d[0],f=d[1],m=g(e,t),b=o()(m,2),y=b[0],x=b[1],w=v(e,t,n),j=o()(w,2),S=j[0],C=j[1]
return[i()(i()({display:s},y),{},{zIndex:h,transform:S}),i()(i()({display:c},x),{},{zIndex:f,transform:C})]},c=function(e){switch(e){case"none":return"none"
case"leftmenu":return"leftmenu-reverse"
case"rightmenu":return"rightmenu-reverse"
case"leftdrawer":return"leftdrawer-reverse"
case"rightdrawer":return"rightdrawer-reverse"
case"slideright":return"slideleft"
case"slideleft":return"slideright"
case"slidetop":return"slidebottom"
case"slidebottom":return"slidetop"
case"slideleft2":return"leftout"
case"slideright2":return"rightout"
case"topin":return"topout"
case"popin":return"popout"
case"leftout":return"slideleft2"
case"rightout":return"slideright2"
case"topout":return"topin"
case"popout":return"popin"}},l=["leftmenu","rightmenu","leftdrawer","rightdrawer"],u=function(e,t){return"none"===e?t<1?["","none"]:["none",""]:t<1?["",""]:[l.includes(e)?"":"none",""]},d=["leftout","rightout","topout","popout","slideleft2-reverse","slideright2-reverse","topin-reverse","popin-reverse","leftmenu","rightmenu","leftdrawer-reverse","rightdrawer-reverse"],p=function(e,t,n){return d.includes(e)?[3,2]:[2,3]},h={boxShadow:"0 0 8px #aaa",borderLeft:"1px solid #bbb"},f={boxShadow:"0 0 8px #aaa",
borderRight:"1px solid #bbb"},m={boxShadow:"0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22), 0 0 10px 1000px rgba(0, 0, 0, 0.2)"},g=function(e,t){switch(e){case"leftmenu":return[h,null]
case"leftmenu-reverse":return t<1?[null,h]:[null,null]
case"rightmenu":return[f,null]
case"rightmenu-reverse":return t<1?[null,f]:[null,null]
case"leftdrawer":return[null,m]
case"leftdrawer-reverse":return t<1?[m,null]:[null,null]
case"rightdrawer":return[null,m]
case"rightdrawer-reverse":return t<1?[m,null]:[null,null]
default:return[null,null]}},v=function(e,t,n){var r=t*n
switch(e){case"none":return["none","none"]
case"leftmenu":return["translateX(".concat(0+r,"%)"),"translateX(".concat(-100+r,"%)")]
case"leftmenu-reverse":return["translateX(".concat(-100+n-r,"%)"),"translateX(".concat(0+n-r,"%)")]
case"rightmenu":return["translateX(".concat(0-r,"%)"),"translateX(".concat(100-r,"%)")]
case"rightmenu-reverse":return["translateX(".concat(100-n+r,"%)"),"translateX(".concat(0-n+r,"%)")]
case"leftdrawer":return["none","translateX(".concat(-100+r,"%)")]
case"leftdrawer-reverse":return["translateX(".concat(-100+n-r,"%)"),"none"]
case"rightdrawer":return["none","translateX(".concat(100-r,"%)")]
case"rightdrawer-reverse":return["translateX(".concat(100-n+r,"%)"),"none"]
case"slideright":return["translateX(".concat(r,"%)"),"translateX(".concat(-100+r,"%)")]
case"slideleft":return["translateX(".concat(0-r,"%)"),"translateX(".concat(100-r,"%)")]
case"slidetop":return["translateY(".concat(r,"%)"),"translateY(".concat(-100+r,"%)")]
case"slidebottom":return["translateY(".concat(0-r,"%)"),"translateY(".concat(100-r,"%)")]
case"slideleft2":return["none","translateX(".concat(-100+r,"%)")]
case"slideright2":return["none","translateX(".concat(100-r,"%)")]
case"topin":return["none","translateY(".concat(-100+r,"%)")]
case"popin":return["none","translateY(".concat(100-r,"%)")]
case"leftout":return["translateX(".concat(0-r,"%)"),"none"]
case"rightout":return["translateX(".concat(r,"%)"),"none"]
case"topout":return["translateY(".concat(0-r,"%)"),"none"]
case"popout":return["translateY(".concat(r,"%)"),"none"]
default:return console.error("发现未知动画名称: "+e),["none","none"]}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return N}))
var r=n(44),i=n.n(r),a=n(7),o=n.n(a),s=n(6),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(11),x=n(4),w=n.n(x),j=n(24),S=n.n(j),C=n(26),_=n.n(C),O=n(46),k=n(25),M=n(57),E=n(146),T=function(e,t,n,r){if(t){if(t.itemListMap[n]){var i=[],a=1/0
return t.itemListMap[n].forEach((function(t){if("link"!==t.name&&"sticky"!==t.name){if("panel"===t.name){if(r)return
if(!Object(M.f)(t,e))return}a=Math.min(a,t.z),i.push(t)}})),a<0&&i.forEach((function(e){return e.z-=a})),i}return[]}return[]},A=function(e,t,n,r,i){var a,o=MB.currentProjectMeta.cid,s=Object(k.i)(e.project_meta_cid),c=T(o,r,t,i),l=T(o,r,n,i),u=new Set(c.map((function(e){return e.cid}))),d=new Set(l.map((function(e){return e.cid}))),p=new Set([].concat(_()(u),_()(d))),h=c.reduce((function(e,t){return e[t.cid]=t,e}),{}),f=l.reduce((function(e,t){return e[t.cid]=t,e}),{}),m={},g=S()(p)
try{for(g.s();!(a=g.n()).done;){var v=a.value,b=u.has(v),y=d.has(v),x=void 0,j=void 0
if(b&&y){var C=h[v],M=f[v]
x=w()(w()({},C),{},{z:M.z,gid:M.gid,timestamp:M.timestamp}),j=w()({},M)}else if(b&&!y){var E=h[v]
x=w()({},E),j=w()(w()({},E),{},{o:0})}else if(!b&&y){var A=f[v]
x=w()(w()({},A),{},{o:0}),j=w()({},A)}m[v]={from:Object(O.i)(x,{screenCid:e.cid,screenStateCid:t},{project:s,projectMetaCid:o,screenMeta:e}),to:Object(O.i)(j,{screenCid:e.cid,screenStateCid:n},{project:s,projectMetaCid:o,screenMeta:e}),stable:y?Object(O.i)(f[v],{screenCid:e.cid,screenStateCid:n},{project:s,projectMetaCid:o,screenMeta:e}):null}}}catch(e){g.e(e)}finally{g.f()}return m}
function D(){var e=i()(['\n  .pcanvas,\n  .pstate {\n    &[data-cid="','"] {\n      .widget,\n      .group,\n      .panel {\n        transition: all ',"ms linear, z-index 0s linear;\n      }\n    }\n  }\n"])
return D=function(){return e},e}var N=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
o()(this,n),r=t.call(this,e)
var i=e.screen,a=e.stateCid,s=e.screenRuntimeState,c=e.shouldSkipPanel
return r.state={itemMap:A(i,a,a,s,c),transitionStep:2,currentStateCid:a},r.timer=null,r}return c()(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.screen,r=e.stateCid,i=e.transition,a=i.delay,o=i.duration,s=e.screenRuntimeState,c=e.shouldSkipPanel
if(r!==t.currentStateCid){var l=!(!a&&!o)
return{itemMap:A(n,t.currentStateCid,r,s,c),transitionStep:l?0:2,currentStateCid:e.stateCid}}return null}}]),c()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.transition,i=r.delay,a=r.duration,o=r.callback
switch(this.state.transitionStep){case 0:this.timer=setTimeout((function(){n.setState({transitionStep:1})}),i)
break
case 1:this.timer=setTimeout((function(){n.setState({transitionStep:2})}),a)
break
case 2:o&&o()}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e,t=this.props,n=t.screen,r=t.children,i=t.stateCid,a=t.screenRuntimeState,o=t.transition.duration,s=this.state,c=s.itemMap,l=s.transitionStep
switch(l){case 0:e=Object.values(c).map((function(e){return e.from}))
break
case 1:e=Object.values(c).map((function(e){return e.to}))
break
case 2:e=Object.values(c).map((function(e){return e.stable})).filter((function(e){return e}))}var u=function(e,t,n,r){var i=[]
if(MB.runner.runnerUtil.getIsPanelPreviewMode()){var a=MB.runner.runnerUtil.getScreenMetaListSet()
i=r.itemListMap[t].filter((function(e){return"link"===e.name&&MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(e,a)}))}else{i=(r.itemListMap[t]||[]).filter((function(e){return"link"===e.name}))}return Object(E.a)(e,t,n,i)}(n.cid,i,e,a)
return Object(m.jsxs)(b.Fragment,{children:[r(u),l<2&&o&&Object(m.jsx)(I,{screenMetaCid:n.cid,duration:o})]})}}]),n}(b.PureComponent)
f()(N,"propTypes",{screen:v.a.object,stateCid:v.a.string,transition:v.a.object,screenRuntimeState:v.a.object,shouldSkipPanel:v.a.bool,children:v.a.func}),f()(N,"defaultProps",{shouldSkipPanel:!1,transition:{}})
var I=Object(y.createGlobalStyle)(D(),(function(e){return e.screenMetaCid}),(function(e){return e.duration}))},function(e,t,n){"use strict"
n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return oe}))
var r=n(4),i=n.n(r),a=n(21),o=n(16),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(8),p=n.n(d),h=n(9),f=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n(5),y=n(1),x=n.n(y),w=n(210),j=n(3),S=n.n(j),C=n(254),_=n(153),O=n(95),k=n(11),M=n.n(k),E=M.a.div.withConfig({displayName:"styles__StyledAppContainer",componentId:"sc-11jyrti-0"})(["flex:1;overflow:auto;.app-placeholder{position:relative;min-width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;.app-content{background:black;}}"]),T=function(e){p()(n,e)
var t=f()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),g()(S()(e),"setElementRef",(function(t){return e.$elem=t})),g()(S()(e),"handleWheel",(function(t){var n=e.props.scale
if(t.ctrlKey||t.metaKey){t.preventDefault()
var r=Math.max(-1,Math.min(t.deltaY,1)),i=n<=100?n-5*r:n-n*r*.05
e.props.dispatch({type:"entry:preview:set:scale",payload:{scale:i}})}})),e}return u()(n,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"render",value:function(){
var e=this.props,t=e.scale,n=e.project,r=e.screenGlue,i=e.screen,a=e.isShowShell,o=e.simulatorType,s=t/100,c="landscape"===i.orientation,l="device"===o&&a?Object(O.a)(n):"none",u=Object(O.b)(n,l,c,!0),d={width:u.width*s,height:u.height*s},p={transform:"scale(".concat(s,")"),width:c?r.height:r.width,height:c?r.width:r.height}
"device"!==o&&(p.height=Math.min(p.height,i.height))
var h="project-main"===r.type
return Object(v.jsx)(E,{ref:this.setElementRef,children:Object(v.jsx)("div",{className:"app-placeholder",style:d,children:Object(v.jsxs)("div",{className:"app-content",style:p,children:[Object(v.jsx)(_.a,{isShellShow:h}),h&&Object(v.jsx)(C.a,{isHTMLZip:!1,project:n,shellType:l,isLandscape:c})]})})})}}]),n}(b.PureComponent)
g()(T,"propTypes",{simulatorType:x.a.string,scale:x.a.number,screen:x.a.object,project:x.a.object,screenGlue:x.a.object,isShowShell:x.a.bool,dispatch:x.a.func})
var A=Object(a.connect)((function(e){return{scale:Object(o.f)(e),screen:Object(o.g)(e),project:Object(o.c)(e),screenGlue:Object(o.h)(e),simulatorType:Object(o.M)(e),isShowShell:Object(o.v)(e)}
}))(T),D=n(13),N=n.n(D),I=n(29),P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",L=M.a.div.withConfig({
displayName:"style__StyledSquareLeftPane",componentId:"sc-1h13w6y-0"
})(["width:184px;height:100%;background:#e8e8e8;z-index:100;.pages-wrapper{width:100%;height:100%;padding:10px;overflow:auto;.one-page-wrapper{width:158px;}.one-page{width:158px;height:158px;padding:6px;border-radius:7px;box-sizing:border-box;border:3px solid transparent;cursor:pointer;&:hover{border-color:",";}&.active{border:3px solid ",";}.cover-wrapper{background:url(",");width:100%;height:100%;border-radius:4px;object-fit:cover;overflow:hidden;img.page-cover{width:100%;height:100%;object-fit:contain;}}}.screen-name{font-size:12px;line-height:17px;color:#1f292e;text-align:center;margin:5px 0;}}"],(function(e){
return e.theme.screen_panel.square_border_color_hover}),(function(e){return e.theme.palette.panel_bg_blue}),P),F=function(e){p()(n,e)
var t=f()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),g()(S()(e),"handleClick",(function(t){t.stopPropagation()
var n=t.currentTarget.dataset.cid,r=e.props,i=r.activeCid,a=r.dispatch
i!==n&&(a({type:"entry:sync-runner:set-screen",payload:{cid:n}}),a({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}))})),e}return u()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.screenList,r=t.activeCid
return t.isPanelPreviewMode?null:Object(v.jsx)(L,{children:Object(v.jsx)("div",{className:"pages-wrapper",children:n.map((function(t){return Object(v.jsxs)("div",{className:"one-page-wrapper","data-cid":t.cid,onClick:e.handleClick,children:[Object(v.jsx)("div",{className:N()("one-page",{active:t.cid===r}),children:Object(v.jsx)("div",{className:"cover-wrapper",children:Object(v.jsx)("img",{src:(n={projectMetaCid:t.project_meta_cid,screenMetaCid:t.cid},i=n.projectMetaCid,a=n.screenMetaCid,
"".concat("/snapshot.png","?projectMetaCid=").concat(i,"&screenMetaCid=").concat(a,"&screenStateCid=FIRST_STATE&zoomMode=thumbnail")),className:"page-cover"})})}),Object(v.jsx)("p",{className:"screen-name",children:t.name})]},t.cid)
var n,i,a}))})})}}]),n}(b.PureComponent)
g()(F,"propTypes",{screenList:x.a.array,activeCid:x.a.string,isPanelPreviewMode:x.a.bool,dispatch:x.a.func})
var B=Object(a.connect)((function(e){return{screenList:Object(I.h)(Object(o.H)(e)),activeCid:Object(o.g)(e).cid,isPanelPreviewMode:Object(o.q)(e)}}))(F),R=M.a.div.withConfig({displayName:"style__StyledSquareOptionList",componentId:"qpxm05-0"
})(["position:absolute;right:24px;top:50%;transform:translateY(-50%);width:32px;background:#fff;border-radius:2px;box-shadow:0 2px 10px rgba(39,54,78,0.1),0 12px 40px rgba(39,54,78,0.1);pointer-events:auto;.command-wrapper{height:36px;display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#e8e8e8;}&.active{background:",";.link path{fill:#fff;}}}.fullscreen{width:16px;height:16px;}.locate{width:18px;height:18px;}.divider{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}.rotate{width:16px;height:16px;}.link{width:11px;height:16px;}.ZoomButton .zoom-count{position:static;display:flex;flex-direction:column-reverse;width:100%;min-width:initial;margin-top:8px;margin-bottom:5px;& > span{color:#5b6b73;font-size:10px;margin-left:0;line-height:12px;}#zoomin{margin-bottom:8px;padding:5px 11px;&:hover{background:#e8e8e8;}.svg-icon{width:10px;height:10px;color:#415058;}}#zoomout{margin-top:8px;padding:5px 11px;&:hover{background:#e8e8e8;}.svg-icon{width:10px;height:10px;color:#415058;}}}"],(function(e){
return e.theme.palette.panel_bg_blue})),U=n(14),z=n(31),H=M.a.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sgjje-0"
})([".zoom-count{position:absolute;left:0;min-width:70px;height:100%;display:flex;justify-content:space-between;align-items:center;> span{display:flex;align-items:center;height:100%;font-size:14px;font-weight:600;margin-left:1px;color:",";}> a{display:flex;align-items:center;font-size:12px;color:",";cursor:pointer;&:not([disabled]):hover{svg{fill:",";color:",";}}}}"],(function(e){return e.theme.common.text_28.cr}),(function(e){return e.theme.common.icon_16.cr}),(function(e){
return e.theme.common.icon_16.hover}),(function(e){return e.theme.common.icon_16.hover})),G=function(e){p()(n,e)
var t=f()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),g()(S()(e),"handleZoomIn",(function(){(0,e.props.dispatch)({type:"entry:preview:zoom-in"})})),g()(S()(e),"handleZoomOut",(function(){(0,e.props.dispatch)({type:"entry:preview:zoom-out"})})),e}return u()(n,[{key:"render",value:function(){var e=this.props.scale,t=e<400,n=e>20
return Object(v.jsx)(H,{className:"ZoomButton",children:Object(v.jsxs)("div",{className:N()("zoom-count","preview-zoom-btn"),children:[Object(v.jsx)("a",{id:"zoomout",disabled:!n,title:I18N.DesignZoomBox.zoomout,onClick:this.handleZoomOut,className:"scale-icon",children:Object(v.jsx)(U.a,{name:"design/scale_reduce"})}),Object(v.jsx)(z.a,{content:I18N.DesignZoomBox.zoom,direction:"down",children:Object(v.jsx)("span",{children:"".concat(Math.round(e),"%")})}),Object(v.jsx)("a",{id:"zoomin",disabled:!t,
title:I18N.DesignZoomBox.zoomin,onClick:this.handleZoomIn,className:"scale-icon",children:Object(v.jsx)(U.a,{name:"design/scale_enlarge"})})]})})}}]),n}(b.PureComponent)
g()(G,"propTypes",{scale:x.a.number,dispatch:x.a.func})
var V=function(e){p()(n,e)
var t=f()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),g()(S()(e),"handleClickFullScreen",(function(){e.props.dispatch({type:"entry:enter:full-screen-mode"})})),g()(S()(e),"handleBackToOrigin",(function(){e.props.dispatch({type:"entry:auto-fit:preview:scale"}),e.props.dispatch({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),g()(S()(e),"handleToggleHighlight",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!e.props.isHighlight}})})),e}return u()(n,[{
key:"render",value:function(){var e=this.props,t=e.isHighlight,n=e.scale,r=e.dispatch
return Object(v.jsxs)(R,{children:[Object(v.jsx)(z.a,{content:I18N.pSquareOptionsList.full_screen,direction:"left",children:Object(v.jsx)("div",{className:"command-wrapper",onClick:this.handleClickFullScreen,children:Object(v.jsx)(U.a,{name:"square/preview/fullscreen",className:"fullscreen"})})}),Object(v.jsx)(z.a,{content:I18N.pSquareOptionsList.zoom_to_fit,direction:"left",children:Object(v.jsx)("div",{className:"command-wrapper",onClick:this.handleBackToOrigin,children:Object(v.jsx)(U.a,{
name:"square/preview/locate",className:"locate"})})}),Object(v.jsx)(z.a,{content:I18N.pSquareOptionsList.highlighted,direction:"left",children:Object(v.jsx)("div",{className:N()("command-wrapper",{active:t}),onClick:this.handleToggleHighlight,children:Object(v.jsx)(U.a,{name:"square/preview/link",className:"link"})})}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)(G,{scale:n,dispatch:r})]})}}]),n}(b.PureComponent)
g()(V,"propTypes",{isHighlight:x.a.bool,scale:x.a.number,dispatch:x.a.func})
var W=Object(a.connect)((function(e){return{isHighlight:e.container.previewSetting.isHighlight,scale:e.container.common.scale}}))(V),Y=n(214),q=n(290),Z=n(138),X=M.a.div.withConfig({displayName:"styles__StyledApp",componentId:"q07jir-0"})(["width:100%;height:100%;display:flex;background:",";"],(function(e){return e.theme.preview.bg})),J=function(e){p()(n,e)
var t=f()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.previewOptions,n=e.previewSetting,r=e.dispatch,i=t.isSquare,a=t.isEmbedV2,o=n.isFullScreenMode,s=n.isFullScreenMode,c=i&&!s,l=a,u=!o
return Object(v.jsxs)(X,{onContextMenu:this.preventDefault,children:[s&&Object(v.jsx)(q.a,{}),c&&Object(v.jsx)(B,{}),l&&Object(v.jsx)(Y.a,{}),Object(v.jsx)(A,{}),u&&Object(v.jsx)(W,{}),Object(v.jsx)(w.a,{dispatch:r}),Object(v.jsx)(Z.b,{})]})}}]),n}(b.PureComponent)
g()(J,"propTypes",{previewOptions:x.a.object,previewSetting:x.a.object,dispatch:x.a.func})
var K=Object(a.connect)((function(e){var t=Object(o.E)(e)
return{previewOptions:Object(o.D)(e),previewSetting:t}}))(J),Q=n(291),$=n(289),ee=n(288),te=M.a.div.withConfig({displayName:"styles__StyledApp",componentId:"qdh4v-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],(function(e){return e.theme.preview.bg})),ne=function(e){p()(n,e)
var t=f()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.dispatch
return Object(v.jsxs)(te,{onContextMenu:this.preventDefault,children:[Object(v.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[Object(v.jsx)(Y.a,{}),Object(v.jsx)(ee.a,{}),Object(v.jsx)($.a,{}),Object(v.jsx)(Q.a,{})]}),Object(v.jsx)(w.a,{dispatch:e}),Object(v.jsx)(Z.b,{})]})}}]),n}(b.PureComponent)
g()(ne,"propTypes",{dispatch:x.a.func})
var re=Object(a.connect)()(ne),ie=n(39),ae=function(e){var t=e.isEmbedV1,n=void 0!==t&&t
return i()({isDesktop:!(Object(ie.j)()||n),isInApp:!1,isMobile:Object(ie.j)(),isIOSClient:Object(ie.h)(),isStandAlone:Object(ie.k)(),isEmbedV1:n,isEmbedV2:!1,isHTMLZip:!1,isUIChina:Object(ie.l)(),isForum:Object(ie.f)(),isElectron:Object(ie.c)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:Object(ie.d)(),isWechat:Object(ie.m)()},e)},oe=function(e){var t=e.isMobile,n=e.isEmbedV2,r=e.isSquare,i=e.isVersionEmbedded
if(t)return _.a
if(n||r)return K
if(i)return re
throw new Error("页面加载失败")}},,,function(e,t,n){"use strict"
var r=n(21),i=n(20),a=n(16),o=n(7),s=n.n(o),c=n(6),l=n.n(c),u=n(3),d=n.n(u),p=n(8),h=n.n(p),f=n(9),m=n.n(f),g=n(2),v=n.n(g),b=n(0),y=n(5),x=n(1),w=n.n(x),j=n(243),S=n(293),C=n(11),_=n.n(C).a.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sc-1l4t4ah-0"})([".zoom-count{position:absolute;left:0;min-width:70px;height:100%;display:flex;justify-content:space-between;align-items:center;}"]),O=n(13),k=n.n(O),M=function(e){h()(n,e)
var t=m()(n)
function n(){var e
return s()(this,n),e=t.call(this),v()(d()(e),"handleZoomIn",(function(){var t=e.props,n=t.dispatch,r=t.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),r&&MB.event("preview","工具栏 :全屏模式缩放"),n({type:"entry:preview:zoom-in"})})),v()(d()(e),"handleZoomOut",(function(){var t=e.props,n=t.dispatch,r=t.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),r&&MB.event("preview","工具栏 :全屏模式缩放"),n({type:"entry:preview:zoom-out"})})),v()(d()(e),"handleZoomSpecifiedScale",(function(t){var n=e.props,r=n.dispatch,i=n.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),i&&MB.event("preview","工具栏 :全屏模式缩放"),r({type:"entry:preview:set:scale",payload:{scale:t}})})),v()(d()(e),"handleZoomInitialScale",(function(t){t.stopPropagation(),t.preventDefault()
var n=e.props,r=n.dispatch,i=n.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),i&&MB.event("preview","工具栏 :全屏模式缩放"),r({type:"entry:auto-fit:preview:scale"}),r({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),e.state={isGuideShow:!1},e}return l()(n,[{key:"componentDidMount",value:function(){var e=this,t=MB.getIsInNewGuide&&MB.getIsInNewGuide()
this.props.isFullScreenMode||t||(this.openGuideTimer=setTimeout((function(){e.setState({isGuideShow:!0})}),600))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.openGuideTimer)}},{key:"render",value:function(){var e=this.props,t=e.scale,n=e.isToolbarTextShow,r=this.state.isGuideShow
return Object(b.jsx)(_,{className:"ZoomButton",children:Object(b.jsx)(j.a,{id:"preview-zoom",localeKey:"zoom",X:"left",isOpen:r,gotItBtn:!0,noCloseBtn:!0,children:Object(b.jsx)("div",{className:k()("zoom-count","preview-zoom-btn"),children:Object(b.jsx)(S.a,{scale:t,showZoomTip:n,isShowZoomSelection:!1,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomInitialScale:this.handleZoomInitialScale,onZoomSpecifiedScale:this.handleZoomSpecifiedScale})})})})}}]),n}(y.PureComponent)
v()(M,"propTypes",{scale:w.a.number,isFullScreenMode:w.a.bool,isToolbarTextShow:w.a.bool,dispatch:w.a.func}),v()(M,"defaultProps",{isFullScreenMode:!1})
var E=Object(i.createSelector)([a.f,a.m,a.y],(function(e,t,n){return{scale:e,isFullScreenMode:t,isToolbarTextShow:n}}))
t.a=Object(r.connect)((function(e){return E(e)}))(M)},function(e,t,n){"use strict"
var r=n(0),i=(n(5),n(11)),a=n.n(i).a.div.withConfig({displayName:"styles__StyledInvalidStatePanel",componentId:"sc-1qukudv-0"})(["width:100%;height:100%;padding:6px 8px;.box{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:space-evenly;background:#ededed;border-radius:2px;.tips{color:#e84030;}}"]),o=function(){return Object(r.jsx)("svg",{width:"24",height:"30",viewBox:"0 0 24 30",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsxs)("g",{fill:"none",
fillRule:"evenodd",children:[Object(r.jsx)("path",{d:"M7.09 30c-.297 0-.595-.04-.893-.16-.795-.317-1.242-1.033-1.044-1.749l2.683-9.942-6.458-1.83c-.596-.158-1.093-.556-1.292-1.073-.198-.517-.05-1.034.398-1.432L14.344.572c.596-.557 1.54-.716 2.335-.438.795.279 1.291.994 1.142 1.71l-2.086 10.34 6.657 1.113c.695.12 1.242.517 1.49 1.034.248.557.1 1.114-.397 1.551L8.58 29.443c-.347.358-.944.557-1.49.557z",fill:"#B7C0C6"}),Object(r.jsx)("path",{fill:"#EDEDED",fillRule:"nonzero",
d:"M7.325 14.353l5.276 3.517 1.412 10.824 2.974-.388L15.4 16.13l-3.724-2.483 3.382-4.349-8.575-7.432-1.964 2.268 6.425 5.568z"})]})})}
t.a=function(){return Object(r.jsx)(a,{children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"tips",children:I18N.InvalidStatePanel.re_select}),Object(r.jsx)(o,{})]})})}},,,,,function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e)
return i}},function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.InputActionButton=t.default=void 0
var a=i(n(4)),o=i(n(7)),s=i(n(6)),c=i(n(3)),l=i(n(8)),u=i(n(9)),d=i(n(2)),p=n(0),h=r(n(5)),f=i(n(1)),m=i(n(37)),g=i(n(59)),v=i(n(166)),b=i(n(70)),y=n(87),x=i(n(61)),w=n(35),j=function(e,t){return Number(Number(e).toFixed(t))},S=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},C=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)},_=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},O=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){var e;(0,o.default)(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,c.default)(e),"state",{prevProps:e.props,value:(0,w.setNumberValue)(e.props.value),isActive:!1,isValid:!0,isMenuOpen:!1}),(0,d.default)((0,c.default)(e),"onChange",(function(t){var n=t.target.value
e.setValue(n.trim(),t)})),(0,d.default)((0,c.default)(e),"correctNumber",(function(t){var n=e.props,r=n.min,i=n.max,a=n.precision
return j(Math.min(Math.max(t,r),i),a)})),(0,d.default)((0,c.default)(e),"checkValidity",(function(t){return""===t||isFinite(t)&&e.correctNumber(t)===Number(t)})),(0,d.default)((0,c.default)(e),"setValue",(function(t,n){n.persist(),clearTimeout(e.correctionTimeout)
var r=e.props,i=r.value,a=r.parser,o=r.placeholder,s=r.onChange,l=a(t.toString()).toString(),u="0"!==t&&!l&&!!o,d=e.checkValidity(l),p=""!==t&&isFinite(l),h=C(l)
if(p||h){var f=e.correctNumber(l),m=isNaN(f)?i:f,g=u?"":h||!d?l:m
e.setState({value:g,isValid:d}),d?s(g,n):Object.assign((0,c.default)(e),{correctionTimeout:setTimeout((function(){return e.state.value===g&&e.setState({value:m,isValid:!0},s(m,n))}),1e3)})}})),(0,d.default)((0,c.default)(e),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),(0,d.default)((0,c.default)(e),"onStep",(function(t){t.persist(),t.nativeEvent.stopPropagation()
var n=t.currentTarget.dataset.action,r=S(t,e.props.step)*("up"===n?1:-1)
e.setValue(e.correctNumber(Number(e.state.value)+r),t),e.focusOnInput(t),Object.assign((0,c.default)(e),{longPressedTimeout:setTimeout((function(){return Object.assign((0,c.default)(e),{steppingInterval:setInterval((function(){return e.setValue(e.correctNumber(Number(e.state.value)+r),t)}),30)})}),500)})})),(0,d.default)((0,c.default)(e),"onRelease",(function(){clearTimeout(e.longPressedTimeout),clearInterval(e.steppingInterval)})),(0,d.default)((0,c.default)(e),"onKeyDown",(function(t){
var n="ArrowUp"===t.key?"up":"ArrowDown"===t.key?"down":null
if(n){t.persist(),t.nativeEvent.preventDefault()
var r=S(t,e.props.step)*("up"===n?1:-1)
e.setValue(e.correctNumber(Number(e.state.value)+r),t)}})),(0,d.default)((0,c.default)(e),"set$label",(function(t){return Object.assign((0,c.default)(e),{$label:t})})),(0,d.default)((0,c.default)(e),"setActive",(function(){return e.setState({isActive:!0})})),(0,d.default)((0,c.default)(e),"setInactive",(function(){return e.setState({isActive:!1})})),(0,d.default)((0,c.default)(e),"toggleMenu",(function(){return e.setState({isMenuOpen:!e.state.isMenuOpen})})),(0,d.default)((0,
c.default)(e),"closeMenu",(function(){return e.setState({isMenuOpen:!1})})),(0,d.default)((0,c.default)(e),"onSelect",(function(t){t.persist()
var n=t.currentTarget
e.setValue(n.dataset.value,t),e.closeMenu()})),(0,d.default)((0,c.default)(e),"onClickOutside",(function(t){var n=t.target
n.closest("label")&&e.$label.contains(n)||e.setInactive()})),(0,d.default)((0,c.default)(e),"onBlur",(function(t){var n=e.props,r=n.valueForEmptyInput,i=n.onBlur,a=e.state.value
i(t),!a&&(0,v.default)(r)&&e.setValue(r,t)})),e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this.$label,t=this.props,n=t.value,r=t.title,i=t.prefix,a=t.suffix,o=this.checkValidity(n)
if(this.setState({isValid:o}),r||i||a){var s=e.querySelector("input"),c=e.querySelector(".action"),l=e.querySelector(".title"),u=e.querySelector(".prefix"),d=e.querySelector(".suffix span"),p=parseInt(getComputedStyle(s).getPropertyValue("padding-left"))
if(r||i){var h=(l?l.clientWidth+6:0)+(u?u.clientWidth:0),f={paddingLeft:"".concat(h+p,"px")}
Object.assign(s.style,f),r&&i&&Object.assign(u.style,{left:"".concat(l.clientWidth+6,"px")}),a&&Object.assign(d.parentNode.style,f)}if(a){var m=c.clientWidth+d.clientWidth
Object.assign(s.style,{paddingRight:"".concat(m,"px")})}}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.theme,i=e.unstyled,o=e.readOnly,s=e.placeholder,c=e.prefix,l=e.suffix,u=e.title,d=e.desc,h=e.formatter,f=e.dontSelectOnFocus,g=e.onFocus,v=void 0===g?f?void 0:_:g,b=e.optionList,x=e.menuX,j=this.state,S=j.value,C=j.isActive,O=j.isValid,M=j.isMenuOpen,E=""===S,T=this.props.isDisabled||this.props.disabled,A=(0,
w.trimList)(["core"===r?"CoreInput CoreInputNumber":"Input InputNumber",n,i&&"unstyled",t,C&&!T&&!o&&"is-active",M&&"is-menu-open",T&&"is-disabled",o&&"is-readonly",O?"is-valid":"isnt-valid",E?"is-empty":"isnt-empty",!!u&&"with-title",!!d&&"with-desc",!!c&&"with-prefix",!!l&&"with-suffix"]),D=b&&b.length>0
return(0,p.jsxs)("label",{className:A,ref:this.set$label,onMouseDown:this.setActive,children:[u&&(0,p.jsx)("span",{className:"title",children:u}),d&&(0,p.jsx)("span",{className:"desc",children:d}),c&&(0,p.jsx)("span",{className:"prefix",children:c}),(0,p.jsx)("input",(0,a.default)({type:"text",value:h(S),placeholder:s,disabled:T,readOnly:o,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:v,onBlur:this.onBlur},(0,w.getOtherProps)(this.constructor,this.props))),l&&(0,p.jsx)("span",{className:"suffix",
"data-value":h(S),"data-suffix":l,children:(0,p.jsx)("span",{children:l})}),(0,p.jsx)(k,{hasMenu:D,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),D&&(0,p.jsx)(y.SelectMenu,{isOpen:M,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:b,value:S,menuX:x,onChange:this.onSelect,onClose:this.closeMenu}),(C||M)&&(0,p.jsx)(m.default,{target:document,onClick:this.onClickOutside})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
if(!(0,g.default)(n,e)){var r=e.value
return{prevProps:e,value:(0,w.setNumberValue)(r)}}return null}}]),n}(h.PureComponent);(0,d.default)(O,"propTypes",{size:f.default.oneOf(["regular","small"]),theme:f.default.oneOf(["core","plain"]),unstyled:f.default.bool,step:f.default.number,precision:f.default.number,formatter:f.default.func,parser:f.default.func,value:f.default.oneOfType([f.default.string,f.default.number]),valueForEmptyInput:f.default.oneOfType([f.default.string,f.default.number]),
placeholder:f.default.oneOfType([f.default.string,f.default.number]),optionList:f.default.arrayOf(f.default.oneOfType([f.default.string,f.default.number])),menuX:f.default.oneOf(["left","center"]),dontSelectOnFocus:f.default.bool,title:f.default.node,desc:f.default.node,prefix:f.default.node,suffix:f.default.node,min:f.default.number,max:f.default.number,isDisabled:f.default.bool,disabled:f.default.bool,readOnly:f.default.bool,onChange:f.default.func.isRequired,onFocus:f.default.func,onBlur:f.default.func,
className:f.default.string}),(0,d.default)(O,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",valueForEmptyInput:null,placeholder:"",step:1,precision:1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null},onBlur:function(){return null}})
var k=function(e){(0,l.default)(n,e)
var t=(0,u.default)(n)
function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props,t=e.hasMenu,n=e.onToggleMenu,r=e.onStep,i=e.onRelease
return(0,p.jsx)(h.default.Fragment,{children:t?(0,p.jsx)("div",{className:"action caret",children:(0,p.jsx)(b.default,{type:"text",tabIndex:"-1",onClick:n,children:(0,p.jsx)(x.default,{name:"triangle_down"})})}):(0,p.jsxs)("div",{className:"action",children:[(0,p.jsx)(b.default,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:r,onMouseLeave:i,onMouseUp:i,children:(0,p.jsx)(x.default,{name:"triangle_up"})}),(0,p.jsx)(b.default,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:r,
onMouseLeave:i,onMouseUp:i,children:(0,p.jsx)(x.default,{name:"triangle_down"})})]})})}}]),n}(h.PureComponent)
t.InputActionButton=k,(0,d.default)(k,"propTypes",{hasMenu:f.default.bool,onStep:f.default.func,onToggleMenu:f.default.func,onRelease:f.default.func})
var M=O
t.default=M},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(1),g=n.n(m),v=n(5),b=n(115),y=window.key,x="preview",w=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"handleFullScreenChange",(function(){b.a.isFullscreen||e.props.dispatch({type:"entry:exit:fill-screen-mode"})})),e}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch
y.setScope(x),y("command+enter, ctrl+enter",x,(function(){e({type:"entry:enter:full-screen-mode"})})),y("command+p, ctrl+p",x,(function(){return!1})),y("esc",x,(function(){return e({type:"entry:preview:escape:key"}),!1})),y("command+=, ctrl+=,  command+numpad_add, ctrl+numpad_add",x,(function(){return e({type:"entry:preview:zoom-in"}),!1})),y("command+-, ctrl+-, command+numpad_subtract, ctrl+numpad_subtract",x,(function(){return e({type:"entry:preview:zoom-out"}),!1})),
y("command+0, ctrl+0, command+numpad_0, ctrl+numpad_0",x,(function(){return e({type:"entry:preview:set:scale",payload:{scale:100}}),!1})),y("command+1, ctrl+1, command+numpad_1, ctrl+numpad_1",x,(function(){return e({type:"entry:auto-fit:preview:scale"}),e({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),!1})),y("[",x,(function(){return e({type:"entry:preview-setting:toggle:isMinimized"}),!1})),b.a.on("change",this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){
y.deleteScope(x),y.setScope("design"),b.a.off("change",this.handleFullScreenChange)}},{key:"render",value:function(){return null}}]),n}(v.PureComponent)
f()(w,"propTypes",{dispatch:g.a.func})},function(e,t,n){"use strict"
var r=n(99),i=n(716),a=n(323),o=Math.max,s=Math.min
e.exports=function(e,t,n){var c,l,u,d,p,h,f=0,m=!1,g=!1,v=!0
if("function"!=typeof e)throw new TypeError("Expected a function")
function b(t){var n=c,r=l
return c=l=void 0,f=t,d=e.apply(r,n)}function y(e){return f=e,p=setTimeout(w,t),m?b(e):d}function x(e){var n=e-h
return void 0===h||n>=t||n<0||g&&e-f>=u}function w(){var e=i()
if(x(e))return j(e)
p=setTimeout(w,function(e){var n=t-(e-h)
return g?s(n,u-(e-f)):n}(e))}function j(e){return p=void 0,v&&c?b(e):(c=l=void 0,d)}function S(){var e=i(),n=x(e)
if(c=arguments,l=this,h=e,n){if(void 0===p)return y(h)
if(g)return clearTimeout(p),p=setTimeout(w,t),b(h)}return void 0===p&&(p=setTimeout(w,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(a(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=l=p=void 0},S.flush=function(){return void 0===p?d:j(i())},S}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return mn})),n.d(t,"b",(function(){return gn}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(2),p=n.n(d),h=n(0),f=n(1),m=n.n(f),g=n(5),v=n(21),b=function(){return(new Date).getTime()},y=["mouseIn","mouseOut"],x=function(e){return e.some((function(e){return y.includes(e)}))},w=function(){function e(){i()(this,e),this.coolDownTime=b(),this.coolDownInterval=200}return o()(e,[{key:"isCoolDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
if(x(e))return!0
var t=b()-this.coolDownTime
return this.coolDownTime+=t,t>this.coolDownInterval}},{key:"resetCoolDown",value:function(){this.coolDownTime-=this.coolDownInterval}}]),e}(),j=n(22),S=n.n(j),C=n(4),_=n.n(C),O=n(16),k=n(45),M=n(46),E=n(42),T=n(192),A=n(30),D=[A.a,A.h,A.e,A.c],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.a
if(!D.includes(t))return t
var r=MB.currentProjectMeta.cid,i=Object(k.g)(r,e),a=0,o=i.length-1
if(t===A.a)return i[a].cid
if(t===A.h){var s=n===A.a?0:i.findIndex((function(e){return e.cid===n}))
return i[0===s?o:s-1].cid}if(t===A.e){var c=n===A.a?0:i.findIndex((function(e){return e.cid===n}))
return i[c===o?a:c+1].cid}return t===A.c?i[o].cid:void 0},I=n(39),P={useTransform:!1,disableTouch:!1,disablePointer:!0,preventDefault:!0,probeType:3,ignoreEventException:function(e){if(e.metaKey||e.ctrlKey)return!0
if(4===e.buttons)return!0
var t=$(e.target).closest(".widget")
if(t.length){if(t.hasClass("webpage"))return!0
if(t.hasClass("map_view"))return!0
if(t.find("input").length)return!0}var n=$(e.target).closest(".ppanel")
return!(!n.length||!(n[0].offsetWidth<n[0].scrollWidth||n[0].offsetHeight<n[0].scrollHeight))||!(!e.touches||2!==e.touches.length)}},L=_()(_()({},P),{},{scrollbars:!0,mouseWheel:!0,disableMouse:!1,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,HWCompositing:!1}),F=function(){function e(t){var n=this
i()(this,e),p()(this,"getRunnerScreenDataMap",(function(){return Object(O.L)(n.webpackInterface.store.getState())})),this.iScrollMap={},this.linkQueryMap=null,this.webpackInterface=t}return o()(e,[{key:"clear",value:function(){this.destroyScrollBar(),this.linkQueryMap=null}},{key:"deviceOrient",value:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}},{key:"toggleScrollBar",value:function(e){Object.values(this.iScrollMap).forEach((function(t){e?t.enable():t.disable()}))}},{
key:"renderScrollbar",value:function(e){this.iScrollMap[e]?this._refreshScrollBar(e):this._initScrollBar(e)}},{key:"_initScrollBar",value:function(e){var t=this
if(!this.iScrollMap[e]){var n=document.querySelector("#pscreen".concat(e," .screen-content"))
if(n&&n.offsetParent){var r=Object(I.j)()?P:L,i=this.getScreenScrollTop(e)
r.startY=i||0
var a=new window.IScroll(n,r)
Object(I.j)()||$(n).on("wheel",(function(e){e.metaKey||e.ctrlKey||n.offsetHeight!==n.scrollHeight&&e.stopPropagation()})),a.on("scroll",(function(){t.webpackInterface.store.dispatch({type:"runner:update:scroll-top",payload:{screenMetaCid:e,scrollTop:a.y}})})),this.iScrollMap[e]=a}}}},{key:"_refreshScrollBar",value:function(e){this.iScrollMap[e]&&this.iScrollMap[e].refresh()}},{key:"resetScreenScrollState",value:function(e){this.webpackInterface.store.dispatch({type:"runner:update:scroll-top",payload:{
screenMetaCid:e,scrollTop:0}})}},{key:"destroyScrollBar",value:function(){Object.values(this.iScrollMap).forEach((function(e){$(e.wrapper).off("wheel"),e.destroy()})),this.iScrollMap={}}},{key:"destroyScrollBarByCid",value:function(e){var t=this.iScrollMap[e]
t&&($(t.wrapper).off("wheel"),t.destroy(),delete this.iScrollMap[e])}},{key:"resetCurrentScreenScrollState",value:function(e){var t=this.iScrollMap[e]
t&&t.scrollTo(0,0)}},{key:"resetScrollState",value:function(){Object.values(this.iScrollMap).forEach((function(e){return e.scrollTo(0,0)})),this.webpackInterface.store.dispatch({type:"runner:update:state",payload:{screenScrollTopMap:{}}})}},{key:"setupStatusBar",value:function(e){if(this.deviceOrient()===e.orientation){var t="android"===MB.currentProject.device?23:20
$("#app").css({top:0-t,height:window.innerHeight+t})}}},{key:"getIsImmersive",value:function(){return Object(O.o)(this.webpackInterface.store.getState())}},{key:"getIsHighlight",value:function(){return Object(O.n)(this.webpackInterface.store.getState())}},{key:"getIsScreenExpanded",value:function(){return Object(O.s)(this.webpackInterface.store.getState())}},{key:"getCurrentScreen",value:function(){var e=Object(O.I)(this.webpackInterface.store.getState())
return this.getRunnerScreenDataMap()[e]}},{key:"getCheckCurrentLinkCannotJump",value:function(e){var t=this.webpackInterface.store.getState(),n=Object(O.J)(t),r=n.activeCid,i=n.screenInfoMap[r].stateCid,a=e.target_cid,o=e.targetstate_cid,s=N(r,o,i)
return a===r&&i===s}},{key:"findLink",value:function(e,t){var n=this,r=this.getRunnerStateByScreenCid(t),i=r.stateCid,a=r.screenRuntimeState.itemListMap[i],o=Object(E.d)(e)
return a.filter((function(e){return"link"===e.name&&o.includes(e.cid)})).map((function(e){var r=Object(M.i)(e,{screenCid:t,screenStateCid:i})
if(n.checkCurrentLinkIsValid(r,t,i))return r}))}},{key:"findLinkInPanel",value:function(e,t,n){var r=this,i=this.getRunnerStateByScreenCid(n).panelInfoMap[t],a=i.currentScreenMetaCid,o=i.currentScreenStateCid,s=i.screenDataMap[a].screenRuntimeState.itemListMap[o],c=Object(E.d)(e)
return s.filter((function(e){return"link"===e.name&&c.includes(e.cid)})).map((function(e){var t=Object(M.i)(e,{screenCid:a,screenStateCid:o})
if(r.checkCurrentLinkIsValid(t,a,o))return t}))}},{key:"checkCurrentLinkIsValid",value:function(e,t,n){var r=this.webpackInterface.store.getState(),i=Object(O.d)(r)
return Object(T.a)(i.cid,t,n)(e)}},{key:"getLinkQueryMap",value:function(){if(!this.linkQueryMap){var e=ProjectExchange.getProjectStore(MB.currentProjectMeta.cid).screenRuntimeStateStore.generateLocalDump(),t={}
e.forEach((function(e){var n=e.screenMetaCid,r=e.itemListMap
Object.entries(r).forEach((function(e){var r=S()(e,2),i=r[0]
r[1].forEach((function(e){"link"===e.name&&(t[e.cid]=_()(_()({},e),{},{screen_cid:n,screenstate_cid:i}))}))}))})),this.linkQueryMap=t}return this.linkQueryMap}},{key:"getRunnerStateByScreenCid",value:function(e){var t=this.webpackInterface.store.getState()
return Object(O.J)(t).screenInfoMap[e]}},{key:"getPanelFormRunState",value:function(e){var t=this.webpackInterface.store.getState(),n=Object(O.J)(t),r=n.activeCid,i=n.screenInfoMap[r],a=i.screenRuntimeState,o=i.stateCid
return{panel:a.itemListMap[o].find((function(t){return t.cid===e})),screenCid:r,screenStateCid:o}}},{key:"getScreenMetaListSet",value:function(){var e=this.webpackInterface.store.getState(),t=Object(O.h)(e),n=Object(O.d)(e),r=ProjectExchange.getProjectStore(n.cid).getLocalScreenMetaListByScreenGlueCid(t.cid)
return new Set(r.map((function(e){return e.cid})))}},{key:"getScreenScrollTop",value:function(e){var t=this.webpackInterface.store.getState()
return Object(O.J)(t).screenScrollTopMap[e]}},{key:"getIsLinkInCurrentScreebGlueInside",value:function(e,t){return A.d.TYPE.screen_link!==e.link_type||t.has(e.target_cid)}},{key:"getIsScreenLinkJumpToMainGlue",value:function(e,t){return A.d.TYPE.screen_link===e.link_type&&t.has(e.target_cid)}},{key:"getIsPanelPreviewMode",value:function(){return Object(O.q)(this.webpackInterface.store.getState())}},{key:"getScreenStateValidLinkListForPreview",value:function(e,t){
var n=this.webpackInterface.store.getState(),r=Object(O.d)(n)
return Object(k.j)(r.cid,e,t)}},{key:"getPreviewOptions",value:function(){return Object(O.D)(this.webpackInterface.store.getState())}}]),e}(),B=n(24),R=n.n(B),U=n(129),z=n.n(U),H=window,G=H.$,V=H.Shake,W=function(){function e(){i()(this,e),this.hightTimer=null}return o()(e,[{key:"init",value:function(e){var t=this,n=new z.a(e,{touchAction:"auto",inputClass:Object(I.j)()?z.a.TouchInput:null})
n.get("swipe").set({direction:z.a.DIRECTION_ALL,velocity:.05,threshold:50}),n.on("swipeleft",(function(e){t.prepareJump(e,["left"])})),n.on("swiperight",(function(e){t.prepareJump(e,["right"])})),n.on("swipeup",(function(e){t.prepareJump(e,["up"])})),n.on("swipedown",(function(e){t.prepareJump(e,["down"])})),n.on("press",(function(e){t.prepareJump(e,["hold","longpress"])})),n.on("tap",(function(e){1===e.tapCount&&t.prepareJump(e,["tap","click"]),2===e.tapCount&&(MB.runner.eventBucket.resetCoolDown(),
t.prepareJump(e,["dtap","dbclick"]))})),new V({threshold:15}).start(),window.addEventListener("shake",(function(e){t.prepareJump(e,["shake"])}),!1),e.addEventListener("mousedown",(function(e){2===e.button&&t.prepareJump(e,["rightClick"])})),G(e).on("mouseenter",".mouseAble",(function(e){t.prepareJump(e,["mouseIn"])})),G(e).on("mouseleave",".mouseAble",(function(e){t.prepareJump(e,["mouseOut"])})),this.hammertime=n}},{key:"prepareJump",value:function(e,t){
var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=MB.runner,i=r.eventBucket,a=r.runnerUtil,o=r.timerHandler,s=r.currentMenu,c=a.getIsImmersive()
if(!c){var l=o.getIsPageTimerFired()
if(i.isCoolDown(t)&&!l){var u=G(e.target).closest(".clickable"),d=G(e.target).closest(".ppanel"),p=(t.includes("shake")?G(s?"#pscreen".concat(s):".pcanvas.active"):G(e.target).closest(".pcanvas")).data("cid")
if(p){var h=a.getRunnerStateByScreenCid(p),f=h.stateCid
if(s&&p!==s&&!x(t))return MB.runner.closeMenu()
if(d.length){if(this.panelEventHandler(e,t,{screenCid:p,stateCid:f}))return}else if(u.length){var m=u.attr("data-link_cid"),g=a.findLink(m,p),v=Object(E.k)(g).find((function(e){return e&&t.includes(e.gesture)}))
if(v)return MB.runner.j(v)}var b=Object(k.e)(MB.currentProjectMeta.cid,p,f),y=b.find((function(e){return t.includes(e.gesture)}))
if(y){var w=MB.runner.runnerUtil.getScreenMetaListSet()
return MB.runner.runnerUtil.getIsPanelPreviewMode()&&!MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(y,w)?void 0:void MB.runner.j(y)}if(t.includes("hold")&&MB.messageBucket&&!window.parent.webkit)MB.messageBucket.send("settings")
else if(n&&MB.runner.runnerUtil.getIsHighlight()&&!x(t)){var j=MB.runner.runnerUtil.getScreenStateValidLinkListForPreview(p,f)
this.highlightClickables(j)}}}}}},{key:"panelEventHandler",value:function(e,t,n){var r=n.screenCid,i=n.stateCid,a=G(e.target).closest(".clickable"),o=G(e.target).closest(".ppanel"),s=o.data("cid"),c=MB.currentProjectMeta,l=Object(k.k)(c.cid,r,i).find((function(e){return e.cid===s}))
if(a.length){var u,d=a.attr("data-link_cid"),p=MB.runner.runnerUtil.findLink(d,r),h=MB.runner.runnerUtil.findLinkInPanel(d,s,r)
if(!(u=p&&p.length?p:h)||0===u.length)return!1
var f=Object(E.k)(u).find((function(e){return e&&t.includes(e.gesture)}))
if(!f)return!1
if(f.target_cid===A.g)return MB.runner.j(f),!0
if(t.includes(f.gesture)){if(o[0]===a[0])MB.runner.j(f)
else{var m=MB.runner.runnerUtil.getRunnerScreenDataMap()[f.target_cid]
if(m&&f.link_type===A.d.TYPE.screen_link&&m.screen_glue_cid!==l.screen_glue_cid)MB.runner.j(f)
else{if(MB.runner.timerHandler.getIsPanelTimerFired(l.cid))return!1
f.link_type===A.d.TYPE.state_link?MB.runner.panelStateTransition(l,f):MB.runner.panelScreenTransition(l,f)}}return!0}}if(MB.runner.timerHandler.getIsPanelTimerFired(l.cid))return!1
var g=MB.runner.runnerUtil.getRunnerStateByScreenCid(r).panelInfoMap[l.cid],v=g.currentScreenMetaCid,b=g.currentScreenStateCid,y=Object(k.e)(MB.currentProjectMeta.cid,v,b).find((function(e){return t.includes(e.gesture)}))
if(y){var x=MB.runner.runnerUtil.getScreenMetaListSet()
return MB.runner.runnerUtil.getIsScreenLinkJumpToMainGlue(y,x)?MB.runner.j(y):y.targetstate_cid?MB.runner.panelStateTransition(l,y):MB.runner.panelScreenTransition(l,y),!0}return!1}},{key:"highlightClickables",value:function(e){var t,n=R()(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
G('.pcanvas.active [data-link_cid*="'.concat(r.cid,'"] .region')).show()}}catch(e){n.e(e)}finally{n.f()}G(".pcanvas.active .pg").css({display:"flex",opacity:.8})
var i=G(".pcanvas.active .region")
this.hightTimer=setTimeout((function(){i.hide(),G(".pcanvas.active .pg").css("opacity","0").hide()}),400)}},{key:"setupPageGesture",value:function(e){var t=MB.runner.runnerUtil.getRunnerStateByScreenCid(e.cid),n=t.stateCid,r=t.screenRuntimeState.itemListMap[n].filter((function(e){return"link"===e.name})),i=[]
r.forEach((function(e){"left"!==e.gesture&&"right"!==e.gesture||-1===i.indexOf("pan-y")&&i.push("pan-y"),"up"!==e.gesture&&"down"!==e.gesture||-1===i.indexOf("pan-x")&&i.push("pan-x")}))
var a=i.length?i.join(" "):"auto"
this.hammertime.touchAction.actions=a,G(".pcanvas.active .widgets").css("touch-action",a)}}]),e}(),Y=function(){function e(){i()(this,e),this.timeoutMap=new Map}return o()(e,[{key:"setTimeout",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var r=this,i=setTimeout((function(){t(),r.clearTimeout(e,t)}),n)
return this.setToken(e,t,i),i}))},{key:"clearTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this.getToken(e,t)
void 0!==n&&(clearTimeout(n),this.clearToken(e,t))}))},{key:"clearTimeoutByKey",value:function(e){var t=this,n=this.timeoutMap.get(e)
void 0!==n&&(n.forEach((function(n,r){return t.clearTimeout(e,r)})),this.timeoutMap.delete(e))}},{key:"clear",value:function(){var e=this
this.timeoutMap.forEach((function(t,n){return e.clearTimeoutByKey(n)}))}},{key:"setToken",value:function(e,t,n){var r=this.timeoutMap.get(e)
void 0===r&&(r=new Map,this.timeoutMap.set(e,r)),r.set(t,n)}},{key:"getToken",value:function(e,t){var n=this.timeoutMap.get(e)
if(n)return n.get(t)}},{key:"clearToken",value:function(e,t){var n=this.timeoutMap.get(e)
n&&n.delete(t)}}]),e}(),q=function(){function e(){i()(this,e),this.timerFired=!1,this.panelTimerMap={},this.timeoutBucket=new Y}return o()(e,[{key:"resetPageTimerFlag",value:function(){this.timerFired=!1}},{key:"getIsPageTimerFired",value:function(){return this.timerFired}},{key:"getIsPanelTimerFired",value:function(e){return this.panelTimerMap[e]}},{key:"resetPanelTimerFlag",value:function(e){this.panelTimerMap[e]=!1}},{key:"clear",value:function(){this.timerFired=!1,this.panelTimerMap={},
this.timeoutBucket.clear()}},{key:"setupPageTimers",value:function(e,t){var n=this
if(!MB.runner.runnerUtil.getIsImmersive()){this.timeoutBucket.clear()
var r=MB.currentProjectMeta.cid,i=Object(k.i)(r,e.cid,t)
if(MB.runner.runnerUtil.getIsPanelPreviewMode()){var a=MB.runner.runnerUtil.getScreenMetaListSet()
i.forEach((function(e){MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(e,a)&&n._pageTimer(e)}))}else i.forEach((function(e){return n._pageTimer(e)}))
Object(k.h)(r,e.cid,t).forEach((function(e){var t=e.glueScreenCid,r=e.glueScreenStateCid
n.setupPanelTimers(e,t,r)}))}}},{key:"setupPanelTimers",value:function(e,t,n){var r=this
this.timeoutBucket.clearTimeoutByKey(e.cid),this.panelTimerMap[e.cid]=!1
var i=MB.runner.runnerUtil.getScreenMetaListSet()
e.multi_states?Object(k.i)(MB.currentProjectMeta.cid,t,n).forEach((function(t){A.d.TYPE.screen_link===t.link_type&&i.has(t.target_cid)?r._pageTimer(t):r._panelTimer(t,e)})):Object(k.i)(MB.currentProjectMeta.cid,t,n).forEach((function(t){A.d.TYPE.screen_link===t.link_type&&i.has(t.target_cid)?r._pageTimer(t):r._panelTimer(t,e)}))}},{key:"_pageTimer",value:function(e){var t=this
this.timeoutBucket.setTimeout(e.cid,(function(){t.timerFired||MB.runner.runnerUtil.getCheckCurrentLinkCannotJump(e)||(t.timerFired=!0,MB.runner.runnerUtil.getIsImmersive()||MB.runner.j(e))}),1e3*parseFloat(e.timer))}},{key:"_panelTimer",value:function(e,t){var n=this
this.timeoutBucket.setTimeout(t.cid,(function(){n.timerFired||n.panelTimerMap[t.cid]||(n.panelTimerMap[t.cid]=!0,MB.runner.runnerUtil.getIsImmersive()||(e.targetstate_cid?MB.runner.panelStateTransition(t,e):MB.runner.panelScreenTransition(t,e)))}),1e3*parseFloat(e.timer))}}]),e}(),Z=n(79),X=n(55),J=function(){function e(t){i()(this,e),this.eventBucket=new w,this.runnerUtil=new F(t),this.eventHandler=new W,this.timerHandler=new q,this.clearCallbackBucket={},this.currentScreen=this.currentMenu=null,
this.requestScreenCidSet=new Set,this.webpackInterface=t,this.runnerUtil.getPreviewOptions().isMobile&&this._bindMobileGlobalEvent()}return o()(e,[{key:"_bindMobileGlobalEvent",value:function(){var e=this
window.addEventListener("message",(function(t){try{if("back"===JSON.parse(t.data).event)1===e.webpackInterface.store.getState().container.runner.history.length&&MB.messageBucket?MB.messageBucket.send("exit"):e.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:{name:"none",delay:0,duration:0}}})}catch(e){}}),!1),window.onorientationchange&&window.addEventListener("orientationchange",(function(){e.reload()})),window.addEventListener("resize",(function(){
"INPUT"!==document.activeElement.tagName&&e.reload()}))}},{key:"init",value:function(e,t){var n=this,r=e.projectAlike,i=e.projectMeta,a=e.screenGlue,o=e.screenMeta,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
MB.currentProject=r,MB.currentProjectMeta=i,MB.currentScreenGlue=a,MB.currentScreen=o,MB.getCurrentProjectMeta||(MB.getCurrentProjectMeta=function(){return MB.currentProjectMeta}),this.webpackInterface.store.dispatch({type:"entry:init:preview:related:data",payload:{previewMode:t,rootProject:r,projectMeta:i,screenGlue:a,screenMeta:o,isPanelPreviewMode:s}})
var c=setTimeout((function(){if(n.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!1}}),n.webpackInterface.store.dispatch({type:"entry:runner:init:home-screen",payload:{activeCid:o.cid}}),n.webpackInterface.checkLocationHash(),MB.messageBucket){MB.messageBucket.request({type:"message:set:record",payload:{key:"preview-ready",value:!0}}),MB.messageBucket.send("ready")
var e=setTimeout((function(){MB.messageBucket.send("ready")}),5e3)
n.clearCallbackBucket.redundantReady=function(){return clearTimeout(e)}}}),1e3)
this.clearCallbackBucket.init=function(){return clearTimeout(c)}}},{key:"clear",value:function(){Object.values(this.clearCallbackBucket).forEach((function(e){return e()})),this.currentScreen=this.currentMenu=null,this.runnerUtil.clear(),this.timerHandler.clear(),this.requestScreenCidSet.clear(),this.webpackInterface.store.dispatch({type:"runner:reset:state"}),this.webpackInterface.store.dispatch({type:"container:comment:reset:state"}),this.webpackInterface.store.dispatch({
type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}})}},{key:"closeMenu",value:function(e){this.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{callback:e}})}},{key:"j",value:function(e){var t=this
if(e&&!this.runnerUtil.getCheckCurrentLinkCannotJump(e)){this.timerHandler.clear()
var n=e.target_cid
if(this.currentMenu)n===this.currentScreen?this.closeMenu():A.d.TYPE.screen_link!==e.link_type&&e.targetstate_cid?this.stateTransition(e):this.closeMenu((function(){t.j(e)}))
else switch(e.link_type){case A.d.TYPE.screen_link:this.screenTransition(e)
break
case A.d.TYPE.state_link:this.stateTransition(e)
break
case A.d.TYPE.panel_link:var r=this.runnerUtil.getPanelFormRunState(e.target_cid),i=r.panel,a=r.screenCid,o=r.screenStateCid,s=MB.getCurrentProjectMeta().cid,c=Object(M.i)(i,{screenCid:a,screenStateCid:o},{projectMetaCid:s})
c.multi_states?this.panelStateTransition(c,e):this.panelScreenTransition(c,e)
break
default:console.error("Unknown Link Type",e)}}}},{key:"screenTransition",value:function(e){var t={name:e.transition,delay:1e3*parseFloat(e.ani_delay),duration:1e3*parseFloat(e.ani_duration),offset:/drawer|menu/.test(e.transition)?e.menu_offset:100},n=e.target_cid,r=e.targetstate_cid
if(n===A.g)this.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:t}})
else{var i=this.runnerUtil.getRunnerScreenDataMap()[n]
if(!i)return
Object(Z.a)(9),Object(X.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Login",from:Object(X.a)()}),i.orientation!==this.runnerUtil.getCurrentScreen().orientation?this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:n,screenStateCid:r,resetTargetScreen:e.reset,transition:void 0}}):this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:n,screenStateCid:r,resetTargetScreen:e.reset,transition:t}})}}},{key:"stateTransition",
value:function(e){var t={delay:1e3*parseFloat(e.ani_delay),duration:1e3*parseFloat(e.ani_duration)}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen-state",payload:{screenCid:e.screen_cid,stateCid:e.targetstate_cid,transition:t}})}},{key:"panelScreenTransition",value:function(e,t){var n={name:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,delay:1e3*parseFloat(t.ani_delay),duration:1e3*parseFloat(t.ani_duration),offset:/drawer|menu/.test(t.transition)?t.menu_offset:100}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:panel-screen",payload:{panel:e,panelScreenCid:t.target_cid,transition:n}})}},{key:"panelStateTransition",value:function(e,t){var n=t.targetstate_cid
this.timerHandler.resetPanelTimerFlag(e.cid)
var r={delay:1e3*parseFloat(t.ani_delay),duration:1e3*parseFloat(t.ani_duration)}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:panel-state",payload:{panel:e,targetStateCid:n,transition:r}})}},{key:"doneTransition",value:function(e,t){var n=this
this.timerHandler.setupPageTimers(e,t)
var r=this.runnerUtil.getPreviewOptions(),i=r.isStandAlone,a=r.isAndroid
i&&this.runnerUtil.setupStatusBar(e),a&&this.eventHandler.setupPageGesture(e),this.timerHandler.resetPageTimerFlag(),MB.currentScreen=e,this.webpackInterface.store.dispatch({type:"entry:current:set-screen",payload:{screen:e}}),MB.f.inSharing&&window.history.replaceState(null,null,"#screen=".concat(e.cid))
var o=this.runnerUtil.getPreviewOptions(),s=o.isMobile,c=o.isEmbedV1,l=s||c||!this.runnerUtil.getIsScreenExpanded()
this.runnerUtil.toggleScrollBar(l),setTimeout((function(){n.webpackInterface.store.dispatch({type:"entry:runner:preload:screens"})}),10)}},{key:"reload",value:function(){var e=this.runnerUtil.getCurrentScreen()
e&&(this.webpackInterface.store.dispatch({type:"entry:runner:reload:screen",payload:{activeCid:e.cid}}),this.runnerUtil.resetScrollState())}}]),e}(),K={artboards:[],error:!1,isShowSplash:!1}
var Q={activeCid:"",transition:{name:"slideleft",delay:0,duration:2e3,offset:100,callback:function(){}},history:[],screenInfoMap:{},screenScrollTopMap:{}}
var ee={slices:[],loading:!0,error:!1}
var te=n(94),ne=n(53),re={resourceByScreen:{"-1":{isFetching:!1,layers:[],error:""}},selectedLayerID:-1,activeLayerID:-1,enteredLayerID:-1},ie={open:!1,event:{}},ae={rootProject:null,projectMeta:null,screenGlue:null,isPanelPreviewMode:!1,projectShare:null},oe=n(27),se={isSpaceDown:!1},ce={previewOptions:{isDesktop:!0,isInApp:!1,isMobile:!1,isIOSClient:!1,isStandAlone:!1,isEmbedV1:!1,isHTMLZip:!1,isSquare:!1},designOptions:{},experienceSnapshotUrlMap:new Map,offset:{x:0,y:0},scale:100,keyFlags:se,viewport:{
width:0,height:0},preference:{},previewPanelNavIndex:0,screenCommentThreadCountMap:null,panelHeight:Object(oe.c)("perview_layer_panel_height",.32*window.innerHeight,oe.a.Number)},le=n(52),ue=n(28),de={ratio:1,emPixel:16,unit:"px",colorUnit:"hex",language:"css",toolbarActiveItem:le.c,isShowColorPicker:!1,isSelectLayer:!1,userPickColor:Object(ue.h)(),focusColor:null,isFullScreenMode:!1,simulatorType:"device",isShowShell:!0,isStickyShow:!0,isHighlight:!0,isStatePanelShow:!0,isOutsideVisible:!1,
isShowOutsideArtboardNav:!1,isMinimized:!1,isShowOfflineModal:!1,isAppOffline:!1,isAppCacheNeedUpToDate:!1,appVeresion:"",isDummyApk:!1}
var pe={containerReducerMap:{current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"preview:current:update:state":return _()(_()({},e),r)
case"preview:set:root-project":return _()(_()({},e),{},{rootProject:r.rootProject})
case"preview:set:current-projectMeta":return _()(_()({},e),{},{projectMeta:r.projectMeta})
case"preview:set:current-screenGlue":return _()(_()({},e),{},{screenGlue:r.screenGlue})
case"preview:set:current-projectShare":return _()(_()({},e),{},{projectShare:r.projectShare})
default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"preview:update:state":return _()(_()({},e),r)
case"preview:set:canvas:offset":return _()(_()({},e),{},{offset:r.offset})
case"preview:set:scale":return _()(_()({},e),{},{scale:r.scale})
case"preview:set:key:flags":return _()(_()({},e),{},{keyFlags:_()(_()({},se),r)})
case"preview:reset:key:flags":return _()(_()({},e),{},{keyFlags:se})
case"preview:scrollbar:viewport":return _()(_()({},e),{},{viewport:r})
case"preview:previewPanel:navindex":return _()(_()({},e),{},{previewPanelNavIndex:r.previewPanelNavIndex})
case"preview:update:preference":return _()(_()({},e),{},{preference:_()(_()({},e.preference),r)})
case"preview:comment:update:screen_count_map":return _()(_()({},e),{},{screenCommentThreadCountMap:r.screenCommentThreadCountMap||null})
case"preview:panel:set:height":var i=r.panelHeight
return Object(oe.f)("perview_layer_panel_height",i,oe.a.Number),_()(_()({},e),{},{panelHeight:i})
default:return e}},comment:te.d,layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case ne.d:var i=r.screenID,a=r.data
return _()(_()({},e),{},{resourceByScreen:_()(_()({},e.resourceByScreen),{},p()({},i,_()({isFetching:!1,error:void 0},a)))})
case ne.c:var o=r.screenID,s=r.error
return _()(_()({},e),{},{resourceByScreen:_()(_()({},e.resourceByScreen),{},p()({},o,{isFetching:!1,layers:[],error:s}))})
case ne.i:return _()(_()({},e),{},{selectedLayerID:r.layerID===e.selectedLayerID?-1:r.layerID})
case ne.a:return _()(_()({},e),{},{activeLayerID:r.layerID})
case ne.b:return _()(_()({},e),{},{enteredLayerID:r.layerID})
case"container:layers:clear":return re
default:return e}},slices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:slice:success":return _()(_()(_()({},e),r),{},{loading:!1})
case"reducer:slice:fail":return _()(_()(_()({},e),r),{},{error:!0})
default:return e}},artboards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:artboards:success":return _()(_()({},e),r)
case"reducer:artboards:fail":return _()(_()(_()({},e),r),{},{error:!0})
case"reducer:artboards:toggle:splash":return _()(_()({},e),{},{isShowSplash:r.isShowSplash})
default:return e}},previewSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:preview-toolbar:update":return _()(_()({},e),r)
case"reducer:preview-toolbar:fullscreen":return _()(_()({},e),{},{isFullScreenMode:r.isFullScreenMode})
case"reducer:preview-toolbar:update:highlight":return _()(_()({},e),{},{isHighlight:r.isHighlight})
default:return e}},eventSignUpModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"event-sign-up:close:modal":return _()({open:!1},e)
case"event-sign-up:set:event":return t.payload
default:return e}},runner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"runner:update:state":return _()(_()({},e),r)
case"runner:update:scroll-top":var i=r.screenMetaCid,a=r.scrollTop
return _()(_()({},e),{},{screenScrollTopMap:_()(_()({},e.screenScrollTopMap),{},p()({},i,a))})
case"runner:reset:state":return Q
default:return e}}},extendCallback:function(e){e.pushData=function(t,n,r){e.store.dispatch({type:"entry:state:push-data",payload:{pushType:t,action:n,data:r}})},e.checkLocationHash=function(){var t=window.location.hash||"",n=e.store,r=n.getState,i=n.dispatch
if(t.startsWith("#thread=")){var a=t.substr("#thread=".length),o=r().model.commentThreads.find((function(e){return e.cid===a}))
if(!o)return console.warn("[checkLocationHash] missing commentThread: ".concat(a))
i({type:"entry:sync-runner:set-screen",payload:{cid:o.screen_cid}}),i({type:"entry:comment:set:active",payload:{isActive:!0}}),i({type:"container:comment:focus",payload:{focusCommentThreadCid:o.cid}})}}}},he=n(91),fe=n(29),me={"preview-ready":!1},ge={"message:get:record":function(){return{type:"message:data:record",payload:me}},"message:set:record":function(e){var t=e.payload,n=t.key,r=t.value
me[n]=r},"message:get:preview-state":function(){var e=ve(),t=e.state,n=e.isHighlight
return{type:"message:data:preview-state",payload:{screenCid:t.container.current.screenMeta.cid,isHighlight:n}}},"message:set:preview-state":function(e){var t=e.payload,n=t.isHighlight,r=t.screenCid,i=ve(),a=i.state,o=a.model.screens,s=a.container.current.screenMeta,c=i.dispatch
if(void 0!==n&&c({type:"reducer:preview-toolbar:update:highlight",payload:{isHighlight:n}}),s.cid&&void 0!==r&&r!==s.cid){if(!o.find((function(e){return e.cid===r})))return console.warn("[message:set:preview-state] invalid screenCid")
c({type:"entry:sync-runner:set-screen",payload:{cid:r}})}},"message:get:screen-list":function(){var e=MB.webpackInterface.store.getState(),t=Object(O.c)(e).cid
return{type:"message:data:screen-list",payload:function(e){var t=Object(he.a)(e),n=t.screenTreeData,r=t.dataMap,i=[]
Object(fe.o)(n,(function(e){var t=e.data
t&&!Object(fe.a)(t)&&i.push(t),t&&t.parent_cid&&r[t.parent_cid]&&Object(fe.a)(r[t.parent_cid])&&(t.parent_cid=r[t.parent_cid].parent_cid)}))
for(var a={},o=0,s=i;o<s.length;o++){var c=s[o],l=r[c.parent_cid],u=l&&l.cid!==c.cid?l.cid:"root"
a[u]=a[u]||[],a[u].push(c)}for(var d=0,p=Object.values(a);d<p.length;d++){p[d].forEach((function(e,t){e&&e.position!==0+t&&(e.position=0+t)}))}return i}(Object(O.F)(e).concat()).map((function(e){return{cid:e.cid,name:e.name,position:e.position,parent_cid:e.parent_cid,project_cid:t}}))}},"message:get:notification-state":function(){var e=(MB.notification&&MB.notification.store&&MB.notification.store.getState()||{}).notifications
return{type:"message:data:notification-state",payload:{unreadCount:e?e.notifications.unreadNum:0}}},"message:get:notification-list":function(){var e=(MB.notification&&MB.notification.store&&MB.notification.store.getState()||{}).notifications
return{type:"message:data:notification-list",payload:e?e.notifications.notifications:[]}},"message:set:offlineModal:show":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!0}})},"message:set:offlineModal:close":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!1}})},"message:get:app:state":function(e){var t=e.payload,n=t.isOffline,r=t.isUpToDate
MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isAppOffline:n,isAppCacheNeedUpToDate:!r}})},"message:get:app:init:status":function(e){var t=e.payload,n=t.version,r=t.isHighlight,i=t.isDummyApk,a=void 0!==i&&i
MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{appVeresion:n,isDummyApk:a}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:r}})}},ve=function(){var e=MB.webpackInterface.store,t=e.getState,n=e.dispatch,r=t(),i=Object(O.n)(r),a=r.container.current.rootProject.cid,o=a&&r.model.projects.find((function(e){return e.cid===a}))
return{getState:t,dispatch:n,state:r,project:o,isHighlight:i}},be=n(26),ye=n.n(be),xe=n(81),we=n(77),je=n(398),Se=function(){function e(){i()(this,e),this.store=null,this.viewMap={},this.observerMap={}}return o()(e,[{key:"setStore",value:function(e){this.store=e}},{key:"callObserver",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i]
return this.observerMap[e]&&(t=this.observerMap)[e].apply(t,[e].concat(r))}},{key:"setObserver",value:function(e,t){this.observerMap[e]=t}},{key:"setView",value:function(e,t){this.viewMap[e]=t}},{key:"callViewMethod",value:function(e,t){for(var n,r=this.viewMap[e],i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]
return r&&r[t]?(this.callObserver("view:".concat(e,":").concat(t)),r[t].apply(r,[this.store].concat(a))):(n=console).warn.apply(n,["[WebpackInterface][callViewMethod] missed",e,t].concat(a))}},{key:"init",value:function(){this.callObserver("init"),this.store&&this.store.dispatch({type:"entry:state:init"})}},{key:"clear",value:function(){this.store&&this.store.dispatch({type:"entry:state:clear"}),this.callObserver("clear")}}]),e}()
var Ce,_e,Oe,ke,Me,Ee,Te=n(10),Ae=n.n(Te),De=n(15),Ne=n.n(De),Ie={"entry:preview:escape:key":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.r)(r),a=Object(O.m)(r),o=Object(O.t)(r)
i&&(a||(o?n({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}}):MB.f.inPreview&&(MB.action&&MB.action("entry:activate:screen",{screenCid:MB.currentScreen.cid}),MB.backDesign())))}},Pe=n(95),Le=MB.config.SCALES,Fe=function(e,t){return Object(oe.e)("preview_scale_".concat(e),t)},Be={"entry:init:preview:scale":function(e){var t,n=e.getState,r=e.dispatch,i=n(),a=Object(O.c)(i),o=Object(O.D)(i),s=o.isUIChina,c=o.isForum,l=o.isSquare
if(s&&"car_play"===a.model)r({type:"preview:set:scale",payload:{scale:40}})
else if(c||l)r({type:"entry:auto-fit:preview:scale"})
else{var u=(t=a.cid,Number(Object(oe.b)("preview_scale_".concat(t))))
r(u?{type:"preview:set:scale",payload:{scale:u}}:{type:"entry:auto-fit:preview:scale"})}},"entry:auto-fit:preview:scale":function(e){var t,n,r,i,a=e.getState,o=e.dispatch,s=a(),c=Object(O.m)(s),l=Object(O.D)(s),u=l.isForum,d=l.isSquare,p=Object(O.c)(s),h=Object(O.g)(s),f="device"===Object(O.M)(s)?Object(Pe.a)(p):"none",m=Object(O.y)(s)
if("combo_group"!==p.category||p.model){var g="landscape"===h.orientation
t=Object(Pe.b)(p,f,g,d)}else{var v=Object(O.h)(s)
t={width:v.width,height:v.height}}c||u?n=r=i=0:d?(n=0,r=184,i=160):(n=40+(m?56:44),r=280,i=260)
var b=window.innerWidth-(r+i),y=window.innerHeight-n,x=100*Math.min(y/t.height,b/t.width),w=Math.min(Math.max(x,20),100)
!d&&!c&&Fe(p.cid,w),o({type:"preview:set:scale",payload:{scale:w}})},"entry:preview:set:scale":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.scale,a=r(),o=Object(O.c)(a)
i=Math.min(Math.max(i,20),400),!a.container.previewSetting.isFullScreenMode&&Fe(o.cid,i),n({type:"preview:set:scale",payload:{scale:i}})},"entry:preview:zoom-in":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.f)(r),a=Le.findIndex((function(e){return e>i}))
n({type:"entry:preview:set:scale",payload:{scale:Le[a]||Le[Le.length-1]}})},"entry:preview:zoom-out":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.f)(r),a=Le.findIndex((function(e){return e>=i}))
n({type:"entry:preview:set:scale",payload:{scale:Le[a-1]||Le[0]}})}},Re=n(40),Ue=n.n(Re),ze=n(197),He=n(108),Ge={name:"none",delay:0,duration:0,offset:100},Ve={"entry:runner:init:home-screen":function(e,t){var n=e.dispatch,r=t.payload.activeCid
n({type:"runner:update:state",payload:{activeCid:r,transition:Ge,screenInfoMap:p()({},r,Object(He.c)(r)),history:[r]}})},"entry:runner:reload:screen":function(e,t){var n=e.dispatch,r=t.payload.activeCid
n({type:"entry:runner:init:home-screen",payload:{activeCid:r}}),n({type:"entry:runner:activate:screen",payload:{screenCid:r}})},"entry:runner:activate:screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.screenCid,o=i.transition,s=i.resetTargetScreen,c=void 0===s||s,l=i.screenStateCid,u=n(),d=Object(O.J)(u),h=d.activeCid,f=d.screenInfoMap,m=d.history;/drawer|menu/.test((o=o||Ge).name)?(MB.runner.currentScreen=h,MB.runner.currentMenu=a):MB.runner.currentScreen=MB.runner.currentMenu=null
var g=[a].concat(ye()(m.filter((function(e){return e!==a})))),v=f[a],b=v?v.stateCid:A.a,y=N(a,l,b),x=y===A.b,w=v&&x?v:Object(He.c)(a,y)
c&&MB.runner.runnerUtil.resetScreenScrollState(a),r({type:"runner:update:state",payload:{transition:o,screenInfoMap:_()(_()({},f),{},p()({},a,w)),activeCid:a,history:g}})},"entry:runner:activate:screen-state":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.screenCid,o=i.stateCid,s=i.transition,c=n(),l=Object(O.L)(c),u=Object(O.J)(c),d=u.activeCid,p=u.screenInfoMap
if(d===a){var h=p[d],f=h.stateCid,m=h.panelInfoMap,g=h.screenRuntimeState,v=N(a,o,f)
if(f!==v)if(g.dataMap[v]){var b=l[d],y=_()(_()({},s),{},{callback:function(){MB.runner.timerHandler.setupPageTimers(b,v)}}),x=_()({},m),w=MB.currentProjectMeta.cid
Object(k.h)(w,a,v).forEach((function(e){x[e.cid]=Object(He.b)(e,w)})),r({type:"entry:runner:update:screen",payload:{screenCid:a,stateCid:v,panelInfoMap:x,transition:y}})}}},"entry:runner:back-to-prev-page":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=void 0===i?{}:i,o=n(),s=Object(O.L)(o),c=Object(O.J)(o),l=c.history,u=c.transition,d=u.name,p=u.duration,h=u.offset
if(1!==l.length){var f,m=s[l[0]],g=s[l[1]]
f=m.orientation!==g.orientation?Ge:a.transition?a.transition:{name:Object(ze.a)(d),delay:0,duration:p,offset:h,callback:a.callback}
var v=l.slice(1)
r({type:"runner:update:state",payload:{activeCid:v[0],transition:f,history:v}})}},"entry:runner:update:screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.screenCid,o=Ue()(i,["screenCid"]),s=n(),c=Object(O.J)(s).screenInfoMap,l=c[a]
if(!l)throw new Error("更新了尚未加载的页面!!")
var u=_()(_()({},l),o)
r({type:"runner:update:state",payload:{screenInfoMap:_()(_()({},c),{},p()({},a,u))}})},"entry:runner:preload:screens":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.h)(r),a=Object(O.L)(r),o=Object(O.J)(r),s=o.activeCid,c=o.screenInfoMap,l=o.history.slice(0,2),u=c[s].stateCid
MB.runner.runnerUtil.getScreenStateValidLinkListForPreview(s,u).forEach((function(e){if(e.link_type===A.d.TYPE.screen_link&&"none"!==e.transition&&e.target_cid!==A.g){var t=a[e.target_cid]
t&&t.screen_glue_cid===i.cid&&l.push(e.target_cid)}}))
var d={}
l.forEach((function(e){d[e]=c[e]||Object(He.c)(e)})),n({type:"runner:update:state",payload:{screenInfoMap:d}})},"entry:runner:activate:panel-screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.panel,o=i.panelScreenCid,s=i.transition,c=n(),l=Object(O.J)(c).screenInfoMap,u=a.cid,d=a.screen_cid
if(l[d].panelInfoMap[u].screenDataMap[o]){var h=Object(He.d)(l[d],{panelCid:u,panelScreenCid:o,transition:s})
r({type:"runner:update:state",payload:{screenInfoMap:_()(_()({},l),{},p()({},d,h))}})}},"entry:runner:activate:panel-state":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.panel,o=i.targetStateCid,s=i.transition,c=n(),l=Object(O.J)(c).screenInfoMap,u=a.cid,d=a.screen_cid,h=l[d].panelInfoMap[u],f=h.currentScreenMetaCid,m=h.screenDataMap,g=h.currentScreenStateCid,v=m[f].screenRuntimeState.dataMap,b=N(f,o,g)
if(g!==b&&v[b]){var y=Object(He.e)(l[d],{panelCid:u,panelStateCid:b,transition:s,callback:function(){MB.runner.timerHandler.setupPanelTimers(a,f,b)}})
r({type:"runner:update:state",payload:{screenInfoMap:_()(_()({},l),{},p()({},d,y))}})}}},We=n(261),Ye=n.n(We),qe=n(65),Ze=n(32),Xe=n(169),Je=function(){var e=Ne()(Ae.a.mark((function e(t){var n,r,i,a
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.artboard_id){e.next=10
break}return e.next=3,Ze.a.api.requestSketchArtboardById(t.artboard_id)
case 3:return n=e.sent,r=n.artboard,i=n.layers,a=Ke(i),e.abrupt("return",{artboard:r,layers:a,document:{document_colors:[],text_styles:[],global_colors:[]}})
case 10:return e.abrupt("return",{artboard:{top:0,left:0,width:t.width,height:t.height},layers:[],document:{document_colors:[],text_styles:[],global_colors:[]}})
case 11:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),Ke=function(e){Object(Xe.c)(e)||(e=e.filter((function(e){return"group"!==e.kind||"group"===e.kind&&e.image_set})))
var t=e.map((function(e){return _()(_()({},e),{},{cid:e.id})}))
return t.some((function(e){return e.z}))?t.sort((function(e,t){return e.z-t.z})):t.sort((function(e,t){return parseInt(t.width)*parseInt(t.height)-parseInt(e.width)*parseInt(e.height)})),t},Qe=n(150),$e=(Ce={"entry:inspect:request:screen-data":(_e=Ne()(Ae.a.mark((function e(t,n){var r,i,a,o,s,c,l,u,d,p,h,f,m,g
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,i=t.dispatch,a=n.payload.screenMetaCid,o=r(),s=Object(qe.e)(o),c=Object(O.g)(o),!(l=s[a])||l.error){e.next=8
break}return e.abrupt("return")
case 8:if(!MB.runner.requestScreenCidSet.has(a)){e.next=10
break}return e.abrupt("return")
case 10:return MB.runner.requestScreenCidSet.add(a),e.prev=11,e.next=14,Je(c)
case 14:p=e.sent,h=p.artboard,f=p.layers,m=p.document,u={cid:c.cid,display_name:c.name,top:0,left:0,width:c.width,height:c.height,src_top:0,src_left:0,src_width:h.width,src_height:h.height,bg_colors:[{value:Object(Qe.a)(c.bgcolor)}]},d=Object(Qe.b)(f,h,c),g={artboard:h,artboardLayer:u,sketchLayers:d,globalText:m.text_styles,globalColor:m.global_colors,documentColor:m.document_colors},MB.runner.requestScreenCidSet.delete(a),i(Object(ne.m)(a,g)),e.next=30
break
case 25:e.prev=25,e.t0=e.catch(11),console.log(e.t0.stack),MB.runner.requestScreenCidSet.delete(a),i(Object(ne.l)(a,e.t0.message))
case 30:case"end":return e.stop()}}),e,null,[[11,25]])}))),function(e,t){return _e.apply(this,arguments)})},p()(Ce,ne.h,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,a=n(),o=Object(O.g)(a),s=Object(qe.e)(a),c=et(s[o.cid].sketchLayers,i)
r(Object(ne.r)(c)),r(Object(ne.j)(c))})),p()(Ce,ne.g,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,a=n(),o=Object(O.g)(a),s=Object(qe.e)(a),c=tt(s[o.cid].sketchLayers,i)
r(Object(ne.r)(c)),r(Object(ne.j)(c))})),p()(Ce,ne.e,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,a=n(),o=Object(O.g)(a),s=Object(qe.e)(a),c=et(s[o.cid].sketchLayers,i)
r(Object(ne.k)(c))})),p()(Ce,ne.f,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,a=n(),o=Object(O.g)(a),s=Object(qe.e)(a),c=tt(s[o.cid].sketchLayers,i)
r(Object(ne.k)(c))})),Ce),et=function(e,t){Ye()(e,{id:t})
return t},tt=function(e,t){var n=Ye()(e,{id:t})
if(!n||!n.parent||n.image_set_zip||!n.maskedID)return t
if(n.maskedID&&n.parent){var r=Ye()(e,{object_id:n.parent})
if(r)return r.id}return t},nt={"entry:artboards:init":(Oe=Ne()(Ae.a.mark((function e(t){var n,r,i,a,o,s,c,l
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=n(),a=i.model.screens,o=Object(O.c)(i).cid,e.prev=4,s={},a.forEach((function(e){var t=e.width,n=e.height,r=e.cid
s[r]={width:t,height:n}})),!o){e.next=13
break}return e.next=10,Ze.a.api.requestSketchArtboardList(o)
case 10:c=e.sent,(l=c.artboards).length>0&&l.forEach((function(e){var t=e.width,n=e.height,r=e.screen_cid
s[r]={width:t,height:n}}))
case 13:s={artboards:s},r({type:"reducer:artboards:success",payload:_()({},s)}),e.next=21
break
case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0.stack),r({type:"reducer:artboards:fail"})
case 21:case"end":return e.stop()}}),e,null,[[4,17]])}))),function(e){return Oe.apply(this,arguments)})},rt=function(e){var t=e.width,n=void 0===t?1:t,r=e.height
return n>0&&(void 0===r?1:r)>0},it={"entry:image-slice:init":(ke=Ne()(Ae.a.mark((function e(t){var n,r,i,a,o,s
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=n(),a=Object(O.g)(i)){e.next=5
break}return e.abrupt("return")
case 5:return e.prev=5,e.next=8,Ze.a.api.requestSliceByArtboardId(a.artboard_id)
case 8:o=e.sent,s=o.slices.filter(rt),r({type:"reducer:slice:success",payload:{slices:s}}),e.next=17
break
case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0.stack),r({type:"reducer:slice:fail"})
case 17:case"end":return e.stop()}}),e,null,[[5,13]])}))),function(e){return ke.apply(this,arguments)})},at=n(100),ot=function(e){return"preview-simulator-type-".concat(e)},st=function(e,t){return"".concat(e,"_").concat(t)},ct={"entry:init:preview-setting":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),a=Object(O.D)(r),o=function(e,t,n){var r=t.isSquare,i=t.isMobile,a=t.isEmbedV1,o=t.isHTMLZip,s=t.isVersionEmbedded
if(r)return{simulatorType:"web"===e.device||"combo_group"===e.category?"long_page":"device",isStickyShow:!1,isHighlight:!0,isShowOutsideArtboardNav:!1}
var c=Object(oe.c)("preview-is-stickyshow",!0,oe.a.Boolean),l=Object(oe.c)("preview-is-highlight",!0,oe.a.Boolean)
if(s)return{simulatorType:"outside_artboard",isStickyShow:!0,isHighlight:l,isShowOutsideArtboardNav:!0}
if(i||a)return{simulatorType:"device",isStickyShow:c,isHighlight:n.highlight,isShowOutsideArtboardNav:!1}
if(Object(at.a)(location.pathname)||o)return{simulatorType:Object(oe.c)(ot(e.cid),"device",oe.a.String),isStickyShow:c,isHighlight:l,isShowOutsideArtboardNav:!o||n.view_prd}
if(Object(at.b)(location.pathname)){var u=Object.fromEntries(new URLSearchParams(location.search).entries()),d=u.simulator_type,p=""===u.sticky||Object(oe.c)("preview-is-stickyshow",!1,oe.a.Boolean),h=n.highlight,f=MB.canEditByCurrentUser||n.view_prd
return d?{simulatorType:f||"outside_artboard"!==d?d:"device",isStickyShow:p,isHighlight:h,isShowOutsideArtboardNav:f}:{simulatorType:"device",isStickyShow:p,isHighlight:h,isShowOutsideArtboardNav:f}}return{simulatorType:"web"===e.device?"long_page":"device",isStickyShow:!1,isHighlight:!0,isShowOutsideArtboardNav:!1}}(i,a,Object(O.e)(r)),s=o.simulatorType,c=o.isStickyShow,l=o.isHighlight,u=o.isShowOutsideArtboardNav,d=a.isUIChina,p=a.isForum,h=a.isEmbedV2,f=d||p||h
n({type:"reducer:preview-toolbar:update",payload:{simulatorType:s,isStickyShow:c,isShowOutsideArtboardNav:u,isStatePanelShow:Object(oe.c)("preview-is-statePanel",!1,oe.a.Boolean),isHighlight:l,isMinimized:Object(oe.c)(st("preview-is-Minimized",i.cid),f,oe.a.Boolean)}})},"entry:preview-setting:update:is-highlight":function(e,t){var n=e.dispatch,r=t.payload.isHighlight
Object(oe.f)("preview-is-highlight",r,oe.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isHighlight:r}})},"entry:preview-setting:update:show:shell":function(e,t){var n=e.dispatch,r=t.payload.isShowShell
Object(oe.f)("preview-is-shell-type",r,oe.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isShowShell:r}}),setTimeout((function(){MB.runner.reload()}))},"entry:preview-setting:update:simulatorType":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.simulatorType,a=n(),o=Object(O.g)(a),s=Object(O.c)(a)
Object(oe.f)(ot(s.cid),i,oe.a.String),MB.runner.runnerUtil.resetCurrentScreenScrollState(o.cid),r({type:"reducer:preview-toolbar:update",payload:{simulatorType:i}}),setTimeout((function(){MB.runner.reload()}))},"entry:preview-setting:update:is-sticky-show":function(e,t){var n=e.dispatch,r=t.payload.isStickyShow
Object(oe.f)("preview-is-stickyshow",r,oe.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStickyShow:r}})},"entry:preview-setting:update:is-statePanel-show":function(e,t){var n=e.dispatch,r=t.payload.isStatePanelShow
Object(oe.f)("preview-is-statePanel",r,oe.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStatePanelShow:r}})},"entry:preview-setting:toggle:isMinimized":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),a=!Object(O.p)(r)
Object(oe.f)(st("preview-is-Minimized",i.cid),a,oe.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isMinimized:a}})},"entry:preview-setting:update:show-menu-list":function(e,t){(0,e.dispatch)({type:"reducer:preview-toolbar:update",payload:{showMenuList:t.payload.showMenuList}})}},lt={"entry:comment_thread_count_map:init":(Me=Ne()(Ae.a.mark((function e(t){var n,r,i,a,o,s
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.dispatch,i=n(),a=Object(O.c)(i),e.prev=3,e.next=6,Ze.a.api.fetchProjectScreenCommentThreadCountMap({projectAccessToken:a.access_token,projectEncryptedPassword:Object(oe.b)("".concat(a.access_token,"_pwd"))||""})
case 6:o=e.sent,s=o.screenCommentThreadCountMap,r({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:s}}),e.next=15
break
case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.stack),404===e.t0.status&&MB.global.popupHelper.alertAsync({title:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.title,desc:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.desc,confirmText:I18N.pEntry.confirm}).then((function(){location.reload()}))
case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e){return Me.apply(this,arguments)})},ut=n(119),dt=n(115),pt=_()(_()(_()(_()(_()(_()(_()(_()(_()({},Ie),Be),Ve),$e),nt),it),ct),lt),{},{"entry:init:preview:options":function(e,t){(0,e.dispatch)({type:"preview:update:state",payload:{previewOptions:t.payload.previewOptions}})},"entry:init:preview:related:data":function(e,t){
var n=e.getState,r=e.dispatch,i=t.payload,a=i.rootProject,o=i.projectMeta,s=i.screenGlue,c=i.screenMeta,l=i.previewMode,u=i.isPanelPreviewMode,d=n(),p=Object(O.D)(d)
r({type:"preview:update:state",payload:{preference:MB.preference()}}),r({type:"projects:refresh"}),r({type:"screens:refresh"}),r({type:"preview:current:update:state",payload:{rootProject:a,projectMeta:o,screenGlue:s,screenMeta:c,isPanelPreviewMode:u}}),r({type:"entry:init:preview:scale"})
var h=MB.global.designOptions||{isDesign:!0}
h.isDesign&&r({type:"entry:artboards:init"}),r({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),r({type:"entry:init:preview-setting"}),r({type:"preview:update:state",payload:{designOptions:h,experienceSnapshotUrlMap:h.isDesign?new Map:MB.experienceData.experienceSnapshotUrlMap}}),r({type:"entry:previe:update-mode",payload:{toolbarActiveItem:l}})
var f=p.isDesktop,m=p.isSquare,g=p.isHTMLZip,v=p.isVersionEmbedded,b=p.isEmbedV2
!f||m||g||v||b||r({type:"entry:comment_thread_count_map:init"})},"entry:current:set-screen":function(e,t){(0,e.dispatch)({type:"preview:current:update:state",payload:{screenMeta:t.payload.screen}})},"entry:preview:select":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.toolbarActiveItem,a=r()
i!==Object(O.b)(a)&&n({type:"entry:previe:update-mode",payload:{toolbarActiveItem:i}})},"entry:previe:update-mode":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.toolbarActiveItem,a=r(),o=Object(O.c)(a),s=Object(O.g)(a)
if(i===le.b)n({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:s.cid}})
else if(i===le.a){var c=Object(te.c)(o)
"deny_limitation"===c&&Object(ut.b)("comment_".concat(c),{action:"comment_".concat(c),renewRedirectParams:MB.currentProject.team_cid||MB.currentProject.owner_id===MB.user.id?{access_token:MB.currentProject.access_token}:null})}n({type:"reducer:preview-toolbar:update",payload:{toolbarActiveItem:i}}),n({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),setTimeout((function(){Object(O.I)(r())&&MB.runner.reload()}))},"entry:preview:set:canvas:offset":function(e,t){
var n=e.getState,r=e.dispatch,i=t.payload.offset,a=n(),o=Object(O.a)(a),s=i.x,c=i.y
r({type:"preview:set:canvas:offset",payload:{offset:{x:s=-Math.max(Math.min(-s,o.x/2),-o.x/2),y:c=-Math.max(Math.min(-c,o.y/2),-o.y/2)}}})},"entry:enter:full-screen-mode":(Ee=Ne()(Ae.a.mark((function e(t){var n
return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,dt.a.request()
case 3:n({type:"entry:preview:select",payload:{toolbarActiveItem:"preview"}}),n({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!0}}),n({type:"entry:auto-fit:preview:scale"}),n({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:-28}}})
case 7:case"end":return e.stop()}}),e)}))),function(e){return Ee.apply(this,arguments)}),"entry:exit:fill-screen-mode":function(e){var t=e.dispatch
t({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!1}}),t({type:"entry:init:preview:scale"}),t({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})}}),ht=_()(_()({},pt),{},{"entry:state:init":function(e){var t=e.dispatch
t({type:"user:set",payload:MB.user||void 0}),t({type:"teams:refresh"})},"entry:state:clear":function(e){e.dispatch},"entry:sync-runner:set-screen":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.cid,a=r(),o=Object(O.J)(a).activeCid,s=Object(O.d)(a)
n({type:"entry:current:set-screen",payload:{screen:ProjectExchange.getProjectStore(s.cid).getLocalScreenMetaByCid(i)}}),i!==o&&("inspect"===Object(O.b)(a)&&n({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:i}}),MB.runner.timerHandler.clear(),n({type:"entry:runner:activate:screen",payload:{screenCid:i,transition:void 0}}))},"entry:preview:clear":function(e,t){var n=e.dispatch
n({type:"reducer:preview-panel:reset"}),n({type:"container:layers:clear"})}}),ft=n(279),mt=window,gt={SpineModel:{Project:mt.Project,Comment:mt.Comment,CommentThread:mt.CommentThread,queueSave:function(){return AutoSaver&&AutoSaver.triggerAllSave()}}},vt=n(33),bt=gt.SpineModel,yt={Project:"p",Comment:"cm",CommentThread:"cmth"},xt=Object.keys(yt),wt=xt.reduce((function(e,t){return e[t]=bt[t].attributes,e}),{}),jt=xt.reduce((function(e,t){var n=bt[t],r=wt[t],i=yt[t],a=function(e,t){return{
dataState:e.find((function(e){return e.cid===t})),dataModel:n.findByAttribute("cid",t)}}
return e[t]={refreshStateList:function(e){return n.all().map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return r.forEach((function(n){return t[n]=e[n]})),t}(e,{})}))},saveState:function(e,t,n){var r=t.cid,i=a(e,r),o=i.dataState,s=i.dataModel
return o&&s?(s.lsave(!n),!n&&gt.SpineModel.queueSave(),e):e},addState:function(e,t,r){var a=t.cid||Object(vt.getRandomCid)(i);(function(e,t){var r=e.find((function(e){return e.cid===t})),i=n.findByAttribute("cid",t)
return Boolean(r||i)})(e,a)&&(a=Object(vt.getRandomCid)(i))
var o=_()(_()({},t),{},{cid:a})
return new n(o).lsave(!r),!r&&gt.SpineModel.queueSave(),Object(ft.arrayPush)(e,o)},updateState:function(e,t,n){var r=t.cid,i=a(e,r),o=i.dataState,s=i.dataModel
return o&&s?(o=_()(_()({},o),t),Object.assign(s,o),s.lsave(!n),!n&&gt.SpineModel.queueSave(),Object(ft.arrayFindSet)(e,(function(e){return e.cid===r}),o)):e},deleteState:function(e,t,n){var r=t.cid,i=a(e,r),o=i.dataState,s=i.dataModel
return o&&s?(s.ldestroy(!n),!n&&gt.SpineModel.queueSave(),Object(ft.arrayFindDelete)(e,(function(e){return e.cid===r}))):e}},e}),{}),St=function(e){return function(t,n,r){var i=n.cid,a=bt.Project.findByAttribute("cid",i)?"Project":null
return jt[a][e](t,n,r)}}
jt.ProjectAlike={refreshStateList:function(e){return ye()(jt.Project.refreshStateList())},saveState:St("saveState"),addState:St("addState"),updateState:St("updateState"),deleteState:St("deleteState")}
var Ct=jt.Comment,_t=Object(we.createStateStore)([]),Ot=_t.getState,kt=_t.setState,Mt=_t.wrapEntry,Et=function(e,t){return Mt((function(n,r,i){var a=r.dispatch,o=i&&i.payload
a({type:"reducer:comments:update",payload:e(n,o,t)})}))},Tt={entryMap:{"comments:refresh":Et(Ct.refreshStateList,!1),"comments:add":Et(Ct.addState,!1),"comments:add-local":Et(Ct.addState,!0),"comments:update":Et(Ct.updateState,!1),"comments:update-local":Et(Ct.updateState,!0),"comments:delete":Et(Ct.deleteState,!1),"comments:delete-local":Et(Ct.deleteState,!0)},getState:Ot,setState:kt},At=jt.CommentThread,Dt=Object(we.createStateStore)([]),Nt=Dt.getState,It=Dt.setState,Pt=Dt.wrapEntry,Lt=function(e,t){
return Pt((function(n,r,i){var a=r.dispatch,o=i&&i.payload
a({type:"reducer:comment-threads:update",payload:e(n,o,t)})}))},Ft={entryMap:{"comment-threads:refresh":Lt(At.refreshStateList,!1),"comment-threads:save":Lt(At.saveState,!1),"comment-threads:add":Lt(At.addState,!1),"comment-threads:add-local":Lt(At.addState,!0),"comment-threads:update":Lt(At.updateState,!1),"comment-threads:update-local":Lt(At.updateState,!0),"comment-threads:delete":Lt(At.deleteState,!1),"comment-threads:delete-local":Lt(At.deleteState,!0)},getState:Nt,setState:It
},Bt=jt.ProjectAlike,Rt=Object(we.createStateStore)([]),Ut=Rt.getState,zt=Rt.setState,Ht=Rt.wrapEntry,Gt=function(e,t){return Ht((function(n,r,i){var a=r.dispatch,o=i&&i.payload
a({type:"reducer:projects:update",payload:e(n,o,t)})}))},Vt={entryMap:{"projects:refresh":Gt(Bt.refreshStateList,!1),"projects:add":Gt(Bt.addState,!1),"projects:add-local":Gt(Bt.addState,!0),"projects:update":Gt(Bt.updateState,!1),"projects:update-local":Gt(Bt.updateState,!0),"projects:delete":Gt(Bt.deleteState,!1),"projects:delete-local":Gt(Bt.deleteState,!0)},getState:Ut,setState:zt},Wt=n(127),Yt=n(25),qt=Object(we.createStateStore)([]),Zt=qt.getState,Xt=qt.setState,Jt={entryMap:{"screens:refresh":(0,
qt.wrapEntry)((function(e,t,n){var r=t.dispatch,i=MB.currentProjectMeta.cid,a=Object(Yt.o)(i).filter((function(e){return e.type!==Wt.SCREEN_GLUE_TYPE.PROJECT_TRASHCAN})).map((function(e){return e.cid})),o=[]
a.forEach((function(e){o.push.apply(o,ye()(Object(Yt.q)(i,e)))})),r({type:"reducer:screens:update",payload:o})}))},getState:Zt,setState:Xt},Kt=n(519),Qt={id:null,name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",daysLeft:""}},$t=Object(we.createStateStore)(Qt),en=$t.getState,tn=$t.setState,nn=$t.wrapEntry
function rn(e){var t=e.plan,n=e.state
e.limitation
return{state:n||"",type:"active"===n&&t||"free",rawType:t||"free",daysLeft:e.days_left||""}}var an={entryMap:{"user:set":nn((function(e,t,n){var r=t.dispatch,i=n.payload,a=void 0===i?{}:i,o=a.id,s=void 0===o?null:o,c=a.name,l=void 0===c?"":c,u=a.email,d=void 0===u?"":u,p=a.avatar,h=void 0===p?"":p
r({type:"reducer:user:update",payload:Object(Kt.objectMerge)(e,{id:s,name:l,email:d,avatar:h,plan:rn(a)})})})),"user:clear":nn((function(e,t,n){(0,t.dispatch)({type:"reducer:user:update",payload:Qt})}))},getState:en,setState:tn},on=n(114),sn=_()(_()(_()(_()(_()(_()({},Tt.entryMap),Ft.entryMap),Vt.entryMap),Jt.entryMap),an.entryMap),{},{"entry:comment:init-project-data":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),a=i.cid
Ze.a.api.fetchProjectComment({projectCid:a,projectEncryptedPassword:Object(oe.b)("".concat(i.access_token,"_pwd"))||""}).then((function(e){var t=e.org,r=e.team,o=e.members,s=e.threads,c=e.comments
Object(on.a)({comments:c,threads:s}),n({type:"comment-threads:refresh"}),n({type:"comments:refresh"}),n({type:"screens:refresh"})
var l={isProjectAllowComment:"allow"===Object(te.c)(i),projectAccessMap:p()({},i.owner_id,"project_owner"),teamAccessMap:t&&t.accesses||{},orgAccessMap:r&&r.accesses||{},memberList:o||[]}
n({type:"container:comment:loaded-project",payload:{projectCid:a,projectCommentData:l}})}))},"entry:comment-threads:add":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,a=i.top,o=i.left,s=i.message,c=n(),l=Object(O.g)(c).cid,u=an.getState(),d=.001*Date.now(),p=Object(vt.getRandomCid)("cmth")
r({type:s?"comment-threads:add":"comment-threads:add-local",payload:{cid:p,top:a,left:o,screen_cid:l,user_id:u.id,created_at:d,updated_at:d}}),s&&r({type:"comments:add",payload:{thread_cid:p,message:s,user_id:u.id,created_at:d,updated_at:d}}),r({type:"container:comment:focus",payload:{focusCommentThreadCid:p}})},"entry:comment:screen_count_map:refresh":function(e){e.getState
var t=e.dispatch,n=Ft.getState()
t({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:ln(n)}})},"entry:comment-threads:update":function(e,t){var n=e.dispatch,r=(e.getState,t.payload),i=r.cid,a=r.top,o=r.left,s=void 0===Tt.getState().find((function(e){return e.thread_cid===i})),c=.001*Date.now()
n({type:s?"comment-threads:update-local":"comment-threads:update",payload:{cid:i,top:a,left:o,updated_at:c}})},"entry:comment-threads:delete":function(e,t){var n=e.dispatch,r=t.payload.cid
n({type:"comment-threads:delete",payload:{cid:r}}),Tt.getState().forEach((function(e){return e.thread_cid===r&&n({type:"comments:delete-local",payload:e})}))},"entry:comments:add":function(e,t){var n=e.dispatch,r=t.payload,i=r.thread_cid,a=r.message,o=an.getState(),s=.001*Date.now()
n({type:"comment-threads:save",payload:{cid:i}}),n({type:"comments:add",payload:{thread_cid:i,message:a,user_id:o.id,created_at:s,updated_at:s}}),n({type:"container:comment:focus",payload:{focusCommentThreadCid:null}})},"entry:comments:update":function(e,t){var n=e.dispatch,r=t.payload
n({type:"comments:update",payload:{cid:r.cid,message:r.message,updated_at:.001*Date.now()}})},"entry:state:push-data":function(e,t){var n=e.dispatch,r=t.payload,i=r.pushType,a=r.action,o=r.data
switch(i){case"comment-threads":var s=Ft.getState().find((function(e){return e.cid===o.cid}))
"update"!==a||s?"update"===a&&s?n({type:"comment-threads:update-local",payload:o}):"destroy"===a&&s&&(n({type:"comment-threads:delete-local",payload:o}),Tt.getState().forEach((function(e){return e.thread_cid===o.cid&&n({type:"comments:delete-local",payload:e})}))):n({type:"comment-threads:add-local",payload:o}),n({type:"entry:comment:screen_count_map:refresh"})
break
case"comments":var c=Tt.getState().find((function(e){return e.cid===o.cid}))
"update"!==a||c?"update"===a&&c?n({type:"comments:update-local",payload:o}):"destroy"===a&&c&&n({type:"comments:delete-local",payload:o}):n({type:"comments:add-local",payload:o})}}})
function cn(e,t){var n=t.getState,r=t.setState,i=n()
return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0
return a.type!==e?t:(r(a.payload||t),n())}}var ln=function(e){return e.reduce((function(e,t){return e[t.screen_cid]=(e[t.screen_cid]||0)+1,e}),{})},un={comments:cn("reducer:comments:update",Tt),commentThreads:cn("reducer:comment-threads:update",Ft),projects:cn("reducer:projects:update",Vt),screens:cn("reducer:screens:update",Jt),user:Object(we.createStateStoreReducer)("reducer:user:update",an)},dn=Object(je.composeWithDevTools)({})
var pn=function(e){var t=e.viewMap,n=e.containerReducerMap,r=e.extendCallback,i=new Se
if(t)for(var a in t)i.setView(a,t[a])
var o,s,c,l,u,d=(o={initialState:{model:{},container:{}},entryMap:_()(_()(_()({},sn),ht),{},{"entry:webpack-interface:view:call":function(e,t){var n=t.payload
setTimeout((function(){return i.callViewMethod.apply(i,[n.name,n.method].concat(ye()(n.args||{})))}),0)}}),reducerMap:{model:Object(xe.combineReducers)(un),container:Object(xe.combineReducers)(n)}},s=o.entryMap,c=o.reducerMap,l=Object(we.createReduxEntry)(),u=l.middleware,(0,l.setEntryMap)(s),{store:Object(xe.createStore)(Object(xe.combineReducers)(c),dn(Object(xe.applyMiddleware)(u)))}).store
return i.setStore(d),r&&r(i),i},hn=n(160),fn=n(11),mn=function(e){var t=function(t){c()(r,t)
var n=u()(r)
function r(e){var t
i()(this,r),t=n.call(this,e)
var a=e.previewMode,o=e.projectAlike,s=e.screenGlue,c=e.projectMeta,l=e.screenMeta,u=e.isPanelPreviewMode
return MB.runner.init({projectAlike:o,projectMeta:c,screenGlue:s,screenMeta:l},a,u),t}return o()(r,[{key:"componentWillUnmount",value:function(){MB.runner.clear()}},{key:"render",value:function(){var t=this.props.store,n=Object(O.N)(t.getState())
return Object(h.jsx)(v.Provider,{store:t,children:Object(h.jsx)(fn.ThemeProvider,{theme:hn.a[n],children:Object(h.jsx)(e,{})})})}}]),r}(g.PureComponent)
return p()(t,"propTypes",{store:m.a.object.isRequired,previewMode:m.a.string,isPanelPreviewMode:m.a.bool,projectAlike:m.a.object.isRequired,projectMeta:m.a.object.isRequired,screenGlue:m.a.object.isRequired,screenMeta:m.a.object.isRequired}),t},gn=function(e){var t,n,r,i=pn(pe)
return{runner:new J(i),messageBucket:(t=function(e){var t=e.type,n=e.payload
try{return ge[t]&&ge[t]({type:t,payload:n})}catch(e){console.warn("[request] error message data",e,t,n)}},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*"
e&&window.ReactNativeWebView?(console.log("sendtoapp",e,t),window.ReactNativeWebView.postMessage(JSON.stringify({event:e,payload:t}))):e&&window.parent.postMessage(JSON.stringify({event:e,payload:t}),n)},r=function(e){if(e.source!==window&&!e.origin.includes("qiyukf")&&e.data&&"string"==typeof e.data)try{var r=JSON.parse(e.data),i=r.event,a=r.type,o=void 0===a?i:a,s=r.payload,c=t({type:o,payload:void 0===s?{}:s})
c&&n(c.type,c.payload)}catch(t){console.warn("[receive] error message data",t,e)}},Object(I.a)()?document.addEventListener("message",r):window.addEventListener("message",r),{request:t,send:n,clear:function(){return window.removeEventListener("message",r)}}),webpackInterface:i,PreviewApp:mn(e)}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return oe}))
var r=n(0),i=n(5),a=n(36),o=n.n(a),s=n(81),c=n(21),l=n(4),u=n.n(l),d={popupAlertModal:{isOpen:!1},loginModal:{isOpen:!1},teamSelectModal:{isOpen:!1},sharingModal:{isOpen:!1}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"modal:update:state":return u()(u()({},e),r)
case"modal:reset:state":return d
default:return e}},h=n(7),f=n.n(h),m=n(6),g=n.n(m),v=n(3),b=n.n(v),y=n(8),x=n.n(y),w=n(9),j=n.n(w),S=n(2),C=n.n(S),_=n(1),O=n.n(_),k=n(10),M=n.n(k),E=n(15),T=n.n(E),A=n(11),D=n.n(A),N=n(90),I=n.n(N),P=D()(I.a).withConfig({displayName:"styles__StyledLoginModal",componentId:"j5dnzr-0"})(["&.login-modal{width:384px;overflow:hidden;height:509px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"]),L=function(e){x()(n,e)
var t=j()(n)
function n(){var e
f()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),C()(b()(e),"setComponentRef",(function(t){return e.modal=t})),e}return g()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.onConfirm,r=this
window.onmessage=function(){var e=T()(M.a.mark((function e(i){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"loginSuccess"===i.data?(t({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),n()):"close"===i.data&&r.modal.close()
case 1:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose,i=e.type,a="".concat(location.origin,"/embed/auth_box?type=").concat(i)
return Object(r.jsx)(P,{isOpen:t,onClose:n,ref:this.setComponentRef,className:"login-modal",children:Object(r.jsx)("iframe",{src:a})})}}]),n}(i.PureComponent)
C()(L,"propTypes",{isOpen:O.a.bool,type:O.a.string,dispatch:O.a.func,onConfirm:O.a.func,onClose:O.a.func}),C()(L,"defaultProps",{type:"signin"})
var F=n(35),B=D()(I.a).withConfig({displayName:"styles__StyledTeamSelectModal",componentId:"wz8jz9-0"})(["width:516px;border-radius:2px;height:595px;background-color:#fff;header{display:none;}.content{width:100%;height:100%;padding:0;}iframe{width:100%;height:100%;border:0;}"]),R=function(e){x()(i,e)
var t,n=j()(i)
function i(){var e
f()(this,i)
for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a]
return e=n.call.apply(n,[this].concat(r)),C()(b()(e),"setIframeRef",(function(t){return e.$iframe=t})),C()(b()(e),"onhandleFunc",(function(t){"close"===t.data?e.close():"submit"===t.data.msg&&e.onSubmit(t.data.param)})),C()(b()(e),"onSubmit",function(){var t=T()(M.a.mark((function t(n){var r,i
return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target,i=e.props.onConfirm,e.close(),i(r)
case 4:case"end":return t.stop()}}),t)})))
return function(e){return t.apply(this,arguments)}}()),C()(b()(e),"close",(function(){(0,e.props.onClose)()})),e}return g()(i,[{key:"componentDidMount",value:(t=T()(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("message",this.onhandleFunc,!1)
case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onhandleFunc,!1)}},{key:"render",value:function(){var e=this.props.isOpen,t={title:I18N.Popups.save_to,from:"workspace"}
return Object(r.jsx)(B,{isOpen:e,className:Object(F.trimList)(["TargetSelectingModal","select-common"]),onClose:this.close,children:Object(r.jsx)("iframe",{ref:this.setIframeRef,src:"/embed/folder_select?param=".concat(JSON.stringify(t))})})}}]),i}(i.PureComponent)
C()(R,"propTypes",{onClose:O.a.func,onConfirm:O.a.func,isOpen:O.a.bool})
var U=n(98),z=n.n(U),H=n(287),G=D()(I.a).withConfig({displayName:"styles__StyledPopupHelp",componentId:"qymrce-0"
})(["&{min-width:unset;}&.is-open{z-index:1100;}.Modal{background-color:#fff;@media (max-width:40rem){width:100%;}}a{&:link,&:visited{color:#eb5648;}&:hover,&:active{text-decoration:none;}}.desc{&{margin:0.25em 0;}& + .FormEntry{margin-top:1em;}}.Punctuation .Ellipsis{max-width:5em;}.desc.tertiary{margin:1em 0 0;font-size:12px;color:#8d9ea6;}.recycle{margin:0 0.25em;padding:0.4em 0.5em;border:1px solid #e5e5e5;border-radius:1px;color:#5b6b73;}.icon-recycle{font-size:1.1em;vertical-align:-0.15em;color:#eb5648;}.confirm-btn{font-weight:unset;}"]),V=n(39),W=function(e){
x()(n,e)
var t=j()(n)
function n(){return f()(this,n),t.apply(this,arguments)}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.type,i=e.alertType,a=e.title,o=e.desc,s=void 0===o?a:o,c=e.isHTML,l=e.onClose,u=e.onCancel,d=void 0===u?function(){return null}:u,p=e.onConfirm,h=e.canClose,f=e.canCancel,m=e.canConfirm,g=e.cancelText,v=void 0===g?I18N.dModule.cancel:g,b=e.confirmText,y=void 0===b?I18N.dModule.confirm:b,x=(MB.getCurrentDesignOptions()||{}).isWonderShare,w=f?function(){d&&d(),l&&l()
}:void 0,j=m?function(){p&&p(),l&&l()}:void 0
return Object(r.jsxs)(G,{isOpen:t,type:n,className:x?"wonder-share":"",portalClassName:Object(V.j)()?"popup-helper-portal is-mobile":"popup-helper-portal",title:a!==s&&a?a:I18N.dModule.reminder,onClose:function(){"function"==typeof d&&d(),l()},canClose:h,onCancel:w,onConfirm:j,cancelText:v,confirmText:y,children:[c?Object(r.jsx)("p",{className:"desc",dangerouslySetInnerHTML:{__html:s}}):Object(r.jsx)("div",{className:"desc",children:s}),"prompt"===i&&Object(r.jsx)(H.FormLabel,{name:I18N.dModule.password,
children:Object(r.jsx)(z.a,{type:"password",className:"prompt-pwd"})})]})}}]),n}(i.PureComponent)
C()(W,"propTypes",{isOpen:O.a.bool,type:O.a.string,alertType:O.a.oneOf(["confirm","alert","prompt"]),onClose:O.a.func,onCancel:O.a.func,onConfirm:O.a.func,canClose:O.a.bool,canCancel:O.a.bool,canConfirm:O.a.bool,confirmText:O.a.string,cancelText:O.a.string,title:O.a.string,desc:O.a.any,isHTML:O.a.bool}),C()(W,"defaultProps",{type:"alert"})
var Y=D()(I.a).withConfig({displayName:"styles__StyledSharingModal",componentId:"d7dlfn-0"})(["&.sharing-modal{width:755px;overflow:hidden;height:480px;border-radius:2px;header{display:none;}.content{height:100%;padding:0;}.workspace-sharing-content{height:100%;background-color:#fff;&.dark{background-color:#363738;}}}"]),q=n(332),Z=n(79),X=n(55),J=n(13),K=n.n(J),Q=function(e){x()(n,e)
var t=j()(n)
function n(){var e
f()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),C()(b()(e),"setComponentRef",(function(t){return e.modal=t})),C()(b()(e),"closeSharingModal",(function(){e.modal.close()})),e}return g()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onUpdateProject,r=t.extraInfo.isInNewGuide,i=window.SharingEventEmitter
i&&(i.on("imock:sharing:did-mount",(function(){Object(Z.a)(10),Object(X.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Share",from:Object(X.a)()})})),i.on("imock:sharing:copy-url-sucess",(function(){r&&e.closeSharingModal(),Object(Z.a)(11),Object(X.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Copy",from:Object(X.a)()})})),i.on("imock:sharing:update-sharing-project",(function(e){var t=e.updateSharingProject
n(t)})),i.on("imock:sharing:update-project-share",(function(e){var t=e.updateProjectShare
MB.action&&MB.action("current:update:state",{currentProjectShare:t})})))}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose,i=e.isGuestMode,a=e.project,o=e.screenMetaList,s=e.theme,c=e.extraInfo
return Object(r.jsx)(Y,{isOpen:t,ref:this.setComponentRef,onClose:n,className:"sharing-modal",canCloseOnEsc:!0,canCloseOnClickMask:!1,children:Object(r.jsx)("div",{className:K()("workspace-sharing-content",s),children:Object(q.a)({sharingProject:a,screenMetaList:o,isGuestMode:i,theme:s,className:"workspace",onClose:this.closeSharingModal,extraInfo:c})})})}}]),n}(i.PureComponent)
C()(Q,"propTypes",{isOpen:O.a.bool,project:O.a.object,extraInfo:O.a.object,screenMetaList:O.a.array,theme:O.a.string,isGuestMode:O.a.bool,onUpdateProject:O.a.func,onClose:O.a.func})
var $=n(44),ee=n.n($)
function te(){var e=ee()(["\n  .popup-helper-portal {\n    &.ModalPortal {\n      z-index: 9999;\n\n      &.is-mobile {\n        padding: unset;\n        min-width: unset;\n\n        .Modal {\n          width: unset;\n        }\n      }\n    }\n\n    .wonder-share .confirm-btn {\n      color: #4257ff;\n    }\n  }\n"])
return te=function(){return e},e}var ne=Object(A.createGlobalStyle)(te()),re=function(e){x()(n,e)
var t=j()(n)
function n(){var e
f()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),C()(b()(e),"handleCloseModal",(function(){(0,e.props.dispatch)({type:"modal:reset:state"})})),e}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.loginModal,n=e.popupAlertModal,a=e.teamSelectModal,o=e.sharingModal,s=e.dispatch
return Object(r.jsxs)(i.Fragment,{children:[t.isOpen&&Object(r.jsx)(L,u()(u()({},t),{},{onClose:this.handleCloseModal,dispatch:s})),o.isOpen&&Object(r.jsx)(Q,u()(u()({},o),{},{onClose:this.handleCloseModal,dispatch:s})),a.isOpen&&Object(r.jsx)(R,u()(u()({},a),{},{onClose:this.handleCloseModal,dispatch:s})),n.isOpen&&Object(r.jsx)(W,u()(u()({},n),{},{onClose:this.handleCloseModal,dispatch:s})),Object(r.jsx)(ne,{})]})}}]),n}(i.PureComponent)
C()(re,"propTypes",{loginModal:O.a.object,popupAlertModal:O.a.object,teamSelectModal:O.a.object,sharingModal:O.a.object,dispatch:O.a.func})
var ie=Object(c.connect)((function(e){return u()({},e)}))(re),ae={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POPUP-HELPER-ROOT",t=document.createElement("div")
t.id=e,document.body.appendChild(t)
var n=Object(s.createStore)(p)
o.a.render(Object(r.jsx)(c.Provider,{store:n,children:Object(r.jsx)(ie,{})}),t)
var i=se(n.dispatch),a=i.confirmAsync,l=i.alertAsync,u=i.alertAsyncWide,d=i.alertAsyncBlocked,h=i.promptGetPasswordAsync,f=i.loginAsync,m=i.teamSelectModalAsync,g=i.sharingAsync
return{confirmAsync:a,alertAsync:l,alertAsyncWide:u,alertAsyncBlocked:d,promptGetPasswordAsync:h,loginAsync:f,teamSelectModalAsync:m,sharingAsync:g,destroy:function(){o.a.unmountComponentAtNode(t),t.remove()}}},se=function(e){return{confirmAsync:function(t){var n=t.title,r=t.desc,i=t.isHTML,a=t.confirmText,o=t.cancelText,s=t.isClose
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"confirm",canClose:!1!==s,canCancel:!0,canConfirm:!0,cancelText:o,confirmText:a,onCancel:function(){return t(!1)},onConfirm:function(){return t(!0)}}}})}))},alertAsync:function(t){var n=t.title,r=t.desc,i=t.isHTML,a=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:a,onConfirm:function(){return t()}}}})}))},alertAsyncWide:function(t){var n=t.title,r=t.desc,i=t.isHTML,a=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:a,onConfirm:function(){return t()}}}})}))},alertAsyncBlocked:function(t){var n=t.title,r=t.desc,i=t.isHTML,a=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:a,onConfirm:function(){return t()}}}})}))},promptGetPasswordAsync:function(){return new Promise((function(t,n){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,type:"form",desc:I18N.dModule.credential_required,alertType:"prompt",canClose:!1,canCancel:!1,canConfirm:!0,onCancel:n,
onConfirm:function(){var e=(document.querySelector(".popup-helper-portal .FormModal .prompt-pwd input")||{}).value
return e?t(e):n()}}}})}))},loginAsync:function(t){var n=t.onCancel,r=void 0===n?function(){}:n,i=t.onConfirm,a=void 0===i?function(){}:i,o=t.type
return e({type:"modal:update:state",payload:{loginModal:{isOpen:!0,type:void 0===o?"signin":o,onCancel:r,onConfirm:a}}})},teamSelectModalAsync:function(t){var n=t.onCancel,r=void 0===n?function(){}:n,i=t.onConfirm
return e({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,onCancel:r,onConfirm:void 0===i?function(){}:i}}})},sharingAsync:function(t){var n=t.project,r=t.theme,i=t.isGuestMode,a=t.screenMetaList,o=void 0===a?[]:a,s=t.onUpdateProject,c=void 0===s?function(){}:s,l=t.extraInfo
return e({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:n,theme:r,extraInfo:void 0===l?ae:l,isGuestMode:i,screenMetaList:o,onUpdateProject:c}}})}}}},function(e,t,n){"use strict"
var r=n(21),i=n(20),a=n(16),o=n(52),s=n(41),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),h=n.n(p),f=n(8),m=n.n(f),g=n(9),v=n.n(g),b=n(2),y=n.n(b),x=n(0),w=n(1),j=n.n(w),S=n(5),C=n(255),_=n(252),O=n(253),k=n(94),M=n(11),E=n.n(M).a.div.withConfig({displayName:"styles__StyledLeftPane",componentId:"sc-1wd8vmx-0"
})(["position:relative;height:100%;transition:all 0.3s ease-in-out;z-index:100;.preview-panel-wrapper{position:absolute;top:0;right:0;height:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"]),T=function(e){m()(n,e)
var t=v()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),y()(h()(e),"toggleMinimized",(function(){e.props.dispatch({type:"entry:preview-setting:toggle:isMinimized"})})),e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.isLayerPanelShow,n=e.isCommentPanelShow,r=e.isScreenPanelShow,i=e.isFullScreenMode,a=e.isMinimized
if(!(t||n||r))return null
var o=r?240:260
return Object(x.jsxs)(E,{id:"mb-preview-leftpane",className:i?"is-fullscreen-mode":"",style:{width:a?0:o},children:[r&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"preview-panel-wrapper",children:Object(x.jsx)(_.a,{})}),Object(x.jsx)(C.a,{placement:"right",isMinimized:a,onClick:this.toggleMinimized})]}),t&&Object(x.jsx)(O.a,{}),n&&Object(x.jsx)(k.a,{})]})}}]),n}(S.PureComponent)
y()(T,"propTypes",{toolbarActiveItem:j.a.string,isScreenPanelShow:j.a.bool,isLayerPanelShow:j.a.bool,isCommentPanelShow:j.a.bool,isMinimized:j.a.bool,isFullScreenMode:j.a.bool,dispatch:j.a.func})
var A=Object(i.createSelector)([a.A,a.b,a.r,a.m,a.p],(function(e,t,n,r,i){return{toolbarActiveItem:t,isScreenPanelShow:e!==s.b&&n,isLayerPanelShow:e===s.b&&t===o.b,isCommentPanelShow:e===s.b&&t===o.a,isFullScreenMode:r,isMinimized:i}}))
t.a=Object(r.connect)((function(e){return A(e)}))(T)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return x}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y="wMK1OqaQWF9Z0kqIS0ERZ",x=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"handleResize",(function(){var t=e.elem.getBoundingClientRect()
e.props.onResize(t)})),e}return o()(n,[{key:"componentDidMount",value:function(){this.elem.contentWindow.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){var e=this.elem.contentWindow
e&&e.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this
return Object(m.jsx)("iframe",{ref:function(t){return e.elem=t},className:y})}}]),n}(b.PureComponent)
x.propTypes={onResize:v.a.func.isRequired}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(13),x=n.n(y),w=n(11),j=n.n(w).a.div.withConfig({displayName:"styles__StyledBorderResizer",componentId:"sc-12ref3q-0"
})(["position:absolute;z-index:3;.v-resizer{z-index:11;}&.top,&.bottom{left:0;width:100%;height:3px;cursor:ns-resize;}&.top{top:1px;}&.bottom{bottom:-1px;}&.left,&.right{top:0;width:3px;height:100%;cursor:ew-resize;}&.left{left:1px;}&.right{right:0;}&:hover,&.active{background:",";}"],(function(e){return e.theme.borderResizer.bg})),S=function(e){u()(n,e)
var t=p()(n)
function n(){var e
return i()(this,n),e=t.call(this),f()(c()(e),"handleDown",(function(t){t.preventDefault()
var n=e.props,r=n.placement,i=n.value,a=n.onResizeStart,o=n.onResizeEnd,s=n.onChange,c=["left","right"].includes(r),l=c?t.clientX:t.clientY,u=["bottom","right"].includes(r)?1:-1
e.setState({active:!0}),a()
var d=function(t){var n=e.props,r=n.min,a=n.max,o=((c?t.clientX:t.clientY)-l)*u,d=Math.max(Math.min(i+o,a),r)
s(d)}
document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t),e.setState({active:!1}),o()}))})),e.state={active:!1},e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.placement,n=e.className,r=this.state.active
return Object(m.jsx)(j,{className:x()("border-resizer",n,t,{active:r}),onMouseDown:this.handleDown})}}]),n}(b.Component)
f()(S,"propTypes",{placement:v.a.oneOf(["top","left","right","bottom"]),min:v.a.number,max:v.a.number,className:v.a.string,value:v.a.number,onChange:v.a.func,onResizeStart:v.a.func,onResizeEnd:v.a.func}),f()(S,"defaultProps",{onResizeStart:function(){return null},onResizeEnd:function(){return null}})},function(e,t,n){"use strict"
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(2),p=n.n(d),h=n(0),f=n(1),m=n.n(f),g=n(5),v=n(11),b=n.n(v).a.ul.withConfig({displayName:"styles__StyledScreenList",componentId:"sc-1bsifuu-0"})(["&,ol,li{list-style:none;}"]),y=Object(g.memo)((function(e){var t=e.isExpandTree,n=e.activeScreenMetaCid,r=e.editingScreenMetaCid,i=e.targetlinkCid,a=e.screenSelection,o=e.collapseScreenMetaCidSet,s=e.renderScreenMetaItem,c=e.screenTreeData,l=e.dummySelect
return Object(h.jsx)(b,{children:c.children.map((function(e){return Object(h.jsx)(x,{treeNode:e,depth:0,isExpandTree:t,screenSelection:a,collapseScreenMetaCidSet:o,activeScreenMetaCid:n,editingScreenMetaCid:r,targetlinkCid:i,renderScreenMetaItem:s,dummySelect:l},e.cid)}))})}))
y.propTypes={isExpandTree:m.a.bool,activeScreenMetaCid:m.a.string,editingScreenMetaCid:m.a.string,targetlinkCid:m.a.string,screenTreeData:m.a.object,collapseScreenMetaCidSet:m.a.object,screenSelection:m.a.array,dummySelect:m.a.object,renderScreenMetaItem:m.a.func},y.defaultProps={isExpandTree:!1,activeScreenMetaCid:"",editingScreenMetaCid:"",targetlinkCid:"",collapseScreenMetaCidSet:new Set,screenSelection:[],dummySelect:new Set}
t.a=y
var x=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.treeNode,r=e.depth,i=e.isExpandTree,a=e.activeScreenMetaCid,o=e.editingScreenMetaCid,s=e.targetlinkCid,c=e.screenSelection,l=e.collapseScreenMetaCidSet,u=e.renderScreenMetaItem,d=e.dummySelect,p=t.cid,f=t.data,m=t.children,g=!!i||!l.has(p),v=Boolean(m.length)
return Object(h.jsxs)("li",{"data-cid":p,className:"rn-content-item",children:[u({depth:r,screenMeta:f,hasScreenMetaChildren:v,collapseScreenMetaCidSet:l,screenSelection:c,activeScreenMetaCid:a,editingScreenMetaCid:o,targetlinkCid:s,dummySelect:d}),m.length>0&&g&&Object(h.jsx)("ol",{type:"screen-list",className:"child-screens",children:m.map((function(e){return Object(h.jsx)(n,{treeNode:e,depth:r+1,isExpandTree:i,screenSelection:c,collapseScreenMetaCidSet:l,activeScreenMetaCid:a,editingScreenMetaCid:o,
targetlinkCid:s,renderScreenMetaItem:u,dummySelect:d},e.cid)}))})]})}}]),n}(g.PureComponent)
p()(x,"propTypes",{treeNode:m.a.object,depth:m.a.number,isExpandTree:m.a.bool,activeScreenMetaCid:m.a.string,editingScreenMetaCid:m.a.string,targetlinkCid:m.a.string,collapseScreenMetaCidSet:m.a.object,dummySelect:m.a.object,screenSelection:m.a.array,renderScreenMetaItem:m.a.func})},,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return g}))
var r=n(26),i=n.n(r),a=n(260),o=a.HOSTED_COMMERCIAL_FANGZHENG_LIST,s=a.HOSTED_COMMON_LIST,c=a.WESTERN_COMMON_LIST,l=[].concat(i()(o),i()(s),i()(c)),u=function(e){return{label:e.label,value:e.family,limitedDevices:e.limitedDevices}},d=o.map(u),p=s.map(u),h=c.map(u),f=function(e){return{regular:I18N.dUtils.rich_text_settings.weight.regular,light:I18N.dUtils.rich_text_settings.weight.light,bold:I18N.dUtils.rich_text_settings.weight.bold}[e]},m=function(e){var t=l.find((function(t){return t.family===e}))
return t?t.typeList.map((function(e){return{label:f(e),value:e}})):[]},g=function(e,t){var n=o.find((function(t){return t.family===e}))
return n?"".concat(n.label,"-").concat(f(t)):"".concat(e,"-").concat(t)}},,,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0
var i=r(n(156)),a=r(n(136)),o=(r(n(1)),r(n(5))),s=r(n(36)),c=r(n(298)),l=(n(299),r(n(226)))
t.UNMOUNTED="unmounted"
t.EXITED="exited"
t.ENTERING="entering"
t.ENTERED="entered"
t.EXITING="exiting"
var u=function(e){function t(t,n){var r
r=e.call(this,t,n)||this
var i,a=n&&!n.isMounting?t.enter:t.appear
return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}(0,a.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null}
var n=t.prototype
return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null
if(e!==this.props){var n=this.state.status
this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout
return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){
var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.default.findDOMNode(this),r],a=i[0],o=i[1],l=this.getTimeouts(),u=r?l.appear:l.enter
!e&&!n||c.default.disabled?this.safeSetState({status:"entered"},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.default.findDOMNode(this)
t&&!c.default.disabled?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},
n.setNextCallback=function(e){var t=this,n=!0
return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t)
var n=this.props.nodeRef?this.props.nodeRef.current:s.default.findDOMNode(this),r=null==e&&!this.props.addEndListener
if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1]
this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status
if("unmounted"===e)return null
var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]))
return o.default.createElement(l.default.Provider,{value:null},"function"==typeof n?n(e,r):o.default.cloneElement(o.default.Children.only(n),r))},t}(o.default.Component)
function d(){}u.contextType=l.default,u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},u.UNMOUNTED="unmounted",u.EXITED="exited",u.ENTERING="entering",u.ENTERED="entered",u.EXITING="exiting"
var p=u
t.default=p},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(5)).default.createContext(null)
t.default=i},function(e,t,n){"use strict"
var r=n(549)(Object.getPrototypeOf,Object)
e.exports=r},function(e,t,n){"use strict"
var r=n(542)
e.exports=function(e){var t=new e.constructor(e.byteLength)
return new r(t).set(new r(e)),t}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSaver=t.DEFAULT_AUTO_SAVE_DELAY=void 0
var i=r(n(10)),a=r(n(15)),o=n(309),s=n(177),c=n(230)
t.DEFAULT_AUTO_SAVE_DELAY=2e4
var l=function(){}
t.createSaver=function(e){var t=e.name,n=e.doSave,r=e.onSaverError,u=e.beforeSave,d=void 0===u?l:u,p=e.afterSave,h=void 0===p?l:p,f=e.autoSaveDelay,m=void 0===f?2e4:f,g=!1,v={},b=Promise.resolve(),y=function(e){v=e},x=function(){!g&&(0,a.default)(i.default.mark((function e(){var r,a,s,l,u
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),r=(0,c.createInsideOutPromise)(),a=r.promise,s=r.resolve,b=a,g=!0,e.next=6,(0,o.catchAsync)(n,y)
case 6:if(l=e.sent,(u=l.error)&&console.error("[Error][Saver|".concat(t,"]"),v,u),u&&Object.assign(u,{name:t,autoSaveDelay:m,savingState:v}),g=!1,v={},!u){e.next=14
break}throw u
case 14:s(),h(t)
case 16:case"end":return e.stop()}}),e)})))().catch(r)},w=(0,s.createTimer)({func:x,delay:m}),j=w.start,S=w.stop
return{getIsSaving:function(){return g},getSavingState:function(){return v},getSavingPromise:function(){return b},getIsActive:w.isActive,getAutoSaveDelay:w.getDelay,setAutoSaveDelay:w.setDelay,startTimer:j,stopTimer:S,triggerSave:x}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createInsideOutPromise=t.withTimeoutPromise=t.withTimeoutAsync=t.withRetryAsync=t.withRetry=t.withRepeatAsync=t.withRepeat=t.withDelayArgvQueue=t.lossyAsync=t.once=t.throttle=t.debounce=void 0
var i=r(n(10)),a=r(n(15)),o=n(177),s=n(309),c=n(269),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null
return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o]
var s=n&&null===r
clearTimeout(r),r=setTimeout((function(){r=null,!n&&e.apply(null,a)}),t),s&&e.apply(null,a)}}
t.debounce=l
t.throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null
return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s]
if(!r){var c=n&&null===r
r=(0,o.setWeakTimeout)((function(){r=null,!n&&e.apply(null,a)}),t),c&&e.apply(null,a)}}}
t.once=function(e){var t=!1
return function(){if(!0!==t){t=!0
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return e.apply(null,r)}}}
t.lossyAsync=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.rethrowError,r=function(){t=void 0},i=function(e){t=void 0,n(e)}
return{trigger:function(){if(!t)try{for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o]
var s=e.apply(null,a);(0,c.isPromiseAlike)(s)?t=s.then(r,i):r()}catch(e){i(e)}},getRunningPromise:function(){return t}}}
t.withDelayArgvQueue=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]
var o=t.apply(void 0,[function(){var t=n
n=[],e(t)}].concat(i))
return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r]
n.push(t),o()}}
t.withRepeat=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;t>n;)e(n,t),n++}
var u=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,s,c,l=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:0,r=l.length>2&&void 0!==l[2]?l[2]:0,a=0
case 3:if(!(n>a)){e.next=15
break}return s=(0,o.clock)(),e.next=7,t(a,n)
case 7:if(a++,c=r-((0,o.clock)()-s),e.t0=c>0,!e.t0){e.next=13
break}return e.next=13,(0,o.setTimeoutAsync)(c)
case 13:e.next=3
break
case 15:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.withRepeatAsync=u
t.withRetry=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=0;;)try{return e(n,t)}catch(e){if(t<++n)throw e}}
var d=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,s,c,l=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:1/0,r=l.length>2&&void 0!==l[2]?l[2]:0,a=0
case 3:return s=(0,o.clock)(),e.prev=4,e.next=7,t(a,n)
case 7:return e.abrupt("return",e.sent)
case 10:if(e.prev=10,e.t0=e.catch(4),a++,!(n<a)){e.next=15
break}throw e.t0
case 15:if(c=r-((0,o.clock)()-s),e.t1=c>0,!e.t1){e.next=20
break}return e.next=20,(0,o.setTimeoutAsync)(c)
case 20:e.next=3
break
case 22:case"end":return e.stop()}}),e,null,[[4,10]])})))
return function(t){return e.apply(this,arguments)}}()
t.withRetryAsync=d
t.withTimeoutAsync=function(e,t){return p(e(),t)}
var p=function(e,t){var n=null
return Promise.race([e,new Promise((function(e,r){n=(0,o.setWeakTimeout)((function(){return r(h)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e!==h?e:new Error("timeout after: ".concat(t))}))}
t.withTimeoutPromise=p
var h={}
t.createInsideOutPromise=function(){var e,t
return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.arraySplitChunk=t.arrayFindOrPush=t.arrayFindSetOrPush=t.arrayFindSet=t.arrayFindMove=t.arrayFindDelete=t.arrayMatchMove=t.arrayMatchPush=t.arrayMatchDelete=t.arrayConcat=t.arrayShift=t.arrayPop=t.arrayUnshift=t.arrayPush=t.arrayMove=t.arrayInsert=t.arrayDelete=t.arraySet=void 0
var i=r(n(26))
t.arraySet=function(e,t,n){if(e[t]===n)return e
var r=(0,i.default)(e)
return r[t]=n,r}
t.arrayDelete=function(e,t){return t>=0&&t<=e.length-1?[].concat((0,i.default)(e.slice(0,t)),(0,i.default)(e.slice(t+1))):e}
t.arrayInsert=function(e,t,n){return[].concat((0,i.default)(e.slice(0,t)),[n],(0,i.default)(e.slice(t)))}
var a=function(e,t,n){return n===t?e:n<t?[].concat((0,i.default)(e.slice(0,n)),(0,i.default)(e.slice(n+1,t+1)),[e[n]],(0,i.default)(e.slice(t+1))):[].concat((0,i.default)(e.slice(0,t)),[e[n]],(0,i.default)(e.slice(t,n)),(0,i.default)(e.slice(n+1)))}
t.arrayMove=a
t.arrayPush=function(e,t){return[].concat((0,i.default)(e),[t])}
t.arrayUnshift=function(e,t){return[t].concat((0,i.default)(e))}
t.arrayPop=function(e){if(0===e.length)return e
var t=(0,i.default)(e)
return t.pop(),t}
t.arrayShift=function(e){if(0===e.length)return e
var t=(0,i.default)(e)
return t.shift(),t}
t.arrayConcat=function(e,t){return t&&t.length?[].concat((0,i.default)(e),(0,i.default)(t)):e}
t.arrayMatchPush=function(e,t){return e.includes(t)?e:[].concat((0,i.default)(e),[t])}
t.arrayMatchDelete=function(e,t){var n=e.indexOf(t)
return~n?[].concat((0,i.default)(e.slice(0,n)),(0,i.default)(e.slice(n+1))):e}
t.arrayMatchMove=function(e,t,n){var r=e.indexOf(n)
return~r?a(e,t,r):e}
t.arrayFindDelete=function(e,t){var n=e.findIndex(t)
return~n?[].concat((0,i.default)(e.slice(0,n)),(0,i.default)(e.slice(n+1))):e}
t.arrayFindMove=function(e,t,n){var r=e.findIndex(t)
return~r?a(e,n,r):e}
t.arrayFindSet=function(e,t,n){var r=e.findIndex(t)
if(!~r||e[r]===n)return e
var a=(0,i.default)(e)
return a[r]=n,a}
t.arrayFindSetOrPush=function(e,t,n){var r=e.findIndex(t)
if(!~r)return[].concat((0,i.default)(e),[n])
if(e[r]===n)return e
var a=(0,i.default)(e)
return a[r]=n,a}
t.arrayFindOrPush=function(e,t,n){return void 0===e.find(t)?[].concat((0,i.default)(e),[n]):e}
t.arraySplitChunk=function(e,t){for(var n=[],r=0,i=e.length;r<i;r+=t)n.push(e.slice(r,r+t))
return n}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=1e3,a=6e4,o=60*a,s=24*o
function c(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{}
var n,l=(0,r.default)(e)
if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return
var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e)
if(!t)return
var n=parseFloat(t[1])
switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n
case"days":case"day":case"d":return n*s
case"hours":case"hour":case"hrs":case"hr":case"h":return n*o
case"minutes":case"minute":case"mins":case"min":case"m":return n*a
case"seconds":case"second":case"secs":case"sec":case"s":return n*i
case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n
default:return}}(e)
if("number"===l&&!1===isNaN(e))return t.long?c(n=e,s,"day")||c(n,o,"hour")||c(n,a,"minute")||c(n,i,"second")||n+" ms":function(e){if(e>=s)return Math.round(e/s)+"d"
if(e>=o)return Math.round(e/o)+"h"
if(e>=a)return Math.round(e/a)+"m"
if(e>=i)return Math.round(e/i)+"s"
return e+"ms"}(e)
throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict"
var r=n(483)("socket.io-parser"),i=n(120),a=n(485),o=n(234),s=n(313)
function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d
var l=t.ERROR+'"encode error"'
function u(e){var n=""+e.type
if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data)
if(!1===i)return l
n+=i}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){a.removeBlobs(e,(function(e){var n=a.deconstructPacket(e),r=u(n.packet),i=n.buffers
i.unshift(r),t(i)}))}(e,n):n([u(e)])},i(d.prototype),d.prototype.add=function(e){var n
if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))}
if(null==t.types[i.type])return h("unknown packet type "+i.type)
if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments")
i.attachments=Number(a)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){if(","===(c=e.charAt(n)))break
if(i.nsp+=c,n===e.length)break}else i.nsp="/"
var s=e.charAt(n+1)
if(""!==s&&Number(s)==s){for(i.id="";++n;){var c
if(null==(c=e.charAt(n))||Number(c)!=c){--n
break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n))
if(!(!1!==l&&(i.type===t.ERROR||o(l))))return h("invalid payload")
i.data=l}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)
else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e)
if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers)
return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict"
var r={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";(function(e){var r=n(486),i=n(487),a=n(488)
function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length")
return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n)
if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string")
return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number')
return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds")
if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds")
t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r)
c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t)
return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8")
if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding')
var r=0|f(t,n),i=(e=s(e,r)).write(t,n)
i!==r&&(e=e.slice(0,i))
return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length)
return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t)
if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var r
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')
if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0
return e}function p(e,t){var n=t.length<0?0:0|h(t.length)
e=s(e,n)
for(var r=0;r<n;r+=1)e[r]=255&t[r]
return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes")
return 0|e}function f(e,t){if(c.isBuffer(e))return e.length
if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength
"string"!=typeof e&&(e=""+e)
var n=e.length
if(0===n)return 0
for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n
case"utf8":case"utf-8":case void 0:return U(e).length
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n
case"hex":return n>>>1
case"base64":return z(e).length
default:if(r)return U(e).length
t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1
if((void 0===t||t<0)&&(t=0),t>this.length)return""
if((void 0===n||n>this.length)&&(n=this.length),n<=0)return""
if((n>>>=0)<=(t>>>=0))return""
for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n)
case"utf8":case"utf-8":return O(this,t,n)
case"ascii":return k(this,t,n)
case"latin1":case"binary":return M(this,t,n)
case"base64":return _(this,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n)
default:if(r)throw new TypeError("Unknown encoding: "+e)
e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t]
e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1
if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1
n=e.length-1}else if(n<0){if(!i)return-1
n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i)
if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i)
throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var a,o=1,s=e.length,c=t.length
if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1
o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1
for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var d=!0,p=0;p<c;p++)if(l(e,a+p)!==l(t,p)){d=!1
break}if(d)return a}return-1}function y(e,t,n,r){n=Number(n)||0
var i=e.length-n
r?(r=Number(r))>i&&(r=i):r=i
var a=t.length
if(a%2!=0)throw new TypeError("Invalid hex string")
r>a/2&&(r=a/2)
for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16)
if(isNaN(s))return o
e[n+o]=s}return o}function x(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n))
return t}(t),e,n,r)}function j(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return H(z(t),e,n,r)}function C(e,t,n,r){return H(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r)
return a}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n)
for(var r=[],i=t;i<n;){var a,o,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1
if(i+d<=n)switch(d){case 1:l<128&&(u=l)
break
case 2:128==(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c)
break
case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c)
break
case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length
if(t<=4096)return String.fromCharCode.apply(String,e)
var n="",r=0
for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096))
return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0)
return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{
value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers")
if(e===t)return 0
for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i]
break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0
default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers')
if(0===e.length)return c.alloc(0)
var n
if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length
var r=c.allocUnsafe(t),i=0
for(n=0;n<e.length;++n){var o=e[n]
if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers')
o.copy(r,i),i+=o.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length
if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits")
for(var t=0;t<e;t+=2)g(this,t,t+1)
return this},c.prototype.swap32=function(){var e=this.length
if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits")
for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2)
return this},c.prototype.swap64=function(){var e=this.length
if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits")
for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4)
return this},c.prototype.toString=function(){var e=0|this.length
return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index")
if(r>=i&&t>=n)return 0
if(r>=i)return-1
if(t>=n)return 1
if(this===e)return 0
for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d]
break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0
else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0
else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")
t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t
if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds")
r||(r="utf8")
for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n)
case"utf8":case"utf-8":return x(this,e,t,n)
case"ascii":return w(this,e,t,n)
case"latin1":case"binary":return j(this,e,t,n)
case"base64":return S(this,e,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n)
default:if(a)throw new TypeError("Unknown encoding: "+r)
r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}
function k(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i])
return r}function M(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(e[i])
return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r)
for(var i="",a=t;a<n;++a)i+=R(e[a])
return i}function T(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1])
return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint")
if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance')
if(t>i||t<a)throw new RangeError('"value" argument is out of bounds')
if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1)
for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1)
for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range")
if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return a||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return a||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length
if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype
else{var i=t-e
n=new c(i,void 0)
for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length)
for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i
return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length)
for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i
return r},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])
},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length)
for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i
return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length)
for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i
return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length)
var n=this[e]|this[e+1]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length)
var n=this[e+1]|this[e]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){
return t||A(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=1,a=0
for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255
return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=n-1,a=1
for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255
return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){
return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0
for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255
return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0
for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255
return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},
c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},
c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0
if(0===e.length||0===this.length)return 0
if(t<0)throw new RangeError("targetStart out of bounds")
if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds")
if(r<0)throw new RangeError("sourceEnd out of bounds")
r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n)
var i,a=r-n
if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n]
else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n]
else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t)
return a},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0)
i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string")
if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255)
if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index")
if(n<=t)return this
var a
if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e
else{var o=c.isBuffer(e)?e:U(new c(e,r).toString()),s=o.length
for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this}
var B=/[^+\/0-9A-Za-z-_]/g
function R(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n
t=t||1/0
for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189)
continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189)
continue}i=n
continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n
continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189)
if(i=null,n<128){if((t-=1)<0)break
a.push(n)}else if(n<2048){if((t-=2)<0)break
a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break
a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point")
if((t-=4)<0)break
a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return""
for(;e.length%4!=0;)e+="="
return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i]
return i}}).call(this,n(195))},function(e,t,n){"use strict"
var r=n(491),i=n(237)
e.exports=function(e){var t=e.xdomain,n=e.xscheme,a=e.enablesXDR
try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&a)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){"use strict"
e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){"use strict"
var r=n(121),i=n(120)
function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,
this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,i(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e)
return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open")
this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType)
this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}))
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n(13),c=n.n(s),l=n(14),u=n(278),d=n(116),p=n(144),h=Object(o.memo)((function(e){var t=e.widget,n=e.className,i=e.isDynamic,a=t.name,o=t.icon,s=t.expanded
switch(a){case"panel":return i?Object(r.jsx)(l.a,{className:c()(n,"design-dynamic-new"),name:"design/dynamic/new"}):Object(r.jsx)(l.a,{className:c()(n,"design-master-new"),name:"design/master/new"})
case"icon_button":case"svg_icon_button":var u=o.slice(0,o.indexOf("-")),p=o.slice(o.indexOf("-")+1)
return["fa","mb","md","ci","fa5","antOutline","antFill"].includes(u)?Object(r.jsx)(f,{type:u,name:p,iconName:o,className:"icon"}):Object(r.jsx)(l.b,{className:c()("icon",n),type:"fa",name:"smile-o"})
case"svg_icon_path":var h=t.view_box,m=t.path
return Object(r.jsx)(g,{view_box:h,path:m})
case"group":var v=s?"design/group_open":"design/group_close"
return Object(r.jsx)(l.a,{className:c()("icon","group-icon",n),name:v})
default:var b=d.d[a]
return b?b.svg_icon?Object(r.jsx)(l.a,{className:c()(n,"design-".concat(b.svg_icon,"-new")),name:"design/".concat(b.svg_icon,"/new")}):"text"===b.icon_name?Object(r.jsx)(l.a,{className:c()(n,"design-".concat(b.icon_name)),name:"design/text/new"}):"ios_check"===b.name||"android_check"===b.name?Object(r.jsx)(l.a,{className:c()(n,'design-checkbox-new"'),name:"design/checkbox/new"}):"android_radio"===b.name?Object(r.jsx)(l.a,{className:c()(n,"design-android_radio-new"),name:"design/android_radio/new"
}):"battery"===b.icon_name?Object(r.jsx)(l.a,{className:c()(n,"design-".concat(b.icon_name,"-new")),name:"design/".concat(b.icon_name,"/new")}):b.name.includes("keyboard")?Object(r.jsx)(l.a,{className:c()(n,"design-keyboard-new"),name:"design/keyboard/new"}):b.name.includes("switch")?Object(r.jsx)(l.a,{className:c()(n,"design-switch-new"),name:"design/switch/new"}):"nav_bar"===b.name?Object(r.jsx)(l.a,{className:c()(n,"design-nav-bar-new"),name:"design/nav_bar/new"}):Object(r.jsx)("i",{
className:c()("icon","icon-widget-".concat(b.icon_name||""),n)}):null}}))
h.propTypes={widget:a.a.object,isDynamic:a.a.bool,className:a.a.string}
var f=Object(o.memo)((function(e){var t=e.name,n=e.type,i=e.iconName,a=e.className,o="fa5"===n,s="antOutline"===n||"antFill"===n,c=(o||s)&&u.b[i]
return o?Object(r.jsx)("span",{className:"icon ".concat(c.type," ").concat(c.lib," fa-").concat(c.id)}):s?Object(r.jsx)(m,{iconId:c.id,iconType:c.type}):Object(r.jsx)(l.b,{type:n,name:t,className:a})}))
f.propTypes={name:a.a.string,iconName:a.a.string,type:a.a.string,className:a.a.string}
var m=Object(o.memo)((function(e){var t=e.iconId,n="antOutline"===e.iconType?Object(p.b)(t):Object(p.a)(t),i=n.viewBox,a=n.path
return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ant-icon svg-icon",viewBox:i,dangerouslySetInnerHTML:{__html:a}})}))
m.propTypes={iconId:a.a.string,iconType:a.a.string}
var g=Object(o.memo)((function(e){var t=e.view_box,n=e.path
return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon svg-icon",viewBox:t,dangerouslySetInnerHTML:{__html:n}})}))
g.propTypes={view_box:a.a.string,path:a.a.string},t.c=h},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return T}))
var r=n(4),i=n.n(r),a=n(40),o=n.n(a),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),h=n(8),f=n.n(h),m=n(9),g=n.n(m),v=n(2),b=n.n(v),y=n(0),x=n(1),w=n.n(x),j=n(5),S=n(251),C=n.n(S),_=n(11),O=n.n(_)()(C.a).withConfig({displayName:"styles__StyledGuideButton",componentId:"sc-17u1rei-0"
})(["&.guide-button.Guide{min-width:270px;&.mac .for-others,&.windows .for-mac,&.other-os .for-mac{display:none;}.content{color:#7d8694;background-color:",";}&.sidebar-guide{margin-right:-28px;}p{line-height:32px;}kbd{display:inline-block;min-width:20px;height:19px;font-size:12px;line-height:20px;text-align:center;color:#5b6b73;background:#ececec;box-shadow:0 1px 0 0 #c0c0c5;border-radius:2px;&.for-others{min-width:42px;}}.plus{margin:0 4px;color:#415058;}.mouse{color:#415058;}}#IBOT_GUIDE_GUIDE_ROOT .GuideBase{z-index:2;}"],(function(e){
return e.theme.common.bg.white_bg})),k=n(27),M=n(39),E=function(e){return Object(k.e)("guide_closed_".concat(e),!0)},T=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"setGuideRef",(function(t){return e.guide=t})),b()(p()(e),"handleCloseGuideManually",(function(){E(e.props.id)})),b()(p()(e),"autoClose",(function(){var t=e.props,n=t.duration,r=t.autoClose,i=t.id
t.isOpen&&n&&(e.timer=setTimeout((function(){r(),E(i)}),n))})),e}return u()(n,[{key:"componentDidUpdate",value:function(e){e.isOpen!==this.props.isOpen&&this.autoClose()}},{key:"componentWillUnmout",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.isOpen,r=e.children,a=e.localeKey,s=e.position,c=e.className,l=e.gotItText,u=void 0===l?I18N.GuideButton.guide_base.got_it:l,d=o()(e,["id","isOpen","children","localeKey","position","className","gotItText"])
if(function(e){return"true"===Object(k.b)("guide_closed_".concat(e))}(t))return r
var p=I18N.GuideButton.guide_base[a||t],h=p.header,f=p.content,m=Object(M.i)()?"mac":Object(M.n)()?"windows":"other-os"
return Object(y.jsx)(O,i()(i()({ref:this.setGuideRef,isOpen:n,position:s,onClose:this.handleCloseGuideManually,className:"".concat(["guide-button"]," ").concat(m," ").concat(c),header:h,guide:Object(y.jsx)("div",{dangerouslySetInnerHTML:{__html:f}}),gotItText:u,X:"right"},d),{},{children:r}))}}]),n}(j.PureComponent)
b()(T,"propTypes",{id:w.a.string.isRequired,isOpen:w.a.bool,duration:w.a.number,localeKey:w.a.string,children:w.a.element,autoClose:w.a.func,className:w.a.string,gotItText:w.a.object,position:w.a.string})},,function(e,t,n){"use strict"
var r=n(187),i=n(164)
e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])]
return n&&n==a?e:void 0}},function(e,t,n){"use strict"
var r=n(221),i=n(227),a=n(109),o=Function.prototype,s=Object.prototype,c=o.toString,l=s.hasOwnProperty,u=c.call(Object)
e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1
var t=i(e)
if(null===t)return!0
var n=l.call(t,"constructor")&&t.constructor
return"function"==typeof n&&n instanceof n&&c.call(n)==u}},function(e,t,n){"use strict"
var r=n(302)
e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict"
e.exports=function(e){return e}},,,function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var a=i(n(7)),o=i(n(6)),s=i(n(3)),c=i(n(8)),l=i(n(9)),u=i(n(2)),d=n(0),p=n(5),h=n(36),f=i(n(1)),m=r(n(37)),g=i(n(59)),v=i(n(70)),b=i(n(76)),y=n(35),x=n(126),w=window.I18N,j=void 0===w?{}:w,S=document.getElementById("IBOT_GUIDE_GUIDE_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_GUIDE_GUIDE_ROOT"}),C=document.body
C.contains(S)||C.appendChild(S)
var _=function(e){(0,c.default)(n,e)
var t=(0,l.default)(n)
function n(){var e;(0,a.default)(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),(0,u.default)((0,s.default)(e),"state",{prevProps:e.props,isOpen:e.props.isOpen,isDownward:"bottom"===e.props.Y}),(0,u.default)((0,s.default)(e),"portal",(0,y.preparePortal)(S,"GuidePortal")),(0,u.default)((0,s.default)(e),"position",(function(){var t=(0,s.default)(e),n=t.$base,r=t.$guide,i=e.props,a=i.X,o=i.Y,c=i.inflexible,l=(0,x.positionMenu)({$menuBase:r,$opener:n,menuX:a,menuY:o,inflexible:c}).isDownward
e.setState({isDownward:l})})),(0,u.default)((0,s.default)(e),"set$base",(function(t){return Object.assign((0,s.default)(e),{$base:t})})),(0,u.default)((0,s.default)(e),"set$guide",(function(t){return Object.assign((0,s.default)(e),{$guide:t})})),(0,u.default)((0,s.default)(e),"close",(function(){return e.setState({isOpen:!1},e.props.onClose)})),(0,u.default)((0,s.default)(e),"onScrollOutside",e.position),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.state.isOpen&&this.position()}
},{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.state.isOpen
!n&&r&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){var e=this.props.children,t=void 0===e?null:e,n=(0,p.isValidElement)(t)?(0,p.cloneElement)(t,{ref:this.set$base}):(0,d.jsx)("span",{ref:this.set$base,children:t}),r=(0,h.createPortal)(this.renderGuide(),this.portal)
return(0,d.jsxs)(p.Fragment,{children:[n,r]})}},{key:"renderGuide",value:function(){var e=this.props,t=e.className,n=e.noCloseBtn,r=e.X,i=e.header,a=e.gotItText,o=e.gotItBtn,s=e.guide,c=this.state,l=c.isOpen,u=c.isDownward,p=(0,y.trimList)(["Guide",l&&"is-open",u?"is-downward":"is-upward","x-".concat(r),t])
return(0,d.jsx)("div",{className:"GuideBase",ref:this.set$guide,children:(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:y.SVG.GUIDE_ARROW}}),(0,d.jsxs)("div",{className:"content",children:[i&&(0,d.jsx)("header",{children:i}),!n&&(0,d.jsx)("button",{className:"close-btn",onClick:this.close,children:(0,d.jsx)(b.default,{name:"times_fc",type:"dora"})}),s,o&&(0,d.jsx)("footer",{children:(0,d.jsx)(v.default,{type:"text",onClick:this.close,children:a})
})]}),l&&(0,d.jsx)(m.default,{target:document,onScroll:(0,m.withOptions)(this.onScrollOutside,{capture:!0})})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isOpen
return(0,g.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen}}}]),n}(p.PureComponent);(0,u.default)(_,"propTypes",{isOpen:f.default.bool,header:f.default.any,noCloseBtn:f.default.bool,gotItBtn:f.default.bool,onClose:f.default.func,gotItText:f.default.any,className:f.default.string,children:f.default.node,guide:f.default.any,X:f.default.oneOf(["left","center","right"]),Y:f.default.oneOf(["top","bottom"]),inflexible:f.default.bool}),(0,u.default)(_,"defaultProps",{isOpen:!1,noCloseBtn:!1,iKonwBtn:!1,
onClose:function(){return null},gotItText:j.iknow||"Got it!",X:"left",Y:"bottom",inflexible:!1})
var O=_
t.default=O},function(e,t,n){"use strict"
var r=n(21),i=n(20),a=n(16),o=n(4),s=n.n(o),c=n(40),l=n.n(c),u=n(7),d=n.n(u),p=n(6),h=n.n(p),f=n(3),m=n.n(f),g=n(8),v=n.n(g),b=n(9),y=n.n(b),x=n(2),w=n.n(x),j=n(0),S=n(5),C=n(1),_=n.n(C),O=n(84),k=n(37),M=n.n(k),E=n(13),T=n.n(E),A=n(106),D=n(351),N=n(360),I=n(217),P=n(14),L=n(161),F=n(50),B=n(31),R=n(168),U=n(29),z=n(11),H=n.n(z),G=n(47),V=H.a.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"n0vrcu-0"
})([""," .expander{display:flex;align-items:center;justify-content:center;cursor:pointer;.arrow-icon{color:",";&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;padding-right:5px;.screen-item-icon{display:flex;flex-shrink:0;justify-content:center;align-items:center;width:14px;height:14px;margin-right:8px;.icon{width:9px;height:12px;color:",";}.sm-folder-icon{width:14px;height:14px;.main{fill:",";}.secondary{fill:",";}}}.editable-span{",";}}&[disabled]{opacity:0.4;pointer-events:none;}.actions{padding:0 10px;.actions-ellipsis{font-size:14px;pointer-events:none;}&:hover{.actions-ellipsis{color:",";}}}.child-screens{position:relative;}&.wait-hover *{pointer-events:none;}&.linking{color:",";background:",";.actions{display:none;}}&:hover,&.hover{color:",";.screen-name .screen-item-icon .icon{color:",";}}&.active,&.is-active{color:",";background:",";.screen-name{font-weight:600;.screen-item-icon .icon{color:",";}}}"],G.c,(function(e){
return e.theme.listItem.icon_expander}),(function(e){return e.theme.common.icon_5.cr}),(function(e){return e.theme.screen_panel.folder_icon.main}),(function(e){return e.theme.screen_panel.folder_icon.secondary}),G.e,(function(e){return e.theme.common.text_1.hover}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.listItem.linking_bg}),(function(e){return e.theme.common.text_2.hover}),(function(e){return e.theme.common.icon_5.hover}),(function(e){return e.theme.common.text_2.active
}),(function(e){return e.theme.screen_panel.select_bg}),(function(e){return e.theme.common.icon_5.active})),W=function(e){v()(n,e)
var t=y()(n)
function n(){var e
d()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),w()(m()(e),"setElementRef",(function(t){return e.$elem=t})),w()(m()(e),"handleExpand",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onExpand)(r)})),w()(m()(e),"handleClick",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onSelect)(t,r)})),w()(m()(e),"onShowTipsByTarget",(function(e,t){var n=t.querySelector(".editable-span")
return n.offsetWidth<n.scrollWidth})),e}return h()(n,[{key:"componentDidMount",value:function(){if(!Object(F.g)(this.$elem)){if(!this.$elem.classList.contains("active"))return
var e=document.querySelector(".rn-content-body")
if(!e)return
var t=e.getBoundingClientRect(),n=this.$elem.getBoundingClientRect().bottom
e.scrollTop+=n-t.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.depth,r=e.isExpand,i=e.isActive,a=e.showExpander,o=e.isHTMLZip,s=e.screenCommentThreadCountMap,c=14*(n+1),l=Object(U.a)(t),u=t.cid,d=t.name,p=(s&&s[u]||0)>=1&&!o
return Object(j.jsx)(B.a,{content:d,distance:5,direction:"right",onMouseEvent:"onDoubleClick",isShowTipsByTarget:this.onShowTipsByTarget,children:Object(j.jsxs)(V,{ref:this.setElementRef,"data-cid":u,onClick:this.handleClick,style:{paddingLeft:c},className:T()("rn-list-item",{active:i,folder:l}),children:[a&&Object(j.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:Object(j.jsx)(P.a,{className:T()("arrow-icon",{"is-expand":r}),name:"new/arrow"})
}),Object(j.jsxs)("div",{className:"screen-name",children:[Object(j.jsx)("div",{className:"screen-item-icon",children:Object(j.jsx)(R.a,{isActive:i,isFolder:l,isExpand:r})}),Object(j.jsx)(L.a,{className:"editable-span",children:Object(F.k)(d)})]}),p&&Object(j.jsx)("span",{className:"toggle-comment",children:Object(j.jsx)(P.b,{type:"dora",name:"comment"})})]})})}}]),n}(S.PureComponent)
w()(W,"propTypes",{depth:_.a.number,screenMeta:_.a.object,isActive:_.a.bool,isExpand:_.a.bool,isHTMLZip:_.a.bool,showExpander:_.a.bool,screenCommentThreadCountMap:_.a.object,actionProps:_.a.object})
var Y=n(357),q=H.a.div.withConfig({displayName:"styles__StyledScreenPanel",componentId:"dwbojm-0"
})(['flex:1;display:flex;flex-direction:column;overflow:hidden;.screen-header{height:36px;padding:0 4px 0 10px;display:flex;align-items:center;[type="search"]{flex:1;margin-right:4px;}.header-icon{',";}}.screen-list-container{flex:1;width:calc(100% - 2px);overflow-x:hidden;overflow-y:auto;.toggle-comment{position:absolute;right:22px;top:50%;transform:translateX(100%) translateY(-50%);& > .icon{color:",";}& > .icon-comment{margin-right:2px;}}&.thumbnail{padding-left:10px;.toggle-comment{display:none;}}.thumbnail-list{width:calc(100% + 15px);.thumbnail-item{width:105px;margin-right:10px;.image-wrapper{height:105px;}}}}"],G.d,(function(e){
return e.theme.common.icon_17.cr})),Z=function(e){v()(n,e)
var t=y()(n)
function n(e){var r
return d()(this,n),r=t.call(this,e),w()(m()(r),"setElementRef",(function(e){return r.$elem=e})),w()(m()(r),"handleScreenMetaExpand",(function(e){var t=e.cid,n=r.state.collapseKeySet,i=new Set(n)
n.has(t)?i.delete(t):i.add(t),r.setState({collapseKeySet:i})})),w()(m()(r),"handleSelectScreenMeta",(function(e,t){var n=r.props,i=n.activeCid,a=n.dispatch
Object(U.a)(t)||i===t.cid?r.handleScreenMetaExpand(t):(a({type:"entry:sync-runner:set-screen",payload:{cid:t.cid}}),a({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}))})),w()(m()(r),"handleSearch",(function(e){MB.event("preview","使用了页面搜索"),r.setState({keyword:e.toLowerCase()})})),w()(m()(r),"handleViewModeChange",(function(e){r.props.toolbarActiveItem
"literal"===e?r.setState({viewMode:"literal"}):r.setState({viewMode:"thumbnail"})})),w()(m()(r),"handleToggleExpanded",(function(){r.state.collapseKeySet.size>0?r.unfoldAllScreen():r.foldAllScreen()})),w()(m()(r),"handleKeyDown",(function(e){(e.ctrlKey||e.metaKey)&&(186===e.keyCode&&(e.preventDefault(),r.unfoldAllScreen()),222===e.keyCode&&(e.preventDefault(),r.foldAllScreen()))})),w()(m()(r),"unfoldAllScreen",(function(){r.setState({collapseKeySet:new Set})})),w()(m()(r),"foldAllScreen",(function(){
var e=r.props.screenTreeData,t=Object(U.h)(e),n=new Set(t.map((function(e){return e.cid})))
r.setState({collapseKeySet:n})})),w()(m()(r),"renderScreenMetaItem",(function(e){var t=e.depth,n=e.screenMeta,i=e.hasScreenMetaChildren,a=e.collapseScreenMetaCidSet,o=e.activeScreenMetaCid,s=r.props,c=s.isHTMLZip,l=s.screenCommentThreadCountMap,u=n.cid,d=o===u,p=!a.has(u),h=i||Object(U.a)(n)
return Object(j.jsx)(W,{depth:t,screenMeta:n,isActive:d,isExpand:p,showExpander:h,actionProps:r.literalActionProps,isHTMLZip:c,screenCommentThreadCountMap:l})})),r.state={keyword:"",collapseKeySet:new Set,viewMode:e.isDemo?"thumbnail":"literal"},r.literalActionProps={onExpand:r.handleScreenMetaExpand,onSelect:r.handleSelectScreenMeta},r.thumbnailActionProps={onClick:r.handleSelectScreenMeta},r}return h()(n,[{key:"componentDidUpdate",value:function(e){
var t=this.props,n=t.activeCid,r=t.screenTreeData,i=t.screenCommentThreadCountMap
if(e.activeCid!==n){var a=Object(U.e)(n,r),o=this.state.collapseKeySet,s=new Set(o)
a.forEach((function(e){var t=e.cid
return o.has(t)&&s.delete(t)})),s.size!==o.size&&this.setState({collapseKeySet:s})}e.screenCommentThreadCountMap!==i&&this.setState({collapseKeySet:new Set(this.state.collapseKeySet)})}},{key:"render",value:function(){var e=this.props,t=e.screenTreeData,n=e.activeCid,r=e.isHTMLZip,i=e.designOptions,a=e.experienceSnapshotUrlMap,o=this.state,s=o.viewMode,c=o.keyword,l=o.collapseKeySet,u=l.size>0,d=c.length>0,p=Object(U.b)(t,c),h=Object(U.h)(p)
return Object(j.jsxs)(q,{className:"screen-panel",children:[Object(j.jsxs)("div",{className:"screen-header",children:[Object(j.jsx)(A.a,{value:c,placeholder:I18N.pPreviewPanel.search,onChange:this.handleSearch}),Object(j.jsx)(N.a,{className:"header-icon fold-button",hasFoldedScreen:u,onClick:this.handleToggleExpanded}),!r&&Object(j.jsx)(D.a,{className:"header-icon",viewMode:s,onViewModeChange:this.handleViewModeChange})]}),Object(j.jsx)("div",{className:T()("screen-list-container",s),ref:this.setElementRef,
children:"literal"===s?Object(j.jsx)(I.a,{screenTreeData:p,isExpandTree:d,activeScreenMetaCid:n,collapseScreenMetaCidSet:l,renderScreenMetaItem:this.renderScreenMetaItem}):Object(j.jsx)(Y.a,{screenMetaList:h,activeScreenMetaCid:n,thumbnailActionProps:this.thumbnailActionProps,designOptions:i,experienceSnapshotUrlMap:a})}),Object(j.jsx)(M.a,{target:document,onKeyDown:this.handleKeyDown})]})}}]),n}(S.PureComponent)
w()(Z,"propTypes",{isHTMLZip:_.a.bool,activeCid:_.a.string,toolbarActiveItem:_.a.string,isDemo:_.a.bool,screenTreeData:_.a.object,screenCommentThreadCountMap:_.a.object,designOptions:_.a.object,experienceSnapshotUrlMap:_.a.object,dispatch:_.a.func})
var X=Object(r.connect)((function(e){return{isHTMLZip:Object(a.D)(e).isHTMLZip,designOptions:Object(a.i)(e),experienceSnapshotUrlMap:Object(a.P)(e),layout:Object(a.A)(e),toolbarActiveItem:Object(a.b)(e),isDemo:J.has(Object(a.c)(e).access_token),screenTreeData:Object(a.H)(e),screenCommentThreadCountMap:Object(a.K)(e),activeCid:Object(a.g)(e).cid}
}))(Z),J=new Set(["demo","cS1AXKF5jtrJePbEKiYcdcHosQPdzrk","workout","sI3GY2tDz76RrZ4MGFiIcZTZpAHyluC","UMQzYmknxWeHNvvVyeyJDuSkgyvi6Xw","9Py1L5RdC8ZPRSmnWEt4uuUUSDUAxkM"]),K=n(10),Q=n.n(K),$=n(15),ee=n.n($),te=n(72),ne=n.n(te),re=n(32),ie=n(171),ae=n(28),oe=n(167),se=Object(oe.createAsyncFuncQueue)().push,ce=function(e,t){return new Promise((function(n){e.src=t,e.onload=function(){return n(e)},e.onerror=function(){return n()}}))},le=function(e){v()(n,e)
var t=y()(n)
function n(){var e
d()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),w()(m()(e),"setElementRef",(function(t){return e.imageRef=t})),e}return h()(n,[{key:"componentDidMount",value:function(){var e=this
se(ee()(Q.a.mark((function t(){var n,r,i,a
return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.src,i=n.adjustImage,t.next=3,ce(e.imageRef,r)
case 3:a=t.sent,i&&a&&Object(ae.b)({image:a,adjust:i})
case 5:case"end":return t.stop()}}),t)})))).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.props,t=(e.src,e.adjustImage,l()(e,["src","adjustImage"]))
return Object(j.jsx)("img",s()({alt:"",ref:this.setElementRef},t))}}]),n}(S.PureComponent)
le.propTypes={src:_.a.string,adjustImage:_.a.number}
var ue=n(211),de=n.n(ue),pe=H.a.div.withConfig({displayName:"styles__StyledSliceItem",componentId:"sc-19wio3-0"
})(["display:flex;align-items:center;width:220px;height:60px;padding:10px;margin:10px;cursor:pointer;border-radius:2px;color:",";.slice-export-icon{display:none;}&:hover{background:",";.slice-export-icon{display:unset;}}&.active{background:",";}> img{margin-right:10px;}.slice-item-wrap{width:40px;height:40px;min-width:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;> img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}"],(function(e){
return e.theme.common.text_5.cr}),(function(e){return e.theme.listItem.hover.bg}),(function(e){return e.theme.listItem.active.slice_item_bg})),he=function(e){v()(n,e)
var t=y()(n)
function n(){var e
return d()(this,n),e=t.call(this),w()(m()(e),"delaySingleDownload",de()((function(){var t=e.props,n=t.imageSet,r=t.name
Object(ae.g)({url:n,name:r,type:"zip"}),MB.event("preview","在切图列表中下载单张切图")}),500,{leading:!0})),w()(m()(e),"isIncurrentScreen",(function(){return e.props.artboardId===e.props.currentArtboardId})),w()(m()(e),"handleClick",(function(){var t=e.props,n=t.id,r=t.requestLayer;(0,t.activeLayer)(n),e.isIncurrentScreen()?r(n):console.warn("Not in current Screen")})),w()(m()(e),"handleOnload",(function(){e.setState({imageLoad:!0})})),w()(m()(e),"handleError",(function(){console.error("image load fail")})),
w()(m()(e),"handleSingleDownload",(function(t){t.persist(),t.stopPropagation(),e.delaySingleDownload()})),e.state={imageLoad:!1},e}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.src,r=e.activeLayerId,i=e.id,a=this.state.imageLoad,o=a?"opacity-1":"opacity-0",s={display:a?"block":"none"},c=r===i
return Object(j.jsx)(ne.a,{type:"block",content:{click:this.isIncurrentScreen()?null:I18N.pPreviewPanel.not_incurrent_screen},children:Object(j.jsxs)(pe,{className:T()("slice-item",{active:c}),onClick:this.handleClick,children:[Object(j.jsxs)("div",{className:"slice-item-wrap",style:{background:"url(/mb-workspace/images/preview/slice-bg.png) left top",backgroundSize:"cover"},children:[!a&&Object(j.jsx)("img",{src:"/mb-workspace/images/preview/image-load-gif.gif",alt:"Loading..."}),Object(j.jsx)(le,{style:s,
src:n,alt:t,adjustImage:38,className:"".concat(o),onLoad:this.handleOnload,onError:this.handleError})]}),Object(j.jsxs)("div",{className:"slice-item-content",children:[Object(j.jsx)("span",{className:"slice-item-name textEllipsis",children:t}),a&&Object(j.jsx)(P.b,{className:"slice-export-icon",name:"export",type:"dora",onClick:this.handleSingleDownload})]})]})})}}]),n}(S.PureComponent)
w()(he,"propTypes",{artboardId:_.a.number,currentArtboardId:_.a.number,name:_.a.string,src:_.a.string.isRequired,id:_.a.number.isRequired,imageSet:_.a.array.isRequired,requestLayer:_.a.func.isRequired,activeLayer:_.a.func,activeLayerID:_.a.oneOfType([_.a.number,_.a.string])})
var fe=Object(z.keyframes)(["from{transform:rotate(0);}to{transform:rotate(720deg);}"]),me=H.a.div.withConfig({displayName:"styles__StyledSlicePanel",componentId:"sc-1dk118f-0"
})(["&{width:100%;height:calc(100% - 90px);overflow-x:hidden;overflow-y:scroll;}.opacity-0{opacity:0;}.opacity-1{opacity:1;}.slice-item-content{display:flex;justify-content:space-between;width:160px;.slice-item-name{margin-left:8px;width:130px;}.textEllipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.download{position:fixed;bottom:0;display:flex;justify-content:center;align-items:center;width:210px !important;height:40px;margin:0 15px;border-top:1px solid ",";cursor:pointer;color:#8d9ea7;}.download-slice-icon{margin-left:10px;color:#8d9ea7;font-size:13px;}.spinner{display:block;width:50px;height:50px;border:4px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;border-radius:50%;animation:"," 2s ease-in-out infinite;}.download-slice-load{margin-left:10px;.spinner{width:20px;height:20px;border:2px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;}}"],(function(e){
return e.theme.common.divider.divider_4}),fe),ge=H.a.div.withConfig({displayName:"styles__StyledSliceLoadWrap",componentId:"sc-1dk118f-1"})(["width:100%;height:calc(100% - 33px);display:flex;justify-content:center;align-items:center;.layer-load{.spinner{color:",";}}"],(function(e){return e.theme.preview.comment.layer.load_color})),ve=function(e){v()(n,e)
var t=y()(n)
function n(e){var r
return d()(this,n),r=t.call(this,e),w()(m()(r),"handleActiveLayer",(function(e){r.setState({activeLayerId:e})})),w()(m()(r),"handleDownloadZip",ee()(Q.a.mark((function e(){var t,n,i,a
return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.currentArtboardId,i=t.currentScreenName,a=t.accessToken,!r.state.isDownloading){e.next=4
break}return e.abrupt("return")
case 4:return r.setState({isDownloading:!0}),e.next=7,we(n,i,a)
case 7:MB.event("zhuge","Download_all_slices_click"),r.setState({isDownloading:!1})
case 9:case"end":return e.stop()}}),e)})))),w()(m()(r),"requestLayer",(function(e){var t=r.props.dispatch
t({type:"REQUEST_SELECT_LAYER",payload:{layerID:e}}),t({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!0}})})),r.state={isDownloading:!1,activeLayerId:null},r}return h()(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"entry:image-slice:init"})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentArtboardId,r=t.dispatch
n!==e.currentArtboardId&&r({type:"reducer:slice:init"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.slicesList,r=t.loading,i=t.error,a=t.currentArtboardId,o=t.isWonderShare,s=this.state,c=s.isDownloading,l=s.activeLayerId
return i||r?Object(j.jsx)(ge,{className:T()("slice-load-wrap"),children:Object(j.jsx)(be,{})}):0===n.length?Object(j.jsx)(ye,{isWonderShare:o}):Object(j.jsxs)(me,{className:T()("slice-container"),children:[n.map((function(t){var n=t.id,r=t.artboard_id,i=t.name,o=t.image,s=t.image_set
return Object(j.jsx)(he,{id:n,src:o,name:i,currentArtboardId:a,imageSet:s,artboardId:r,requestLayer:e.requestLayer,activeLayer:e.handleActiveLayer,activeLayerId:l},n)})),Object(j.jsx)(xe,{onClick:this.handleDownloadZip,isLoading:c})]})}}]),n}(S.PureComponent)
w()(ve,"propTypes",{accessToken:_.a.string,currentScreenName:_.a.string,currentArtboardId:_.a.number,slicesList:_.a.array,error:_.a.bool,loading:_.a.bool,dispatch:_.a.func,isWonderShare:_.a.bool})
var be=function(){return Object(j.jsx)("div",{className:T()("layer-load"),children:Object(j.jsx)("span",{className:T()("spinner")})})},ye=function(e){var t=e.isWonderShare
return Object(j.jsxs)("div",{className:T()("no-slice"),children:[Object(j.jsx)("img",{src:MB.preference()&&"dark"===MB.preference().theme?"/mb-workspace/images/preview/no-slice-dark.png":"/mb-workspace/images/preview/no-slice-light.png"}),Object(j.jsx)("span",{children:I18N.pPreviewPanel.no_slice}),Object(j.jsx)("span",{children:I18N.pPreviewPanel.slice_in_sketch}),Object(j.jsx)("span",{children:I18N.pPreviewPanel.suport_mac}),!t&&Object(j.jsxs)("a",{href:window.MBSketchPluginDownloadURL,
children:[Object(j.jsx)("img",{src:"/mb-workspace/images/preview/ic_sketch@2x.png",alt:"sketch"}),I18N.pPreviewPanel.download_sketch]})]})}
ye.propTypes={isWonderShare:_.a.bool}
var xe=function(e){var t=e.onClick,n=e.isLoading
return Object(j.jsxs)(ne.a,{content:{click:null},type:"block",position:"top",arrowed:!1,className:T()("download"),onClick:t,children:[I18N.pPreviewPanel.download,n?Object(j.jsx)("div",{className:T()("download-slice-load"),children:Object(j.jsx)(be,{})}):Object(j.jsx)(P.b,{type:"dora",name:"export",className:"download-slice-icon"})]})}
xe.propTypes={onClick:_.a.func,isLoading:_.a.bool}
var we=function(){var e=ee()(Q.a.mark((function e(t,n,r){var i,a,o,s,c,l
return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new URLSearchParams(location.search).get("password")||Object(ie.c)(r),a=!0,s=1
case 3:if(!a){e.next=21
break}return e.next=6,re.a.api.requestSliceZipByArtboardId({artboardId:t,encryptedPassword:i})
case 6:if(c=e.sent,l=c.url,"ok"!==c.status){e.next=14
break}a=!1,o=l,e.next=16
break
case 14:return e.next=16,Object(ae.l)(Math.min(2e3*s++,1e4))
case 16:if(!(s>20)){e.next=19
break}return Object(ae.f)(),e.abrupt("return",!1)
case 19:e.next=3
break
case 21:return Object(ae.g)({url:"/".concat(o),name:n,type:"zip"}),e.abrupt("return",!0)
case 23:case"end":return e.stop()}}),e)})))
return function(t,n,r){return e.apply(this,arguments)}}(),je=Object(r.connect)((function(e){var t=e.container.slices,n=t.slices,r=t.loading,i=t.error,o=Object(a.c)(e),s=o.cid,c=o.access_token,l=Object(a.g)(e),u=Object(a.i)(e).isWonderShare
return{projectCid:s,currentScreenName:l.name,currentArtboardId:l.artboard_id,slicesList:n,loading:r,error:i,accessToken:c,isWonderShare:u}}))(ve),Se=n(65),Ce=n(26),_e=n.n(Ce),Oe=n(216),ke=Object(S.memo)((function(e){var t=e.layer,n=e.isExpanded
switch(t.value.type){case"rectangle":return Object(j.jsx)(P.a,{className:T()("design-rectangle-new"),name:"design/rectangle/new"})
case"oval":return Object(j.jsx)(P.a,{className:"design-circle-new",name:"design/circle/new"})
case"rounded":case"line":case"arrow":case"triangle":case"polygon":case"star":case"pencil":case"vector":case"shapePath":return Object(j.jsx)(P.a,{className:"design-shape-path",name:"design/shape/path"})
case"shapeGroup":case"group":var r=n?"design/group_open":"design/group_close"
return Object(j.jsx)(P.a,{className:"group-icon",name:r})
case"text":return Object(j.jsx)(P.a,{className:"design-text-new",name:"design/text/new"})
case"bitmap":return Object(j.jsx)(P.a,{className:"design-image-new",name:"design/image/new"})
case"symbol":case"symbolInstance":return Object(j.jsx)(P.a,{className:"design-symbol",name:"design/symbol"})
default:return Object(j.jsx)(P.a,{className:"design-mask-none",name:"design/mask/none"})}}))
ke.propTypes={layer:_.a.object,isExpanded:_.a.bool}
var Me=ke,Ee=n(169),Te=H.a.span.withConfig({displayName:"style__StyledLayerItemText",componentId:"u1w3u3-0"})(["width:fit-content;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Ae=function(e){v()(n,e)
var t=y()(n)
function n(e){var r
return d()(this,n),r=t.call(this,e),w()(m()(r),"handleClick",(function(e){e.stopPropagation()
var t=r.props,n=t.layer,i=t.sketchAction,a=i.onRequestSelectLayer,o=i.onShowlayerInfo
a(n.value.id),o(!0)})),w()(m()(r),"onMouseEnter",(function(e){e.stopPropagation()
var t=r.props,n=t.layer;(0,t.sketchAction.onEnterLayer)(n.value.id)})),w()(m()(r),"onMouseLeave",(function(e){e.stopPropagation(),(0,r.props.sketchAction.onEnterLayer)(-1)})),w()(m()(r),"handleToggleExpand",(function(e){e.stopPropagation()
var t=r.props,n=t.layer;(0,t.sketchAction.onUpdateExpandCidSet)(n.value.id)})),r.state={isExpand:!1},r}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.layer,n=e.isExpanded,r=e.nodeDepth,i=e.isActive,a=t.value,o=a.name,s=a.type,c=a.mask,l=a.maskedID,u=a.imageSet,d=!!c,p=!!l,h=14*(r+1),f=u&&!!u.length
return Object(j.jsxs)("div",{onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{paddingLeft:h},className:T()("sketch-layer-item",{active:i}),children:[Object(Ee.b)(s)&&Object(j.jsx)("a",{className:"expander",onClick:this.handleToggleExpand,children:Object(j.jsx)(P.a,{className:T()("arrow-icon",{"is-expand":n}),name:"new/arrow"})}),p&&Object(j.jsx)(P.a,{className:"mask-line",name:"design/mask/line"}),!p&&d?Object(j.jsx)(P.a,{className:"mask",name:"design/mask"
}):Object(j.jsxs)("div",{className:"layer-item-icon",children:[Object(j.jsx)(Me,{layer:t,isExpanded:n}),f&&Object(j.jsx)(P.a,{className:"mask-slice",name:"preview/mask/slice"})]}),Object(j.jsx)(Te,{className:"editable-name",children:o})]})}}]),n}(S.PureComponent)
w()(Ae,"propTypes",{layer:_.a.object,nodeDepth:_.a.number,isExpanded:_.a.bool,isActive:_.a.bool,sketchAction:_.a.object})
var De=function(e){v()(n,e)
var t=y()(n)
function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.layer,r=e.nodeDepth,i=e.expandCidSet,a=e.activeLayerID,o=e.sketchAction,s=t.value.id,c=i.has(s),l=s===a
return Object(j.jsxs)("li",{"data-cid":s,className:"layer-item",children:[Object(j.jsx)(Ae,{nodeDepth:r,layer:t,isExpanded:c,isActive:l,sketchAction:o}),"compound"===t.type&&c&&Object(j.jsx)("ul",{className:"children",children:t.children.map((function(e){return Object(j.jsx)(n,{nodeDepth:r+1,layer:e,expandCidSet:i,activeLayerID:a,sketchAction:o},e.value.id)}))})]})}}]),n}(S.PureComponent)
w()(De,"propTypes",{layer:_.a.object,nodeDepth:_.a.number,expandCidSet:_.a.object,activeLayerID:_.a.oneOfType([_.a.number,_.a.string]),sketchAction:_.a.object})
var Ne=n(256),Ie=H.a.header.withConfig({displayName:"styles__StyledLayerHeader",componentId:"sc-16glk6d-0"
})(["padding-left:10px;padding-right:5px;color:#415058;border-top:1px solid ",";border-bottom:1px solid ",";height:36px;display:flex;align-content:center;&:not(.is-search-mode){cursor:grab;}.header-left{display:flex;align-items:center;flex-shrink:0;transition:flex 0.2s ease-in-out;p{font-weight:600;color:","}&.is-search-mode{flex:0 0 12px;margin-left:-6px;}}.header-right{display:flex;align-items:center;margin-left:auto;transition:flex 0.2s ease-in-out;.header-icon{width:22px;height:34px;display:flex;justify-content:center;align-items:center;color:",";&:hover{color:",";}}.arrow-icon{.svg-icon{transform:rotate(-180deg);}&.expanded .svg-icon{transform:rotate(0);}}&.is-search-mode{flex:1;}.layer-search{width:100%;}}"],(function(e){
return e.theme.palette.hr_color}),(function(e){return e.theme.palette.hr_color}),(function(e){return e.theme.palette.panel_title_color}),(function(e){return e.theme.common.text_18.cr}),(function(e){return e.theme.common.text_18.hover})),Pe=MB.config,Le=Pe.componentsListDefaultMinHeight,Fe=Pe.componentsListDefaultMaxHeight,Be=function(e){v()(n,e)
var t=y()(n)
function n(e){var r
return d()(this,n),r=t.call(this,e),w()(m()(r),"setSearchBarRef",(function(e){return r.searchBar=e})),w()(m()(r),"handleOpenSearch",(function(){r.setState({isSearching:!0},(function(){r.searchBar&&r.searchBar.focus()}))})),w()(m()(r),"handleExitSearch",(function(e){e.stopPropagation(),r.setState({isSearching:!1})})),w()(m()(r),"handleToogleLayerPanel",(function(){var e=r.props,t=e.height,n=e.dispatch,i=t!==Le
i&&(Fe=t),n({type:"preview:panel:set:height",payload:{panelHeight:i?Le:Fe}})})),w()(m()(r),"handleDown",(function(e){e.stopPropagation()
var t=r.props,n=t.height,i=t.dispatch
if(!r.state.isSearching){var a=window.innerHeight-310,o=e.clientY,s=function(e){var t=-1*(e.clientY-o),r=Math.max(Math.min(n+t,a),Le)
i({type:"preview:panel:set:height",payload:{panelHeight:r}})}
document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)}))}})),r.state={isSearching:!1},r}return h()(n,[{key:"handStopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.keyword,n=e.height,r=e.onKeywordChange,i=this.state.isSearching,a=n!==Le
return Object(j.jsxs)(Ie,{className:T()({"is-search-mode":i}),onMouseDown:this.handleDown,children:[Object(j.jsx)("div",{className:T()("header-left",{"is-search-mode":i}),children:i?Object(j.jsx)(Ne.a,{name:"design/back",onClick:this.handleExitSearch}):Object(j.jsx)("p",{children:I18N.pPreviewPanel.layer})}),Object(j.jsx)("div",{className:T()("header-right",{"is-search-mode":i}),children:i?Object(j.jsx)(A.a,{className:"layer-search",ref:this.setSearchBarRef,value:t,
placeholder:I18N.pPreviewPanel.search_widgets,onChange:r}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B.b,{content:I18N.pPreviewPanel.element_search,direction:"up",children:Object(j.jsx)("a",{className:"header-icon",onMouseDown:this.handStopPropagation,onClick:this.handleOpenSearch,children:Object(j.jsx)(P.a,{name:"design/search"})})}),Object(j.jsx)(B.b,{content:a?I18N.pPreviewPanel.fold:I18N.pPreviewPanel.expand,direction:"up",children:Object(j.jsx)("a",{className:T()("header-icon","arrow-icon",{
expanded:a}),onMouseDown:this.handStopPropagation,onClick:this.handleToogleLayerPanel,children:Object(j.jsx)(P.a,{name:"angle_up"})})})]})})]})}}]),n}(S.PureComponent)
w()(Be,"propTypes",{keyword:_.a.string,height:_.a.number,onKeywordChange:_.a.func,dispatch:_.a.func})
var Re=H.a.div.withConfig({displayName:"styles__StyledMaskContainer",componentId:"sc-19bf196-0"
})(["height:100%;display:flex;flex-direction:column;overflow:hidden;.sketch-layer-list{overflow:auto;}li{list-style:none;}.sketch-layer-item{",";background-color:",";.mask-line{width:6px;height:9px;margin-right:3px;}.mask{width:12px;height:12px;margin-right:3px;}&:hover,&.active{.icon{color:inherit;}.arrow-icon{color:",";}}.expander{display:flex;align-items:center;justify-content:center;.arrow-icon{margin-right:0;color:",";&.is-expand{transform:rotate(90deg);}}}.layer-item-icon{width:14px;height:14px;display:flex;align-items:center;justify-content:center;margin-right:8px;position:relative;.group-icon{.main{fill:#298df8;}.secondary{fill:#76b8ff;}}.icon{font-size:14px;&.design-circle-new{width:13px;height:13px;}&.design-rectangle-new,&.design-line-new,&.design-shape-path,&.design-image-new,&.design-symbol{width:12px;height:12px;}&.design-text-new{width:11px;height:11px;}&.design-mask-none{width:7px;height:12px;}}}.mask-slice{position:absolute;width:9px;height:10px;right:0;bottom:0;}}"],G.c,(function(e){
return e.theme.palette.panel_bg}),(function(e){return e.theme.listItem.icon_expander}),(function(e){return e.theme.listItem.icon_expander})),Ue=H.a.div.withConfig({displayName:"styles__StyledComponentPanel",componentId:"sc-19bf196-1"})(["position:relative;overflow:hidden;"]),ze=n(53),He=n(48),Ge=n(27),Ve=function(e){v()(n,e)
var t=y()(n)
function n(e){var r
d()(this,n),r=t.call(this,e),w()(m()(r),"handleKeywordkChange",(function(e){r.setState({keyword:e})})),w()(m()(r),"handleShowlayerInfo",(function(e){(0,r.props.dispatch)({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:e}})})),w()(m()(r),"handleRequestSelectLayer",(function(e){(0,r.props.dispatch)(Object(ze.q)(e))})),w()(m()(r),"handleEnterLayer",(function(e){(0,r.props.dispatch)(Object(ze.n)(e))})),w()(m()(r),"handleUpdateExpandCidSet",(function(e){var t=r.state.expandCidSet,n=new Set(t)
n.has(e)?n.delete(e):n.add(e),Object(Ge.e)(r.expandStatusKey,JSON.stringify(_e()(n.values()))),r.setState({expandCidSet:n})})),w()(m()(r),"handleHeightChange",(function(e){r.props.dispatch({type:"preview:panel:set:height",payload:{panelHeight:e}})}))
var i=r.props.activeScreenCid
r.expandStatusKey="preview-inspect-expand-status-".concat(i)
var a=Object(Ge.b)(r.expandStatusKey)
return r.state={expandCidSet:a?new Set(JSON.parse(a)):new Set,keyword:""},r.sketchAction={onUpdateExpandCidSet:r.handleUpdateExpandCidSet,onShowlayerInfo:r.handleShowlayerInfo,onRequestSelectLayer:r.handleRequestSelectLayer,onEnterLayer:r.handleEnterLayer},r}return h()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sketchLayerList,r=t.activeLayerID,i=t.panelHeight,a=t.dispatch,o=this.state,s=o.expandCidSet,c=o.keyword,l=Object(He.a)(n,c)
return Object(j.jsxs)(Ue,{style:{flexBasis:i},children:[Object(j.jsxs)(Re,{className:"mask-panel",children:[Object(j.jsx)(Be,{keyword:c,height:i,onKeywordChange:this.handleKeywordkChange,dispatch:a}),Object(j.jsx)("div",{className:"sketch-layer-list",children:l.map((function(t){return Object(j.jsx)(De,{layer:t,nodeDepth:0,expandCidSet:s,activeLayerID:r,sketchAction:e.sketchAction},t.value.id)}))})]}),Object(j.jsx)(Oe.a,{placement:"top",value:i,min:36,max:window.innerHeight-310,
onChange:this.handleHeightChange})]})}}]),n}(S.PureComponent)
w()(Ve,"propTypes",{activeScreenCid:_.a.string,activeLayerID:_.a.oneOfType([_.a.number,_.a.string]),sketchLayerList:_.a.array,dispatch:_.a.func,panelHeight:_.a.number})
var We=Object(i.createSelector)([a.g,Se.f,Se.a,function(e){return e.container.common.panelHeight}],(function(e,t,n,r){var i=e.name,a=e.artboard_id
return{activeScreenCid:"".concat(i,"-").concat(a),activeLayerID:n,sketchLayerList:t,panelHeight:r}})),Ye=Object(r.connect)((function(e){return We(e)}))(Ve),qe=H.a.div.withConfig({displayName:"styles__StyledPreviewPanel",componentId:"usbv2l-0"
})(["position:relative;width:240px;height:100%;display:flex;flex-direction:column;font-size:12px;color:#525e71;background-color:",";box-shadow:",";&.is-uichina{box-shadow:none;}header{height:33px;padding-left:10px;padding-right:14px;display:flex;flex-shrink:0;justify-content:space-between;align-items:center;border-bottom:1px solid ",";overflow:hidden;.screen-count{color:",";padding:0 3px;font-weight:600;}.toggle-icon{width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:#8d9ea7;cursor:pointer;.icon{height:12px;}}}.no-slice{display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - 50px);> img{width:93px;margin:-100px 10px 0;}span{color:",";font-size:14px;&:nth-child(2){padding-top:21px;}&:nth-child(3){font-size:12px;padding-top:8px;}&:nth-child(4){padding-top:4px;font-size:12px;}}a{margin-top:31px;text-decoration:none;padding:4px 13px;font-size:12px;color:",";border:1px solid ",";border-radius:3px;background-color:",";&:hover{color:",";box-shadow:0 2px 4px 0 rgba(39,54,78,0.1);background-color:",";}&:active{color:",";background:",";}img{width:14px;display:inline-block;vertical-align:middle;margin-right:5px;}}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.preview.panel.box_shadow}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.panel.no_slice_text.cr}),(function(e){return e.theme.preview.panel.no_slice_btn_border}),(function(e){return e.theme.preview.panel.no_slice_btn_bg}),(function(e){return e.theme.preview.panel.no_slice_text.hover}),(function(e){
return e.theme.preview.panel.no_slice_btn_bg_hover}),(function(e){return e.theme.preview.panel.no_slice_text.active}),(function(e){return e.theme.preview.panel.no_slice_btn_bg_active})),Ze=n(39),Xe=function(e){v()(n,e)
var t=y()(n)
function n(){var e
d()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),w()(m()(e),"handleTabChange",(function(t){e.props.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:t}})})),e}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.screensCount,n=e.showSliceTab,r=e.previewPanelNavIndex,i=e.isHTMLZip,a=Je(t),o=0===r,c=1===r,u=n&&o
return Object(j.jsxs)(qe,{className:T()("preview-panel",{"is-uichina":Object(Ze.l)()||Object(Ze.f)()}),screensCount:t,children:[Object(j.jsx)("header",{children:n?Object(j.jsx)(O.b,{className:"preview-panel-nav",activeIndex:r,onTabChange:this.handleTabChange,children:a.map((function(e){var t=e.key,n=l()(e,["key"])
return Object(j.jsx)(O.a,s()({},n),t)}))}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"screen-count",children:"".concat(I18N.pPreviewPanel.screen,"（").concat(t,"）")})})}),o&&Object(j.jsx)(X,{isHTMLZip:i}),c&&Object(j.jsx)(je,{}),o&&u&&Object(j.jsx)(Ye,{})]})}}]),n}(S.PureComponent)
w()(Xe,"propTypes",{isMinimized:_.a.bool,showSliceTab:_.a.bool,isHTMLZip:_.a.bool,screensCount:_.a.number,previewPanelNavIndex:_.a.number,dispatch:_.a.func})
var Je=Object(ae.i)((function(e){return[{key:"screen",label:"".concat(I18N.pPreviewPanel.pages,"（").concat(e,"）")},{key:"images",label:I18N.pPreviewPanel.images}]})),Ke=Object(i.createSelector)([a.F],(function(e){return e.filter((function(e){return!Object(U.a)(e)})).length})),Qe=Object(i.createSelector)([a.D,a.A,a.b,Ke,function(e){return e.container.common.previewPanelNavIndex}],(function(e,t,n,r,i){var a=e.isHTMLZip
return{layout:t,screensCount:r,showSliceTab:"inspect"===n&&!a,previewPanelNavIndex:i,isHTMLZip:a}}))
t.a=Object(r.connect)((function(e){return Qe(e)}))(Xe)},function(e,t,n){"use strict"
var r=n(4),i=n.n(r),a=n(21),o=n(26),s=n.n(o),c=n(191),l=n.n(c),u=n(399),d=n.n(u),p=n(28),h=n(97),f=n(22),m=n.n(f),g=n(262),v=n.n(g),b=n(173),y=n(54),x=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2hexWithA"),e
var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i)
return t&&t.length>=4?{hex:("#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)).toUpperCase(),o:Number((+t[4]).toFixed(2))}:e},w=function(e){var t=j(e)
if(!t)return Z
var n=_(t)
return n?k(n,H):t},j=function(e){var t=null
return e&&"string"==typeof e?t=e:e&&e.background&&(t=Array.isArray(e.background)?"#".concat(Object(y.hex8StringFromJSON)(Object(b.backgroundJSONFromBase)(e.background).color)):null),t},S=/rgba?\(\s*([\w.+]+)\s*,\s*([\w.+]+)\s*,\s*([\w.+]+)\s*(?:,\s*([\w%.+]+)\s*)?\)/,C=function(e){return Math.min(Math.max(Math.round(e),0),255)},_=function(e){var t,n,r,i,a,o,s,c,l,u,d,p,h=(t=e,r=S.exec(t.toLowerCase())||[],i=m()(r,5),a=i[1],o=void 0===a?"255":a,s=i[2],c=void 0===s?"255":s,l=i[3],u=void 0===l?"255":l,d=i[4],
p=void 0===d?"1":d,o<=1&&c<=1&&u<=1?{R:parseInt(v()(255*o),10),G:parseInt(v()(255*c),10),B:parseInt(v()(255*u),10),A:Number(Number(p).toFixed(2))}:{R:C(Number(o)),G:C(Number(c)),B:C(Number(u)),A:(n=p.endsWith("%")?Number(p.slice(0,-1)):100*Number(p),Math.min(Math.max(Math.round(n),0),100))}),f=h.G,g=h.B,b=h.A
return"rgba(".concat(h.R,", ").concat(f,", ").concat(g,", ").concat(b,")")},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z
return e.includes(H)?H:e.includes(V)?V:e.includes("#")&&9===e.length?G:e.includes("#")?W:!!e.includes(Y)&&Y},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H
if(!e)return Z
var n=O(e)
if(!n)return Z
switch(n){case H:if(t===n)return e
if(t===V)return T(e)
if(t===W)return A(e)
if(t===G)return D(e)
break
case V:if(t===n)return e
if(t===H)return N(e)
if(t===W)return I(e)
if(t===G)return P(e)
break
case W:if(t===n)return e
if(t===H)return F(e)
if(t===V)return E(e)
if(t===G)return L(e)
break
case G:if(t===n)return e
if(t===H)return B(e)
if(t===V)return R(e)
if(t===W)return U(e)
break
case Y:if(t===H)return q
if(t===V)return T(q)
if(t===W)return A(q)
if(t===G)return D(q)
break
default:return e}},M=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2rgbWithA"),e
var t=x(e),n=t.hex,r=t.o
return n?{rgb:E(n),o:r}:Z},E=function(e){if(O(e)!==W)return console.warn("Not hexcolor but use hex2rgb"),e
if(3===(e=e.replace("#","")).length){var t=e.split(""),n=m()(t,3),r=n[0],i=n[1],a=n[2]
e="".concat(r).concat(r).concat(i).concat(i).concat(a).concat(a)}var o=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),c=parseInt(e.substring(4,6),16)
return"rgb(".concat(o,", ").concat(s,", ").concat(c,")")},T=function(e){var t=M(e),n=t.rgb,r=t.o
return n?"".concat(n," ").concat(Math.round(100*r),"%"):e},A=function(e){var t=x(e),n=t.hex,r=t.o
return n?"".concat(n.toUpperCase()," ").concat(Math.round(100*r),"%"):e},D=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2argb"),e
var t=x(e),n=t.hex,r=t.o
if(!n)return e
var i=("0"+parseInt(255*r,10).toString(16)).slice(-2).toUpperCase()
return"#".concat(i).concat(n.slice(1))},N=function(e){return O(e)!==V?(console.warn("Not rgbcolor but use rgb2rgba"),e):"rgba(".concat(e.slice(4,-1),", 1)")},I=function(e){if(O(e)!==V)return console.warn("Not rgbcolor but use rgb2hex"),e
var t=e.match(/^rgb?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i)
if(t&&4===t.length){var n=("0"+parseInt(t[1],10).toString(16)).slice(-2),r=("0"+parseInt(t[2],10).toString(16)).slice(-2),i=("0"+parseInt(t[3],10).toString(16)).slice(-2)
return"#".concat(n).concat(r).concat(i).toUpperCase()}},P=function(e){return O(e)!==V?(console.warn("Not rgbcolor but use rgb2argb"),e):L(I(e))},L=function(e){return O(e)!==W?(console.warn("Not hexcolor but use hex2argb"),e):"#FF".concat(e.slice(1))},F=function(e){return O(e)!==W?(console.warn("Not hexcolor but use hex2rgba"),e):N(E(e))},B=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2rgba"),e
for(var t=[],n=1;n<e.length;n+=2)t.push(e.slice(n,n+2))
var r=t[0],i=t[1],a=t[2],o=t[3]
return i=parseInt(i,16),a=parseInt(a,16),o=parseInt(o,16),r=Number((parseInt(r,16)/255).toString().slice(0,4)),"rgba(".concat(i,", ").concat(a,", ").concat(o,", ").concat(r,")")},R=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2rgbWithA"),e
var t=B(e),n=M(t),r=n.rgb,i=n.o
return r?"".concat(r," ").concat(Math.round(100*i),"%"):e},U=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2hexWithA"),e
var t=B(e),n=x(t),r=n.hex,i=n.o
return r?"".concat(r.toUpperCase()," ").concat(Math.round(100*i),"%"):e},z=function(e){if(!e)return Z
var t=k(e,"rgba"),n=Object(y.hex8JSONFromNumber)(Object(y.hex8NumberFromRgbaCSS)(t)),r=n.R,i=n.G,a=n.B,o=n.A
return r=Object(p.j)(r/255),i=Object(p.j)(i/255),a=Object(p.j)(a/255),"UIColor(red:".concat(r,", green:").concat(i,", blue:").concat(a,", alpha:").concat(o,")")},H="rgba",G="argb",V="rgb",W="hex",Y="transparent",q="rgba(255, 255, 255, 0)",Z="#FFFFFF",X=function(e){return Object(h.a)(e)?(t=e.text,JSON.parse(t).reduce((function(e,t,n,r){return e+(0===n?"":"\n")+t.children.reduce((function(e,t,n){return e+t.text}),"")}),"")):function(e){return!!e&&e.replace(/<[^>]+>/gi,"")}(e.text)
var t},J=function(e){return null===e||isNaN(e)||0===e},K=function(e){var t
return(t=[]).concat.apply(t,s()(e))},Q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.length
return e.reduce((function(e,a,o){var s=a.color,c=a.offset_x,l=void 0===c?0:c,u=a.offset_y,d=void 0===u?0:u,h=a.blur_radius,f=void 0===h?0:h,m=a.spread,g=void 0===m?0:m,v=Object(p.a)(l,n,t),b=Object(p.a)(d,n,t),y=Object(p.a)(f,n,t)
g=Object(p.a)(g,n,t),s=w(s)
var x=o<i-1?", ":"",j=r?"inset ":""
return e.concat("".concat(j).concat(v," ").concat(b," ").concat(y," ").concat(g," ").concat(s).concat(x))}),"")},$=function(e){return e&&e.color_stops?e.color_stops.map((function(e){var t=e.color
return w(t)})):Z},ee=function(e){switch(e){case"swift":return"pt"
case"android":return"dp"
default:return"px"}},te=n(16),ne=n(65),re=n(96),ie=n(7),ae=n.n(ie),oe=n(6),se=n.n(oe),ce=n(3),le=n.n(ce),ue=n(8),de=n.n(ue),pe=n(9),he=n.n(pe),fe=n(2),me=n.n(fe),ge=n(0),ve=n(1),be=n.n(ve),ye=n(5),xe=n.n(ye),we=n(134),je=n.n(we),Se=n(101),Ce=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]
return e=e.toString(),"pt"!==n?e.replace(t,n):r?z(e):e.replace(t,"")},_e={px:{x:"left",y:"top",width:"width",height:"height",lineHeight:"line-height",opacity:"opacity",border:"border",borderRadius:"border-radius",borderColor:"border-color",borderWidth:"border-width",backgroundColor:"background-color",color:"color",fontSize:"font-size",fontFamily:"font-family",fontStyle:"font-style",textAlign:"text-align",shadows:"box-shadow",innerShadows:"inner-shadow"},dp:{x:"left",y:"top",width:"layout_width",
height:"layout_height",border:"border",opacity:"opacity",color:"textColor",fontSize:"textSize",fontFamily:"font-family",fontStyle:"font-style",textAlign:"gravity",backgroundColor:"background",borderRadius:"radius",borderColor:"border-color",lineHeight:"line-height",borderWidth:"border-width",shadows:"box-shadow",innerShadows:"inner-shadow"},pt:{x:"x",y:"y",width:"width",height:"height",opacity:"opacity",border:"border",backgroundColor:"backgroundColor",color:"text-color",textAlign:"alignment",
fontSize:"fontSize",fontFamily:"fontFamily",fontStyle:"font-style",borderRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"border-width",lineHeight:"lineSpacing"}},Oe=n(112),ke=n(122),Me=n(72),Ee=n.n(Me),Te=n(13),Ae=n.n(Te),De=function(e){var t=e.title,n=e.dataValue,r=void 0===n?[]:n,i=e.data,a=void 0===i?[]:i,o=e.text,s=e.color,c=e.className,l=e.colorUnit,u=e.first,d=e.i18n,p=k(s,"rgba"),h=k(s,l),f=r.length>0,m=4===r.length,g=Ae()("panel","".concat(c),{"panel-bottom-8":!f,"panel-item-text":!!o,
"shadow-panel":m})
return s?Object(ge.jsx)(Ne,{title:t,rgbaColor:p,stateColor:h}):Object(ge.jsx)("div",{className:g,"data-value":t,children:o?Object(ge.jsx)(Ee.a,{arrowed:!1,className:"panel-item item-flex-1",content:{click:I18N.pInspect.copied},duration:1e3,children:Object(ge.jsx)("pre",{"data-type":"copy","data-placement":"top","data-clipboard-text":o,className:"panel-item-value text-content",dangerouslySetInnerHTML:{__html:o}})}):Object(ge.jsx)("div",{className:"".concat(a.length<2?"single-panel-box":"mult-panel-box"),
children:(u?a.slice(0,1):a).map((function(e,t){return Object(ge.jsx)(Ee.a,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"panel-item","data-value":r[t],children:Object(ge.jsx)("div",{"data-type":"copy","data-clipboard-text":e,className:"panel-item-value",children:d?I18N.pInspect[e]:e})},t)}))})})}
De.propTypes={title:be.a.string,data:be.a.array,dataValue:be.a.array,text:be.a.string,color:be.a.string,colorUnit:be.a.string,first:be.a.bool,className:be.a.string}
var Ne=function(e){de()(n,e)
var t=he()(n)
function n(e){var r
return ae()(this,n),r=t.call(this,e),me()(le()(r),"handleClick",(function(){r.setState((function(e){return{activeColor:e.colorList[e.index%4],index:e.index+1}}))})),r.state={index:0,activeColor:e.stateColor,colorList:"transparent"===e.rgbaColor?Array(4).fill("transparent"):Ie(e.rgbaColor)||[]},r}return se()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.stateColor
this.setState((function(e){return{activeColor:t}}))}},{key:"render",value:function(){var e=this.state.activeColor,t=this.props,n=t.title,r=t.rgbaColor,i=Ae()("panel","panel-bottom-8"),a=r.split(","),o=a.length,s=o>3&&1!=+a[o-1].replace(")","")
return Object(ge.jsx)("div",{className:i,"data-value":n,children:Object(ge.jsxs)("div",{className:"panel-item panel-item-color item-flex-1",children:[Object(ge.jsx)(Ee.a,{className:"panel-item-value textEllipsis",content:{click:I18N.pInspect.copied},"data-type":"copy",arrowed:!1,"data-clipboard-text":e,children:e}),Object(ge.jsx)("div",{className:"panel-item-color-block-wrap ".concat(s?"panel-item-color-block-imageback-wrap":""),children:Object(ge.jsx)("div",{className:"panel-item-color-block",style:{
backgroundColor:r},onClick:this.handleClick})})]})})}}]),n}(ye.PureComponent),Ie=function(e){if(e)return[k(e,"rgba"),k(e,"rgb"),k(e,"argb"),k(e,"hex")]}
Ne.propTypes={rgbaColor:be.a.string.isRequired,stateColor:be.a.string,title:be.a.string}
var Pe=function(e){var t=e.textStyles,n=void 0===t?[]:t,r=e.hiddSpacing,i=e.ratio,a=e.alignment,o=e.vertical_alignment,s=e.lineHeight,c=e.letterSpacing,l=e.unit,u=e.text,d=(e.o,e.colorUnit),h=e.fontStyle
e.padding
return Object(ge.jsxs)(Nt,{children:[I18N.pInspect.font,(n.length>0&&n.slice(0,1)).map((function(e,t){var n=e.color,r=e.font_size,a=e.location,o=e.font_face,s=e.fontStyle,c=_(n),u=k(c,"rgba"),f=Object(p.a)(r,i,l),m=k(c,d)
return Object(ge.jsxs)("div",{children:[o&&Object(ge.jsx)(De,{title:I18N.pInspect.type_face,data:[o]}),(s||h)&&Object(ge.jsx)(De,{title:I18N.pInspect.font_style,data:[s||h]}),u&&Object(ge.jsx)(Ne,{stateColor:m,title:I18N.pInspect.color,rgbaColor:u}),f&&Object(ge.jsx)(De,{title:I18N.pInspect.font_size,data:[f]})]},"".concat(r).concat(a).concat(t))})),a&&Object(ge.jsx)(De,{title:I18N.pInspect.align,data:[a,o||"auto"],dataValue:[I18N.pInspect.horizontal_align,I18N.pInspect.vertical_align]
}),void 0!==n[0].paraSpacing?Object(ge.jsx)(De,{title:I18N.pInspect.graph,data:[n[0].letterSpacing,n[0].lineHeight,n[0].paraSpacing],dataValue:[I18N.pInspect.letter_spacing,I18N.pInspect.text_line_height,I18N.pInspect.para_spacing]}):s&&Object(ge.jsx)(De,{title:I18N.pInspect.graph,data:[s,c||"auto"],dataValue:[I18N.pInspect.line_height,I18N.pInspect.letter_spacing],first:r}),u&&Object(ge.jsx)(De,{text:u,title:I18N.pInspect.content})]})}
Pe.propTypes={textStyles:be.a.array,fontStyle:be.a.string,alignment:be.a.string,vertical_alignment:be.a.string,hiddSpacing:be.a.bool,letterSpacing:be.a.oneOfType([be.a.string,be.a.bool]),lineHeight:be.a.oneOfType([be.a.string,be.a.bool]),paraSpacing:be.a.number,ratio:be.a.number,unit:be.a.string,text:be.a.string,o:be.a.number,padding:be.a.number,colorUnit:be.a.string}
var Le=function(e){var t=e.adapterLeft,n=e.adapterTop,r=e.adapterWidth,i=e.adapterHeight,a=e.opacity,o=e.radius,s=e.rotate,c=e.mask,l=e.ignore_underlying_mask
return Object(ge.jsxs)(Nt,{children:[I18N.pInspect.basic_attribute,t&&Object(ge.jsx)(De,{title:I18N.pInspect.position,dataValue:[I18N.pInspect._x,I18N.pInspect._y],data:[t,n]}),r&&Object(ge.jsx)(De,{title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[r,i]}),s&&Object(ge.jsx)(De,{title:I18N.pInspect.rotation,data:[s]}),o&&Object(ge.jsx)(De,{title:I18N.pInspect.border_radius,data:[o]}),a&&Object(ge.jsx)(De,{title:I18N.pInspect.opacity,data:[a]}),c&&Object(ge.jsx)(De,{
title:I18N.pInspect.mask,data:[c],i18n:!0}),l&&Object(ge.jsx)(De,{title:I18N.pInspect.underlying_mask,data:["ignore_underlying_mask"],i18n:!0})]})}
Le.propTypes={adapterLeft:be.a.string,adapterHeight:be.a.string,adapterTop:be.a.string,adapterWidth:be.a.string,opacity:be.a.oneOfType([be.a.string,be.a.bool]),rotate:be.a.oneOfType([be.a.string,be.a.bool]),radius:be.a.oneOfType([be.a.string,be.a.number]),mask:be.a.string,ignore_underlying_mask:be.a.bool}
var Fe=n(126),Be=n.n(Fe),Re=n(35),Ue=n(14),ze=function(){return Object(ge.jsx)("div",{children:"Error in GlobalAttributes"})},He=function(e){de()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),me()(le()(e),"handleDelColor",(function(t){var n=Object(p.e)(k(t,"rgba"))
e.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n}}),MB.event("preview","删除了自选颜色")})),me()(le()(e),"handleClick",(function(e){var t=e.target.dataset.trackId
t&&MB.event("preview","标注模式: 复制".concat(t))})),e}return se()(n,[{key:"componentDidCatch",value:function(e,t){return console.log(e,t),Object(ge.jsx)(ze,{})}},{key:"render",value:function(){var e=this.props,t=e.adapterWidth,n=e.adapterHeight,r=e.screenColor,i=void 0===r?[]:r,a=(e.documentColor,e.globalText),o=void 0===a?[]:a,s=(e.globalColor,e.userPickColor),c=void 0===s?[]:s,l=e.colorUnit
return Object(ge.jsxs)("div",{className:Ae()("global-attributes"),onClick:this.handleClick,children:[Object(ge.jsx)("div",{className:Ae()("container","global-layer","layer-size"),children:Object(ge.jsx)(De,{trackId:I18N.pInspect.size,title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[t,n]})}),Object(ge.jsxs)(Nt,{children:[I18N.pInspect.color_title,Object(ge.jsx)(We,{trackId:I18N.pInspect.pick_color,title:I18N.pInspect.pick_color,handleDelColor:this.handleDelColor,
colorBlockMap:c,colorUnit:l,canDel:!0}),Object(ge.jsx)(Ve,{trackId:I18N.pInspect.screen_color,title:I18N.pInspect.screen_color,handleDelColor:this.handleDelColor,colorBlockMap:i,colorUnit:l})]}),o.length>0&&Object(ge.jsxs)(Nt,{children:[I18N.pInspect.font_title,Object(ge.jsx)(Ge,{globalText:o})]})]})}}]),n}(ye.PureComponent)
He.propTypes={adapterWidth:be.a.string.isRequired,adapterHeight:be.a.string.isRequired,colorUnit:be.a.string.isRequired,screenColor:be.a.array,userPickColor:be.a.array,documentColor:be.a.array,globalText:be.a.array,globalColor:be.a.array,dispatch:be.a.func}
var Ge=function(e){return e.globalText.map((function(e){return Object(ge.jsx)(De,{className:"global-font",data:[e]},e)}))}
Ge.propTypes={globalText:be.a.array}
var Ve=function(e){var t=e.trackId,n=e.title,r=e.colorBlockMap,i=e.fromSketch,a=e.handleDelColor,o=e.canDel,s=e.colorUnit,c=e.focusColor
return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("span",{className:"second-title",children:n}),Object(ge.jsx)("div",{className:"panel-row",children:r.length?r.map((function(e,n){var r=Ye(i,e,"rgba"),l=k(r,s)
return Object(ge.jsx)(qe,{canDel:o,trackId:t,handleDelColor:a,color:l,rgbaColor:r,colorUnit:s,focusColor:c},"".concat(n).concat(e))})):Object(ge.jsx)(Ze,{})})]})}
Ve.propTypes={trackId:be.a.string,title:be.a.string.isRequired,colorBlockMap:be.a.array.isRequired,handleDelColor:be.a.func.isRequired,fromSketch:be.a.bool,canDel:be.a.bool,colorUnit:be.a.string,focusColor:be.a.string}
var We=Object(a.connect)((function(e){var t=e.container.previewSetting
return{userPickColor:t.userPickColor,focusColor:t.focusColor}}))(Ve),Ye=function(e,t,n){return k(e?_(t):t,n)},qe=function(e){var t=e.color,n=e.rgbaColor,r=e.colorUnit,i=e.handleDelColor,a=e.canDel,o=e.trackId,s=e.focusColor,c=t===k(s,r)
return Object(ge.jsx)(Be.a,{shouldOpenOnHover:!0,className:Ae()("color-dropdown",{"is-focus":c}),opener:Object(ge.jsx)(Ee.a,{arrowed:!1,"data-type":"copy","data-track-id":o,"data-clipboard-text":t,className:"row-item color-block",style:{background:n},duration:1e3,content:{click:I18N.pInspect.copied}}),inflexible:!0,arrowed:!0,menuX:"left",menuY:"top",menu:Object(ge.jsx)(Xe,{color:t,rgbaColor:n,canDel:a,handleDelColor:i}),menuClassName:Object(Re.trimList)(["palette-dropdown-menu",r])})}
qe.propTypes={color:be.a.string.isRequired,trackId:be.a.string,handleDelColor:be.a.func,colorUnit:be.a.string,rgbaColor:be.a.string,canDel:be.a.bool,focusColor:be.a.string}
var Ze=function(){return Object(ge.jsx)("div",{className:"forbid-color",children:Object(ge.jsx)("div",{className:"transparent"})})},Xe=function(e){de()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),me()(le()(e),"handleClick",(function(t){var n=e.props,r=n.rgbaColor;(0,n.handleDelColor)(r)})),e}return se()(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.canDel
return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("span",{children:t}),n&&Object(ge.jsx)(Ue.b,{type:"dora",name:"trash",className:"trash",onClick:this.handleClick})]})}}]),n}(ye.PureComponent)
Xe.propTypes={color:be.a.string.isRequired,rgbaColor:be.a.string,handleDelColor:be.a.func.isRequired,canDel:be.a.bool}
var Je=n(87),Ke=n.n(Je),Qe=n(131),$e=n.n(Qe),et=n(400),tt=n.n(et),nt=n(401),rt=n.n(nt),it=n(402),at=n.n(it),ot=n(403),st=n.n(ot),ct=n(404),lt=n.n(ct),ut=n(405),dt=n.n(ut)
$e.a.registerLanguage("css",tt.a),$e.a.registerLanguage("less",rt.a),$e.a.registerLanguage("scss",at.a),$e.a.registerLanguage("stylus",st.a),$e.a.registerLanguage("swift",lt.a),$e.a.registerLanguage("xml",dt.a)
var pt={css:"css",less:"less",sass:"scss",stylus:"stylus",swift:"swift",android:"xml"},ht=[{value:"swift",label:"Swift"},{value:"android",label:"Android"},{value:"css",label:"CSS"},{value:"less",label:"Less"},{value:"sass",label:"Sass"},{value:"stylus",label:"Stylus"}],ft=function(e){de()(n,e)
var t=he()(n)
function n(e){var r
return ae()(this,n),r=t.call(this,e),me()(le()(r),"highlight",(function(){r.hljsRef&&r.hljsRef.current.querySelectorAll("pre code").forEach((function(e){$e.a.highlightBlock(e)}))})),me()(le()(r),"updateLanguage",(function(e){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{language:e}})})),me()(le()(r),"renderCode",(function(e){return{px:r.renderCss,dp:r.renderAndroidCode,pt:r.renderIos}[ee(e)]()})),me()(le()(r),"renderIos",(function(){var e=r.props,t=e.code,n=e.language,i=e.text
return Object(ge.jsx)(gt,{code:t,language:n,text:i})})),me()(le()(r),"renderCss",(function(){var e=r.props,t=e.code,n=e.language
return Object(ge.jsx)(mt,{language:n,code:t})})),me()(le()(r),"renderAndroidCode",(function(){var e=r.props,t=e.whichAndView,n=e.code,i=e.text
return Object(ge.jsx)(vt,{code:n,text:i,whichAndView:t})})),r.hljsRef=xe.a.createRef(),r}return se()(n,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(e){e.code===this.props.code&&e.language===this.props.language||this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.theme
return Object(ge.jsxs)(Nt,{children:[Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ke.a,{menuClassName:"CodeBoxSelectMenu",placeholder:" ",unstyled:!0,menuX:"center",optionList:ht,value:t,onChange:this.updateLanguage}),Object(ge.jsx)(Ot,{text:"#code-content"})]}),Object(ge.jsx)("div",{ref:this.hljsRef,className:Ae()("code-content",{"is-dark-theme":"dark"===n}),id:"code-content",children:Object(ge.jsx)("pre",{children:this.renderCode(t)})})]})}}]),n}(ye.PureComponent)
me()(ft,"propTypes",{code:be.a.object,theme:be.a.string,whichAndView:be.a.string,language:be.a.string,text:be.a.string,dispatch:be.a.func})
var mt=function(e){var t=e.language,n=e.code,r=bt(t),i=yt(t),a=wt(n)
return Object.entries(a).map((function(e){var n=m()(e,2),a=n[0],o=n[1]
return Object(ge.jsx)("code",{className:pt[t],children:"".concat(a).concat(i).concat(o).concat(r)},a)}))}
mt.propTypes={code:be.a.object.isRequired,language:be.a.string}
var gt=function(e){var t=e.code,n=e.text
return xt({code:t,text:n}).map((function(e){return Object(ge.jsx)("code",{className:"swift",children:e},e)}))}
gt.propTypes={code:be.a.object.isRequired,text:be.a.string}
var vt=function(e){var t=e.code,n=e.text,r=e.whichAndView
return Object(ge.jsxs)("code",{className:"xml",children:[Object(ge.jsx)("div",{className:"highlight-row",children:"<".concat(r)}),Object.entries(t).map((function(e){var t=m()(e,2),n=t[0],r=t[1]
return Object(ge.jsx)("div",{children:"android:".concat(n,'="').concat(r,'"')},n)})),n.length>0&&Object(ge.jsx)("div",{children:'android:text="'.concat(n,'"')}),Object(ge.jsx)("div",{className:"highlight-row",children:"/>"})]})}
vt.propTypes={code:be.a.object.isRequired,text:be.a.string,whichAndView:be.a.string}
var bt=function(e){switch(e){case"stylus":case"sass":return""
default:return";"}},yt=function(e){switch(e){case"stylus":return" "
default:return": "}},xt=function(e){var t=e.code,n=e.text,r=t.width,i=t.height,a=t.x,o=t.y,s=t.fontFamily,c=t.cornerRadius,l=t.fontSize,u=t.opacity,d=t.borderWidth,p=t.borderColor,h=t.alignment,f=t.backgroundColor,m=n?"textLayer":"layer",g=n?"UILabel":"UIView",v=[]
return v.push("let ".concat(m," = ").concat(g,"(frame: CGRect(x: ").concat(a,", y:").concat(o,", width: ").concat(r,", height: ").concat(i,"))")),f&&v.push("".concat(m,".backgroundColor = ").concat(f)),u&&v.push("".concat(m,".alpha = ").concat(u)),c&&v.push("layer.layer.cornerRadius = ".concat(c)),d&&v.push("layer.layer.borderWidth = ".concat(d)),p&&v.push("layer.layer.borderColor = ".concat(p,".cgColor")),n&&(v.push('let textContent = "'.concat(n,'"')),
v.push('let textString = NSMutableAttributedString(string: textContent, attributes: [\n      NSAttributedStringKey.font: UIFont(name: "'.concat(s,'", size: ').concat(l,")!\n      ])")),v.push("let textRange = NSRange(location:0, length: textString.length)"),v.push("let paragraphStyle = NSMutableParagraphStyle()"),v.push("paragraphStyle.alignment = .".concat(h)),v.push("textString.addAttribute(NSAttributedStringKey.paragraphStyle, value: paragraphStyle, range: textRange)"),
v.push("textLayer.attributedText = textString")),v},wt=function(e){if(e["border-color"]&&e["border-width"]){var t={border:"".concat(e["border-width"]," solid ").concat(e["border-color"])}
return delete e["border-color"],delete e["border-width"],Object.assign(e,t)}return e},jt=n(211),St=n.n(jt),Ct=function(e){de()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),me()(le()(e),"imageRef",(function(t){return e.$image=t})),me()(le()(e),"handleClick",(function(){var t=e.props,n=t.imageSetZip,r=t.name
Object(p.g)({url:n,name:r,type:"zip"})})),me()(le()(e),"handleOnload",(function(){Object(p.b)({image:e.$image,adjust:38}),e.setState({imageLoad:!0})})),me()(le()(e),"handleError",(function(){console.error("image info error")})),me()(le()(e),"debounceClick",St()(e.handleClick,500,{leading:!0})),e}return se()(n,[{key:"render",value:function(){var e=this.props,t=e.imageSet,n=e.name,r=t[0].src,i={background:"url(".concat(_t,") left top"),backgroundSize:"cover"}
return Object(ge.jsxs)(Nt,{children:[Object(ge.jsxs)("div",{className:"slice-title",children:[I18N.pInspect.export,Object(ge.jsx)("span",{onClick:this.debounceClick,children:I18N.pInspect.download_single})]}),Object(ge.jsxs)("div",{className:"slice-panel",children:[Object(ge.jsx)("div",{className:"slice-item-wrap",style:i,children:Object(ge.jsx)("img",{src:r,alt:n,ref:this.imageRef,onLoad:this.handleOnload,onError:this.handleError})}),Object(ge.jsx)("p",{className:"slice-item-name",children:n})]})]})}}]),n
}(ye.PureComponent)
me()(Ct,"propTypes",{imageSetZip:be.a.string,imageSet:be.a.array,name:be.a.string})
var _t="/mb-workspace/images/preview/slice-bg.png",Ot=function(e){de()(n,e)
var t=he()(n)
function n(){var e
return ae()(this,n),(e=t.call(this)).onClipboardEvent=e.onClipboardEvent.bind(le()(e)),e}return se()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.target,r=t.text
this.clipboard=r?new je.a(this.$copyBtn,{text:function(){return Object(p.m)(document.querySelector(r).innerText)}}):new je.a(this.$copyBtn,{target:function(){return document.querySelector(n)}}),this.clipboard.on("success",(function(t){e.error=!1,window.getSelection().removeAllRanges(),e.onClipboardEvent()})),this.clipboard.on("error",(function(t){e.error=!0,e.onClipboardEvent()}))}},{key:"componentWillUnmount",value:function(){this.clipboard.destroy()}},{key:"onClipboardEvent",value:function(){
MB.event("preview","使用了代码复制")}},{key:"render",value:function(){var e=this
return Object(ge.jsx)(Ee.a,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"copyBtn",children:Object(ge.jsx)("span",{ref:function(t){return e.$copyBtn=t},children:I18N.pInspect.copy})})}}]),n}(ye.Component)
me()(Ot,"propTypes",{target:be.a.string,text:be.a.string})
var kt=function(e){var t=e.value,n=e.title
return Object(ge.jsx)("div",{className:"".concat(Ae()("container")," ").concat(Ae()("layer-name")),children:Object(ge.jsx)(De,{title:n||I18N.pInspect.layer_name,data:[t]})})}
kt.propTypes={title:be.a.string,value:be.a.string}
var Mt=function(e){var t=e.colorUnit,n=e.backgroundColorSort
return Object(ge.jsxs)(Nt,{children:[I18N.pInspect.fills,n.map((function(e,n){var r=e.value,i=e.type,a=void 0===i?"color":i,o=e.opacity,s=e.gradient,c=w(r),l=c&&k(c,t)
return"color"===a?Object(ge.jsx)(Ne,{stateColor:l,rgbaColor:c,title:I18N.pInspect.color},n):Object(ge.jsx)(Et,{gradient:s,colorUnit:t,opacity:o},n)}))]})}
Mt.propTypes={backgroundColorSort:be.a.array,colorUnit:be.a.string}
var Et=function(e){var t=e.gradient,n=t.color_stops,r=void 0===n?[]:n,i=(t.from,t.to,t.type),a=e.opacity,o=e.colorUnit
return Object(ge.jsxs)("div",{children:[r.length>0&&r.map((function(e,t){var n=e.color
e.position
return Object(ge.jsx)("div",{children:Object(ge.jsx)(De,{colorUnit:o,color:w(n),title:0===t?I18N.pInspect.gradient:""})},"".concat(n).concat(t))})),a&&Object(ge.jsx)(De,{title:I18N.pInspect.opacity,data:["".concat(100*a,"%")]}),i&&Object(ge.jsx)(De,{data:[i],title:I18N.pInspect.type})]})}
Et.propTypes={gradient:be.a.object.isRequired,opacity:be.a.number,colorUnit:be.a.string.isRequired}
var Tt=function(e){var t=e.shadows,n=void 0===t?[]:t,r=e.isInnerShaow,i=void 0!==r&&r,a=e.unit,o=e.ratio,s=e.colorUnit,c=e.textShadows,l=void 0===c?[]:c
return Object(ge.jsxs)(Nt,{children:[i?I18N.pInspect.inner_shadow:I18N.pInspect.shadow,n.length>0&&Object(ge.jsx)(At,{shadows:n,unit:a,ratio:o,colorUnit:s}),l.length>0&&Object(ge.jsx)(At,{shadows:l,unit:a,ratio:o,colorUnit:s})]})}
Tt.propTypes={shadows:be.a.array,textShadows:be.a.array,isInnerShaow:be.a.bool,unit:be.a.string.isRequired,ratio:be.a.number.isRequired,colorUnit:be.a.string.isRequired}
var At=function(e){var t=e.shadows,n=e.unit,r=e.ratio,i=e.colorUnit
return t.map((function(e,t){var a=e.color,o=e.offset_x,s=void 0===o?0:o,c=e.offset_y,l=void 0===c?0:c,u=e.blur_radius,d=void 0===u?0:u,h=e.spread,f=void 0===h?0:h,m=Object(p.a)(s,r,n),g=Object(p.a)(l,r,n),v=Object(p.a)(d,r,n),b=Object(p.a)(f,r,n)
return Object(ge.jsxs)("div",{className:"shadow-item-gap",children:[a&&Object(ge.jsx)(De,{title:I18N.pInspect.color,color:w(a),colorUnit:i}),Object(ge.jsx)(De,{data:[m,g,v,b],dataValue:[I18N.pInspect._x,I18N.pInspect._y,I18N.pInspect.blur,I18N.pInspect.spread]})]},t)}))}
At.propTypes={shadows:be.a.array,unit:be.a.string,ratio:be.a.number,colorUnit:be.a.string}
var Dt=function(e){var t=e.colorUnit,n=e.borderSort,r=e.unit,i=e.ratio,a=e.isStroke
return Object(ge.jsxs)(Nt,{children:[a?I18N.pInspect.stroke:I18N.pInspect.borders,n.reverse().map((function(e,n){var a=e.position,o=void 0===a?"inside":a,s=e.color,c=e.thickness,l=e.gradient,u=s&&w(s),d=c&&Object(p.a)(c,i,r)
return[s?Object(ge.jsx)(De,{color:u,title:I18N.pInspect.color,colorUnit:t},"".concat(n).concat(u)):Object(ge.jsx)(Et,{gradient:l,colorUnit:t}),o&&Object(ge.jsx)(De,{title:I18N.pInspect.position,data:[o]},"".concat(n).concat(o)),d&&Object(ge.jsx)(De,{title:I18N.pInspect.thickness,data:[d]},"".concat(n).concat(d))]}))]})}
Dt.propTypes={isStroke:be.a.bool,borderSort:be.a.array.isRequired,colorUnit:be.a.string.isRequired,unit:be.a.string.isRequired,ratio:be.a.number.isRequired}
var Nt=function(e){var t=e.children
return Object(ge.jsxs)("section",{children:[Object(ge.jsx)("div",{className:Ae()("header"),children:t[0]}),Object(ge.jsx)("div",{className:Ae()("container"),children:t.slice(1)})]})}
Nt.propTypes={children:be.a.array}
var It=function(e){
var t=e.theme,n=e.layer,r=e.unit,a=e.ratio,o=e.showGlobal,s=e.userPickColor,c=void 0===s?[]:s,l=e.globalColor,u=void 0===l?[]:l,d=e.globalText,h=void 0===d?[]:d,f=e.documentColor,m=void 0===f?[]:f,g=e.screenColor,v=void 0===g?[]:g,b=e.language,y=e.colorUnit,x=e.dispatch,j=n.widget,S=j.src_left,C=j.src_top,_=j.src_width,O=j.src_height,k=j.o,M=j.origin_width,E=j.origin_height,T=j.bd_radius,A=j.line_height,D=j.bg_colors,N=void 0===D?[]:D,I=j.borders,P=void 0===I?[]:I,L=j.i,F=j.padding,B=void 0===F?0:F,R=j.hiddSpacing,U=void 0!==R&&R,z=j.text_styles,H=void 0===z?[]:z,G=j.alignment,V=j.vertical_alignment,W=j.image,Y=j.text,q=j.letter_spacing,Z=j.image_set_zip,K=j.shadows,$=void 0===K?[]:K,te=j.inner_shadows,ne=void 0===te?[]:te,re=j.rotation,ie=j.rect_height,ae=j.rect_width,oe=j.textShadows,se=void 0===oe?[]:oe,ce=j.image_set,le=void 0===ce?[]:ce,ue=j.mask,de=void 0===ue?null:ue,pe=j.ignore_underlying_mask,he=void 0!==pe&&pe,fe=P.length>0,ve=N.length>0,be=!!W,ye=H.length>0&&Y&&X(j).length,we=$.length>0||se.length>0,je=ne.length>0,Se=Z,Me={
left:S,top:C,width:M||_,height:E||O,rectHeight:ie,rectWidth:ae,borderRadius:T,opacity:k,rotation:re,ratio:a,unit:r}
if("line"===j.name||"arrow"===j.name){var Ee=Object(Oe.h)(j,!0),Te=Ee.length,Ae=Ee.thickness,De=Ee.angle
Me.width=Te,Me.height=Ae,Me.rotation=De}var Ne=function(e){var t=e.width,n=e.height,r=e.left,i=e.top,a=e.opacity,o=e.borderRadius,s=e.rotation,c=e.ratio,l=e.unit,u=e.rectHeight,d=e.rectWidth,h=Object(p.a)(r,c,l),f=Object(p.a)(i,c,l),m=Object(p.a)(d||t,c,l),g=Object(p.a)(u||n,c,l),v=o?String(o).split(",").map((function(e){return Object(p.a)(parseInt(e)||0,c,l)})).join(" "):null,b=J(s)?null:"".concat(s,"°")
return{adapterLeft:h,adapterTop:f,adapterWidth:m,adapterHeight:g,radius:v,opacity:J(a)?null:"".concat(a,"%"),rotate:b}}(Me),Ie=Ne.adapterTop,Fe=Ne.adapterLeft,Be=Ne.adapterWidth,Re=Ne.adapterHeight,Ue=Ne.radius,ze=Ne.opacity,Ge=Ne.rotate,Ve=function(e){var t=e.lineHeight,n=e.letterSpacing,r=e.unit,i=e.ratio
return{lineHeight:t=J(t)?null:Object(p.a)(t,i,r),letterSpacing:n=J(n)?null:Object(p.a)(n,i,r)}}({lineHeight:A,letterSpacing:q,unit:r,ratio:a}),We=Ve.lineHeight,Ye=Ve.letterSpacing,qe="number"==typeof L?L?"italic":"normal":void 0,Ze=function(e){var t,n,r,i,a,o,s,c,l,u=e.textStyles,d=e.borders,h=e.background,f=e.shadows,m=e.innerShadows,g=(e.colorUnit,e.unit),v=e.ratio
if(u.length){var b=u[0],y=b.color,x=b.font_size,j=b.font_face
t=y&&w(y),n=Object(p.a)(x,v,g),r=j}if(d.length){var S=d[0],C=S.position,_=void 0===C?"inside":C,O=S.color,k=S.thickness
i=Object(p.a)(k,v,g),o=_,O&&(a=w(O))}return h.length&&(s=w(h[0].value)),f.length&&(c=Q(f,g,v)),m.length&&(l=Q(m,g,v,!0),c="".concat(c,", ").concat(l)),{fontFamily:r,fontSize:n,color:t,borderWidth:i,borderColor:a,borderPosition:o,backgroundColor:s,boxShadow:c}}({textStyles:H,background:N,borders:P,shadows:$,innerShadows:ne,colorUnit:y,ratio:a,unit:r}),Xe=k&&100!==k?k/100:null,Je=function(e){
var t=e.attr,n=e.language,r=e.unit,i=ee(n),a=t.width,o=t.height,s=t.lineHeight,c=t.opacity,l=t.borderRadius,u=t.borderWidth,d=t.borderColor,p=t.backgroundColor,h=t.color,f=t.fontSize,m=t.fontFamily,g=t.fontStyle,v=t.boxShadow,b=t.textAlign,y=t.x,x=t.y,w=y&&me()({},_e[i].x,Ce(y,r,i)),j=x&&me()({},_e[i].y,Ce(x,r,i)),S=a&&me()({},_e[i].width,Ce(a,r,i)),C=o&&me()({},_e[i].height,Ce(o,r,i)),_=s&&me()({},_e[i].lineHeight,Ce(s,r,i)),O=c&&me()({},_e[i].opacity,Ce(c,r,i)),k=l&&me()({},_e[i].borderRadius,Ce(l,r,i)),M=p&&me()({},_e[i].backgroundColor,Ce(p,r,i,!0)),E=h&&me()({},_e[i].color,Ce(h,r,i,!0)),T=f&&me()({},_e[i].fontSize,Ce(f,r,i)),A=m&&me()({},_e[i].fontFamily,Ce(m,r,i)),D=g&&me()({},_e[i].fontStyle,Ce(g,r,i)),N=v&&me()({},_e[i].shadows,v),I=u&&me()({},_e[i].borderWidth,Ce(u,r,i)),P=d&&me()({},_e[i].borderColor,Ce(d,r,i,!0)),L=b&&me()({},_e[i].textAlign,b)
return Object.assign({},w,j,S,C,_,O,k,I,P,M,E,T,D,L,N,A)}({attr:i()({x:Fe,y:Ie,width:Be,height:Re,lineHeight:We,textAlign:G,opacity:Xe,borderRadius:Ue},Ze),language:b,unit:r}),Ke=be?"ImageView":ye?"TextView":"View",Qe=j.kind?j.name:Object(ke.b)(j),$e="line"===j.name||"arrow"===j.name
return o?Object(ge.jsxs)(xe.a.Fragment,{children:[Object(ge.jsx)(kt,{title:I18N.pInspect.screen_name,value:Qe}),Object(ge.jsx)(He,{adapterWidth:Be,adapterHeight:Re,documentColor:m,globalText:h,globalColor:u,screenColor:v,userPickColor:c,colorUnit:y,dispatch:x})]}):Object(ge.jsxs)("div",{children:[Object(ge.jsx)(kt,{value:Qe}),Object(ge.jsx)(Le,{adapterTop:Ie,adapterLeft:Fe,adapterWidth:Be,adapterHeight:Re,rotate:Ge,radius:Ue,opacity:ze,mask:de,ignore_underlying_mask:he,unit:r,colorUnit:y
}),ye&&Object(ge.jsx)(Pe,{textStyles:H,alignment:G,vertical_alignment:V,lineHeight:We,letterSpacing:Ye,ratio:a,unit:r,o:k,padding:B,fontStyle:qe,colorUnit:y,hiddSpacing:U,text:X(j)}),ve&&Object(ge.jsx)(Mt,{backgroundColorSort:N,colorUnit:y}),fe&&Object(ge.jsx)(Dt,{isStroke:$e,borderSort:P,ratio:a,unit:r,colorUnit:y}),we&&Object(ge.jsx)(Tt,{shadows:$,textShadows:se,colorUnit:y,unit:r,ratio:a}),je&&Object(ge.jsx)(Tt,{shadows:ne,colorUnit:y,unit:r,ratio:a,isInnerShaow:!0}),Se&&Object(ge.jsx)(Ct,{imageSetZip:Z,
name:Qe,imageSet:le}),Object(ge.jsx)(ft,{theme:t,code:Je,whichAndView:Ke,language:b,text:X(j)||"",dispatch:x})]})}
It.propTypes={userPickColor:be.a.array,screenColor:be.a.array,documentColor:be.a.array,globalText:be.a.array,globalColor:be.a.array,theme:be.a.string,colorUnit:be.a.string,layer:be.a.object,showGlobal:be.a.bool,unit:be.a.string,ratio:be.a.number,language:be.a.string,dispatch:be.a.func}
var Pt=It,Lt=n(44),Ft=n.n(Lt),Bt=n(11)
function Rt(){
var e=Ft()(["\n  #IBOT_TOOLTIP_ROOT {\n    .content {\n      background-color: ",";\n      color: ",";\n    }\n  }\n\n  #IBOT_DROPDOWN_MENU_ROOT {\n    .palette-dropdown-menu {\n      color: #415058;\n      width: auto;\n\n      &.hex,\n      &.argb {\n        text-transform: uppercase;\n      }\n\n      .content {\n        opacity: 0.9;\n        background-color: ",";\n\n        & > div {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          > span {\n            display: block;\n            width: -moz-max-content;\n            width: -webkit-max-content;\n            width: max-content;\n          }\n        }\n      }\n\n      .trash {\n        margin-left: .5em;\n        font-size: 14px;\n        color: #C8CDD0;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .textEllipsis {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n  #IBOT_SELECT_MENU_ROOT {\n    ul.CodeBoxSelectMenu {\n      background-color: ",";\n      width: 100%;\n      padding: 0 0.5em;\n      font-size: 12px;\n      min-width: 7em;\n\n      .SelectOption {\n        color: ",";\n        justify-content: center;\n        margin: 0.5em 0;\n        border-radius: 2px;\n\n        &:not(.is-active):hover {\n          color: ",";\n          background-color: ",";\n        }\n\n        &.is-active {\n          color: ",";\n          background-color: ",";\n        }\n      }\n    }\n  }\n"])
return Rt=function(){return e},e}var Ut=n.n(Bt).a.div.withConfig({displayName:"styles__StyledLayerPanel",componentId:"sc-1r0zli9-0"
})(["display:flex;flex-direction:column;position:relative;z-index:100;width:260px;height:100%;font-size:12px;background-color:",";transition:left 0.5s ease-in-out;box-shadow:",";color:",";.layerInfo{position:relative;width:inherit;height:100%;overflow-x:hidden;overflow-y:auto;flex:1;& > div{width:inherit;}.Select{color:",";}.global-attributes{.color-dropdown{button{border-radius:2px;transition:box-shadow 0.5s;background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-clip:padding-box;overflow:hidden;}&.is-focus{button{box-shadow:0 0 0 2px #1e98ea;}}}}.layer-name{.panel-item-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}}.header{line-height:32px;height:32px;font-size:12px;color:",";background:",";font-weight:bold;padding:0 20px;}.panel{display:flex;height:22px;line-height:22px;margin-bottom:24px;position:unset;&::before{content:attr(data-value);min-width:62px;max-width:62px;color:",";}&.panel-item-text{height:60px;}&.panel-bottom-8{margin-bottom:8px;}&.shadow-panel{&::before{width:0 !important;}.panel-item{width:50px !important;}}.mult-panel-box{width:151px;display:flex;justify-content:space-between;flex:1;.panel-item{&::after{content:attr(data-value);min-width:62px;max-width:62px;color:",";}}}.single-panel-box{display:flex;flex:1;.panel-item{width:100%;}}.panel-item{width:73px;text-align:center;background:",";border-radius:2px;border:1px solid ",";cursor:pointer;margin-right:10px;&:last-child{margin-right:0;}&.panel-item-color{position:relative;display:flex;justify-content:flex-start;width:138px;.panel-item-value{text-indent:8px;text-align:left;width:138px;}}&.item-flex-1{flex:1;height:auto;}.panel-item-value{width:100%;max-width:158px;line-height:22px;user-select:text;&.text-content{flex:1;padding:0.25em 0.5em;height:100%;line-height:1.5;word-wrap:break-word;overflow-x:hidden;overflow-y:scroll;text-align:left;white-space:pre-wrap;}}.panel-item-color-block-wrap{position:absolute;right:0;top:-1px;width:100%;height:100%;border:inset 1px rgba(0,0,0,0.2);border-radius:2px;cursor:pointer;width:22px;height:22px;}.panel-item-color-block-imageback-wrap{background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:12px 12px;background-position:-1px -1px,-1px 5px,5px -7px,-7px -1px;}.panel-item-color-block{height:100%}}}.container{padding:20px 20px 12px;min-width:230px;&.global-layer{padding-top:0;height:60px;}.second-title{display:flex;margin-bottom:10px;color:",";}.code-content{position:relative;width:100%;overflow:hidden;color:",";font-size:12px;font-family:Menlo,Courier,monospace;line-height:22px;&.is-dark-theme{pre code{color:",";background:",";span{color:inherit;}}}pre{white-space:pre-wrap;}*{user-select:text;font-weight:normal;}}.text-content{flex:1;line-height:18px;word-wrap:break-word;}.global-font{line-height:22px;&::before{min-width:0 !important;}.panel-item-value{max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.panel-row{display:flex;flex-wrap:wrap;.Dropdown{margin:0 6px 6px 0;cursor:pointer;}.Tooltip{display:block;}.row-item.color-block{border:inset 1px rgba(0,0,0,0.2);width:18px;height:18px;border-radius:2px;}}.panel-image{width:100%;height:50px;background-image:svg-load('./background.svg');object-fit:contain;}.image-download{justify-content:space-between;align-items:center;& a{height:19px;font-size:19px;color:#f55d54;}}.download-file-type{display:flex;align-items:center;}.download-file-type-icon{display:inline-block;text-align:center;color:#f55d54;border:1px solid currentColor;width:30px;height:19px;line-height:17px;vertical-align:middle;margin-right:9px;}}.shadow-item-gap{padding-bottom:20px;&:last-child{padding-bottom:0;}}.forbid-color{position:relative;width:18px;height:18px;border:1px solid #d9d9d9;margin-bottom:8px;background:#fff;cursor:not-allowed;overflow:hidden;.transparent{width:200%;position:absolute;left:0;top:0;border-top:1px solid #eb5648;transform:translateY(-50%) rotate(45deg);transform-origin:0 0;}}.slice-title{display:flex;justify-content:space-between;align-items:center;& > span{cursor:pointer;color:var(--copy-btn-color);}}.slice-panel{height:40px;display:flex;justify-content:flex-start;align-items:center;}.slice-item-wrap{min-width:40px;height:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;& > img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}.slice-item-name{margin-left:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.slice-panel-item{height:24px;line-height:24px;margin-bottom:8px;text-indent:8px;color:#415058;background:#F6F7F8;border:1px solid #F2F2F2;border-radius:2px;}.copyBtn{cursor:pointer;float:right;color:",";&:focus{outline:0;}}@keyframes rotate-infinite{from{transform:rotate(0);}to{transform:rotate(720deg);}}}&.is-loading{justify-content:center;align-items:center;.layer-panel-loading{width:60px;height:60px;}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.preview.inspect.layerPanel.box_shadow}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.inspect.layerPanel.header_bg}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.preview.inspect.layerPanel.input_bg}),(function(e){
return e.theme.preview.inspect.layerPanel.border_input}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.preview.inspect.layerPanel.header_bg}),(function(e){return e.theme.preview.comment.layer.copy_button})),zt=Object(Bt.createGlobalStyle)(Rt(),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.text_14.cr}),(function(e){return e.theme.common.bg.white_bg
}),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.text_31.cr}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.hover_bg}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.active_bg})),Ht=n(352),Gt=n(78),Vt=n(100),Wt=function(){return MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave")},Yt=function(e){
Object(Gt.a)(e,"preview")
var t=Object(Vt.b)(location.pathname)
MB.event("zhuge","Download_Icon_click",{Project_id:MB.getRootProject().cid,From:t?"Preview":"Workspace"})},qt=Object(ye.memo)((function(e){var t=e.exportSvgIconList
return Object(ge.jsx)(Ht.a,{isMultiSelect:!1,isLogin:!0,exportSvgIconList:t,onExport:Yt,onCheck:Wt})}))
qt.propTypes={exportSvgIconList:be.a.array}
var Zt=qt,Xt=n(359),Jt=function(){return MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave")},Kt=Object(ye.memo)((function(e){var t=e.exportImageList
return Object(ge.jsx)(Xt.a,{isMultiSelect:!1,isLogin:!0,exportImageList:t,onCheck:Jt})}))
Kt.propTypes={exportImageList:be.a.array}
var Qt=Kt,$t=function(e){de()(n,e)
var t=he()(n)
function n(){var e
return ae()(this,n),e=t.call(this),me()(le()(e),"setScrollLayerRef",(function(t){return e.layerRef=t})),e.getScrollLayerRef=function(t){return e.layerRef=t},e}return se()(n,[{key:"componentDidMount",value:function(){this.clipBoard=new je.a('[data-type="copy"]')}},{key:"componentWillUnmount",value:function(){this.clipBoard.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.screenCid!==this.props.screenCid&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{
isSelectLayer:!1}})}},{key:"componentDidUpdate",value:function(e){e.layer&&this.props.layer&&e.layer.id!==this.props.layer.id&&this.layerRef&&(this.layerRef.scrollTop=0)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.isSelectLayer,r=e.layer,a=e.isHTMLZip,o=!r,s=o?[]:"svg_icon_path"===r.widget.name?[r.widget]:[],c=o?[]:"image_view"===r.widget.name&&!a&&r.widget.image&&!r.widget.clip&&r.widget.image_rect?[r.widget]:[]
return Object(ge.jsxs)(Ut,{className:o?"is-loading":"",children:[o?Object(ge.jsx)(Se.a,{className:"layer-panel-loading"}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("div",{className:"layerInfo",ref:this.setScrollLayerRef,children:Object(ge.jsx)(Pt,i()(i()({},this.props),{},{showGlobal:!n,theme:t}))}),Object(ge.jsx)(Zt,{exportSvgIconList:s}),Object(ge.jsx)(Qt,{exportImageList:c})]}),Object(ge.jsx)(zt,{})]})}}]),n}(ye.PureComponent)
me()($t,"propTypes",{theme:be.a.string,colorUnit:be.a.string.isRequired,isSelectLayer:be.a.bool.isRequired,unit:be.a.string.isRequired,isHTMLZip:be.a.bool,ratio:be.a.number.isRequired,layer:be.a.object,screenCid:be.a.string,dispatch:be.a.func.isRequired})
t.a=Object(a.connect)((function(e){var t=Object(te.c)(e).device,n=Object(te.g)(e).cid,r=Object(te.E)(e),a=Object(ne.a)(e),o=Object(ne.b)(e),s=Object(ne.d)(e),c=Object(ne.c)(e),l=-1===a?n:a,u=Object(re.a)(l,s),d=en(c,o,t),p=Object(te.D)(e).isHTMLZip,h=Object(te.N)(e)
return i()(i()({theme:h,screenCid:n,isHTMLZip:p,layer:u},r),d)}))($t)
var en=Object(p.i)((function(e,t,n){var r=[],i=[],a=[],o=[]
if(e){var c=function(e){var t=[],n=[]
return e.forEach((function(e){var r=e.bg_colors,i=void 0===r?[]:r,a=e.borders,o=void 0===a?[]:a,c=e.text_styles,l=void 0===c?[]:c,u=l.length>0?l[0]:{},d=u.color,p=u.font_face,h=[]
i.length&&(h=i.map((function(e){var t=e.value,n=e.type,r=void 0===n?"color":n,i=e.gradient
return"color"===r?w(t):$(i)}))),h=K(h)
var f=[]
o.length&&(f=o.map((function(e){var t=e.color
return w(t)}))),f=K(f)
var m=d&&k(_(d),"rgba")
!t.includes(m)&&t.push(m),!n.includes(p)&&n.push(p),t=!(t=!t.includes(h)&&[].concat(s()(t),s()(h))).includes(f)&&[].concat(s()(t),s()(f))})),{screenColor:d()(l()(t)).slice(0,14)||[],globalText:l()(n)}}(t)
r=c.screenColor,o=c.globalText,i=e.documentColor,a=e.globalColor}return{screenColor:r,documentColor:i,globalColor:a,globalText:o}}))},function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r=n(22),i=n.n(r),a=n(7),o=n.n(a),s=n(6),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(0),f=n(1),m=n.n(f),g=n(5),v=n(95),b="_1OkMxUtfEdOZ-1ljxmVwnC",y=function(e){u()(n,e)
var t=p()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.isHTMLZip,n=e.project,r=e.shellType,a=function(e,t,n,r){switch(e){case"device":var a=Object(v.c)(t,e)
if(!a.bg)return null
var o=n?"".concat(a.bg,"_land"):a.bg,s=n?[-a.left,-a.top,a.height,a.width]:[-a.top,-a.left,a.width,a.height],c=i()(s,4),l=c[0],u=c[1],d=c[2],p=c[3]
return{top:l,left:u,width:d,height:p,backgroundImage:"url(".concat(r?".":"","/mb-workspace/images/devices/").concat(o,".png)")}
case"default":case"none":return null}}(r,n,e.isLandscape,t),o="device"===r&&null===a?"none":r
return Object(h.jsx)("div",{className:"".concat(b," ").concat(o),style:a})}}]),n}(g.PureComponent)
y.propTypes={isHTMLZip:m.a.bool,project:m.a.object,shellType:m.a.string,isLandscape:m.a.bool}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(13),x=n.n(y),w=n(11),j=n.n(w).a.div.withConfig({displayName:"styles__StyledToggleButton",componentId:"zw6ny4-0"
})(["position:absolute;display:flex;align-items:center;z-index:1;cursor:pointer;top:50%;margin-top:-86px;width:16px;height:172px;opacity:0;transition:opacity 0.2s ease-in-out;&.left{right:100%;transform:rotate(180deg);}&.right{left:100%;}& > .svg-icon{font-size:16px;.path-wapper{fill:",";}.path-arrow{fill:",";}}&.is-minimized{opacity:1;pointer-events:auto;.svg-icon .path-arrow{transform-origin:center;transform:rotate(180deg);}}&:hover{&:not(.is-minimized){opacity:1;pointer-events:auto;}}"],(function(e){
return e.theme.preview.leftPanel.toggleBtn.wrap_icon}),(function(e){return e.theme.common.icon_17.cr})),S=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"handleClick",(function(){var t=e.props,n=t.isMinimized;(0,t.onClick)(!n)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.placement,n=e.isMinimized
return Object(m.jsx)(j,{className:x()("toggle-minimized-button",t,{"is-minimized":n}),onClick:this.handleClick,children:Object(m.jsx)(C,{})})}}]),n}(b.PureComponent)
f()(S,"propTypes",{placement:v.a.oneOf(["left","right"]),isMinimized:v.a.bool,onClick:v.a.func})
var C=function(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon icon",viewBox:"0 0 16 86","aria-hidden":"true",width:"16",height:"86",children:Object(m.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(m.jsx)("path",{className:"path-wapper",d:"M0 0l14.12 8.825A4 4 0 0116 12.217v61.566a4 4 0 01-1.88 3.392L0 86V0z",fill:"#FFF"}),Object(m.jsx)("path",{className:"path-arrow",
d:"M10.758 48.766a.778.778 0 000-1.127L6.996 43l3.762-4.639a.778.778 0 000-1.127.85.85 0 00-1.172 0l-4.344 5.202a.78.78 0 000 1.128l4.344 5.202a.85.85 0 001.172 0z",fill:"#8D9EA7",fillRule:"nonzero"})]})})}},function(e,t,n){"use strict"
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n(14),c=n(11),l=n.n(c).a.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-2xpo5m-0"})(["display:flex;justify-content:center;align-items:center;width:24px;height:24px;color:",";cursor:pointer;&:hover .svg-icon{color:",";}"],(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.common.border.border_light_blue})),u=n(13),d=n.n(u),p=Object(o.memo)((function(e){var t=e.className,n=e.name,i=e.onClick,a=e.onMouseEnter,o=e.onMouseLeave
return Object(r.jsx)(l,{className:d()(t),onClick:i,onMouseEnter:a,onMouseLeave:o,children:Object(r.jsx)(s.a,{name:n})})}))
p.propTypes={name:a.a.string,className:a.a.string,onClick:a.a.func,onMouseEnter:a.a.func,onMouseLeave:a.a.func},p.defaultProps={onMouseEnter:function(){return null},onMouseLeave:function(){return null}}
t.a=p},,function(e,t,n){"use strict"
n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))
var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("div")
n.id="loading",n.innerHTML='\n    <div class="logo"></div>\n    <div class="indicator" style="height: 30%;"></div>\n    <span id="loading-text">'.concat("zh-CN"===e?"正在加载":"Loading","... ").concat(t,"</span>\n  "),document.body.insertBefore(n,document.body.firstChild)},i=function(){var e=document.getElementById("loading")
e&&(e.style.display="none")}},,function(e){
e.exports=JSON.parse('{"// HOSTED_COMMERCIAL_FANGZHENG_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","HOSTED_COMMERCIAL_FANGZHENG_LIST":[{"family":"FZLanTingHei","label":"方正兰亭黑","typeList":["regular"]},{"family":"FZYuan","label":"方正准圆","typeList":["regular"]},{"family":"FZXinSong","label":"方正新书宋","typeList":["regular"]},{"family":"FZKai","label":"方正楷体","typeList":["regular"]},{"family":"FZGongYeHei","label":"方正工业黑","typeList":["regular"]},{"family":"FZHanZhenGuangBiao","label":"方正汉真广标","typeList":["regular"]},{"family":"FZZongYi","label":"方正综艺体","typeList":["regular"]}],"// HOSTED_COMMON_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","HOSTED_COMMON_LIST":[{"family":"PingFangSC","label":"PingFang SC","limitedDevices":["iphone","ipad","apple_watch"],"typeList":["regular","bold"]},{"family":"SourceHanSansSC","label":"思源黑体","typeList":["regular","bold"]},{"family":"SFUIText","label":"SF UI Text","limitedDevices":["iphone","ipad","apple_watch"],"typeList":["regular","bold"]},{"family":"Roboto","label":"Roboto","typeList":["regular","bold"]}],"// WESTERN_COMMON_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","WESTERN_COMMON_LIST":[{"family":"Arial","label":"Arial","typeList":["regular","bold"]},{"family":"Courier New","label":"Courier New","typeList":["regular","bold"]},{"family":"Helvetica","label":"Helvetica","typeList":["regular","light","bold"]},{"family":"Times New Roman","label":"Times New Roman","typeList":["regular","bold"]}]}')
},function(e,t,n){"use strict"
var r=n(701)(n(712))
e.exports=r},function(e,t,n){"use strict"
var r=n(717)("round")
e.exports=r},,,,,function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(69),a=n(188),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/
e.exports=function(e,t){if(i(e))return!1
var n=(0,r.default)(e)
return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.isStringifyEqual=t.isStrictEqual=t.isFunctionThrowAsync=t.isFunctionThrow=t.isOneOf=t.isPromiseAlike=t.isBasicFunction=t.isArrayLength=t.isBasicArray=t.isObjectContain=t.isObjectKey=t.isBasicObject=t.isObjectAlike=t.isArrayBuffer=t.isRegExp=t.isInteger=t.isNumber=t.isBoolean=t.isString=void 0
var i=r(n(10)),a=r(n(15)),o=r(n(22)),s=r(n(23))
t.isString=function(e){return"string"==typeof e}
t.isBoolean=function(e){return"boolean"==typeof e}
t.isNumber=function(e){return"number"==typeof e}
var c=Number.isInteger
t.isInteger=c
t.isRegExp=function(e){return e instanceof RegExp}
t.isArrayBuffer=function(e){return e instanceof ArrayBuffer}
var l=function(e){var t=(0,s.default)(e)
return"object"===t&&null!==e||"function"===t}
t.isObjectAlike=l
var u=function(e){return"object"==(0,s.default)(e)&&null!==e&&!Array.isArray(e)}
t.isBasicObject=u
t.isObjectKey=function(e,t){return u(e)&&Object.prototype.hasOwnProperty.call(e,t)}
t.isObjectContain=function(e,t){return u(e)&&Object.entries(t).every((function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1]
return e[r]===i}))}
var d=Array.isArray
t.isBasicArray=d
t.isArrayLength=function(e,t){return d(e)&&e.length===t}
t.isBasicFunction=function(e){return"function"==typeof e}
t.isPromiseAlike=function(e){return Boolean(e&&"function"==typeof e.then)}
t.isOneOf=function(e,t){return t.includes(e)}
t.isFunctionThrow=function(e){try{return e()&&!1}catch(e){return!0}}
var p=function(){var e=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t()
case 3:if(e.t0=e.sent,!e.t0){e.next=6
break}e.t0=!1
case 6:return e.abrupt("return",e.t0)
case 9:return e.prev=9,e.t1=e.catch(0),e.abrupt("return",!0)
case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))
return function(t){return e.apply(this,arguments)}}()
t.isFunctionThrowAsync=p
t.isStrictEqual=function(e,t){return Object.is(e,t)}
t.isStringifyEqual=function(e,t){return!!Object.is(e,t)||!(!l(e)||!l(t))&&JSON.stringify(e)===JSON.stringify(t)}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(11),i=n.n(r).a.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"z19xe5-0"})(["display:flex;height:100%;.nav-item{position:relative;display:flex;align-items:center;color:",";padding:0 3px;transition:all 0.2s ease-out;cursor:pointer;&:hover{color:",";}&.active{color:",";font-weight:600;}&.disabled{color:",";cursor:not-allowed;}.nav-underline{position:absolute;left:0;bottom:0;width:100%;border-bottom:2px solid ",";}&:not(:first-child){margin-left:10px;}}"],(function(e){
return e.theme.new_slide_nav.text_10.cr}),(function(e){return e.theme.new_slide_nav.text_10.hover}),(function(e){return e.theme.new_slide_nav.text_10.active}),(function(e){return e.theme.new_slide_nav.text_disabled.cr}),(function(e){return e.theme.new_slide_nav.border}))},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createProjectExchange=t.EVENT_SERVER_PATCH=void 0
var i=r(n(26)),a=r(n(10)),o=r(n(22)),s=r(n(15)),c=r(n(24)),l=n(268),u=n(311),d=n(132),p=n(85),h=n(182),f=n(477),m=n(373),g=function(){return console.warn("use dummy socket store"),{getServerTimestamp:d.getLocalTimestamp,joinProjectMeta:function(){},leaveProjectMeta:function(){}}}
t.EVENT_SERVER_PATCH="project-exchange:server-patch"
t.createProjectExchange=function(e){var t,n,r,d=e.getSocketStore,v=void 0===d?g:d,b=e.exchangeEventSource,y=void 0===b?(0,u.createEventTarget)():b,x=new Map,w=new Map,j=new Map,S=function(e){return x.get(w.get(e))},C=function(e){var t,n=new Set(x.keys()),r=(0,c.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value.projectMetaCid
if(!x.has(i))throw new Error("[verifyDumpOrPatchList] unexpected data for: ".concat(i))
n.delete(i)}}catch(e){r.e(e)}finally{r.f()}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
C(e)
var n,r=(0,c.default)(e)
try{for(r.s();!(n=r.n()).done;){var i=n.value,a=x.get(i.projectMetaCid)
void 0===a||a.applyServerPatch(i)}}catch(e){r.e(e)}finally{r.f()}y&&y.dispatchEvent({type:"project-exchange:server-patch",projectPatchList:e,isLocalPatch:t})}
return{exchangeEventSource:y,getProjectStore:function(e){return x.get(e)},getProjectStoreByUpperCid:S,getProjectMetaCidByUpperCid:function(e){return w.get(e)},getUpperCidByProjectMetaCid:function(e){return j.get(e)},getLocalProjectMetaByUpperCid:function(e){return S(e).getLocalProjectMeta()},getLocalScreenGlueListByUpperCid:function(e){return S(e).getLocalScreenGlueList()},getLocalScreenMetaListByUpperCid:function(e){return S(e).getLocalScreenMetaList()},getLocalScreenRuntimeStateListByUpperCid:function(e){
return S(e).getLocalScreenRuntimeStateList()},openProject:(r=(0,s.default)(a.default.mark((function e(t){var n,r,i,s,c,l,u,d,f,m,g,b,S
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectMeta,r=t.screenGlueList,i=void 0===r?[]:r,s=t.screenMetaList,c=void 0===s?[]:s,l=t.projectScreenObjectList,u=void 0===l?[]:l,d=t.screenRuntimeStateList,f=void 0===d?u.map((function(e){return(0,h.toScreenRuntimeState)(e)})):d,n){e.next=3
break}throw new Error("[openProject] expect projectMeta: ".concat(n))
case 3:if(m=n.cid,g=n.type,!x.has(m)){e.next=7
break}throw new Error("[openProject] store ".concat(m," already opened"))
case 7:return(b=(0,p.createProjectStore)({projectMetaCid:m,projectMetaType:g,getServerTimestamp:v().getServerTimestamp})).loadServer({projectMetaList:[n],screenGlueList:i,screenMetaList:c,screenRuntimeStateList:f}),x.set(m,b),v().joinProjectMeta(m),S=function(e){if(void 0!==e.projectMetaChangeMap)for(var t=0,n=Object.entries(e.projectMetaChangeMap);t<n.length;t++){var r=(0,o.default)(n[t],2),i=r[0],a=(0,o.default)(r[1],2),s=a[0],c=a[1]
void 0!==s?(w.set(s.upper_cid,i),j.set(i,s.upper_cid)):(w.delete(c.upper_cid),j.delete(i))}y&&y.dispatchEvent(e)},b.eventSource.addEventListener(p.EVENT_CHANGE_LOAD_LOCAL,S),b.eventSource.addEventListener(p.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP,S),b.eventSource.addEventListener(p.EVENT_CHANGE_RESET_SERVER_WITH_DUMP,S),b.eventSource.addEventListener(p.EVENT_CHANGE_APPLY_SERVER_PATCH,S),b.eventSource.addEventListener(p.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST,S),
b.eventSource.addEventListener(p.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT,S),w.set(n.upper_cid,m),j.set(m,n.upper_cid),e.abrupt("return",b)
case 21:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),closeProject:function(e){var t=x.get(e)
if(t)return v().leaveProjectMeta(e),x.delete(e),t},generateLocalDump:function(){var e,t=[],n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t.push(r.generateLocalDump())}}catch(e){n.e(e)}finally{n.f()}return t},resetLocalWithDump:function(e){C(e)
var t,n=(0,c.default)(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
x.get(r.projectMetaCid).resetLocalWithDump(r)}}catch(e){n.e(e)}finally{n.f()}},resetServerWithDump:function(e){C(e)
var t,n=(0,c.default)(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
x.get(r.projectMetaCid).resetServerWithDump(r)}}catch(e){n.e(e)}finally{n.f()}},previewResetLocalWithDump:function(e){C(e)
var t,n=[],r=(0,c.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value
n.push(x.get(i.projectMetaCid).previewResetLocalWithDump(i))}}catch(e){r.e(e)}finally{r.f()}return n},hasSaveQueue:function(){var e,t=(0,c.default)(x.values())
try{for(t.s();!(e=t.n()).done;){if(e.value.hasLocalPatch())return!0}}catch(e){t.e(e)}finally{t.f()}return!1},countSaveQueue:function(){var e,t=0,n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){t+=e.value.countLocalPatch()}}catch(e){n.e(e)}finally{n.f()}return t},generateSaveQueueAsync:(n=(0,s.default)(a.default.mark((function e(){var t,n,r,i
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e,t=[],n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t.push(r.generateLocalPatch())}}catch(e){n.e(e)}finally{n.f()}return t}(),e.next=3,(0,f.toSaveQueueAsync)({projectPatchList:t,gzipObjectToBufferAsync:m.gzipObjectToBlobAsync})
case 3:return n=e.sent,r=n.jsonSaveQueue,i=n.bufferSaveQueue,e.abrupt("return",{jsonSaveQueue:r,bufferSaveQueue:i,applyServer:function(){return _(t,"local-patch")}})
case 7:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),applySaveQueueAsync:(t=(0,s.default)(a.default.mark((function e(t){var n,r,i,o
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jsonSaveQueue,r=t.bufferSaveQueue,e.next=3,(0,f.fromSaveQueueAsync)({jsonSaveQueue:n,bufferSaveQueue:r,gunzipObjectFromBufferAsync:m.gunzipObjectFromBufferAsync})
case 3:i=e.sent,o=i.projectPatchList,_(o)
case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
return x.forEach((function(t){return t.describe(e)}))},verify:function(){if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(w.keys()).sort(),(0,i.default)(j.values()).sort()))throw new Error("[verify] upperCidMap keys mismatch")
if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(w.values()).sort(),(0,i.default)(j.keys()).sort()))throw new Error("[verify] upperCidMap values mismatch")
x.forEach((function(e){return e.verify()}))}}}},function(e,t,n){"use strict"
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(0),p=n(5),h=n(1),f=n.n(h),m=n(325),g=n(14),v=n(11),b=n.n(v).a.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"d5d4zf-0"
})([".notice-tips{width:100%;height:100%;padding:11px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:4px;p{margin:0;}&.success{color:",";background-color:",";}&.warning{background-color:#ffb236;}&.error{background-color:#eb5648;}&.export-downloading{background-color:#1ac161;p{line-height:22px;}.question-action{vertical-align:middle;margin-left:4px;}.download{color:#155c33;text-decoration:underline;}}.times-icon{display:flex;flex-shrink:0;align-self:baseline;opacity:0.5;cursor:pointer;transition:opacity 0.15s ease-out;&:hover{opacity:1;}}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],(function(e){
return e.theme.common.text_32.cr}),(function(e){return e.theme.common.text_14.cr}),(function(e){return e.theme.toast.success.bg})),y=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.type,r=e.text,i=e.showClose,a=e.onDisappear,o=e.isReactDom
return Object(d.jsx)(b,{children:Object(d.jsx)(m.CSSTransition,{in:t,timeout:2500,classNames:"fade",unmountOnExit:!0,children:Object(d.jsxs)("div",{className:"".concat(["notice-tips"]," ").concat(n),children:[o&&r,!o&&Object(d.jsxs)(p.Fragment,{children:[Object(d.jsx)("p",{dangerouslySetInnerHTML:{__html:r}}),i&&Object(d.jsx)(g.a,{className:"times-icon",name:"times",onClick:a})]})]})})})}}]),n}(p.PureComponent)
y.propTypes={isShow:f.a.bool,showClose:f.a.bool,isReactDom:f.a.bool,text:f.a.oneOfType([f.a.string,f.a.object]),type:f.a.string,onDisappear:f.a.func},y.defaultProps={isShow:!1}
t.a=y},,function(e,t,n){"use strict"
var r,i,a,o,s
r=n(714),i=n(395).utf8,a=n(715),o=n(395).bin,(s=function e(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):i.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString())
for(var s=r.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8)
s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c
var f=e._ff,m=e._gg,g=e._hh,v=e._ii
for(h=0;h<s.length;h+=16){var b=l,y=u,x=d,w=p
l=f(l,u,d,p,s[h+0],7,-680876936),p=f(p,l,u,d,s[h+1],12,-389564586),d=f(d,p,l,u,s[h+2],17,606105819),u=f(u,d,p,l,s[h+3],22,-1044525330),l=f(l,u,d,p,s[h+4],7,-176418897),p=f(p,l,u,d,s[h+5],12,1200080426),d=f(d,p,l,u,s[h+6],17,-1473231341),u=f(u,d,p,l,s[h+7],22,-45705983),l=f(l,u,d,p,s[h+8],7,1770035416),p=f(p,l,u,d,s[h+9],12,-1958414417),d=f(d,p,l,u,s[h+10],17,-42063),u=f(u,d,p,l,s[h+11],22,-1990404162),l=f(l,u,d,p,s[h+12],7,1804603682),p=f(p,l,u,d,s[h+13],12,-40341101),d=f(d,p,l,u,s[h+14],17,-1502002290),
l=m(l,u=f(u,d,p,l,s[h+15],22,1236535329),d,p,s[h+1],5,-165796510),p=m(p,l,u,d,s[h+6],9,-1069501632),d=m(d,p,l,u,s[h+11],14,643717713),u=m(u,d,p,l,s[h+0],20,-373897302),l=m(l,u,d,p,s[h+5],5,-701558691),p=m(p,l,u,d,s[h+10],9,38016083),d=m(d,p,l,u,s[h+15],14,-660478335),u=m(u,d,p,l,s[h+4],20,-405537848),l=m(l,u,d,p,s[h+9],5,568446438),p=m(p,l,u,d,s[h+14],9,-1019803690),d=m(d,p,l,u,s[h+3],14,-187363961),u=m(u,d,p,l,s[h+8],20,1163531501),l=m(l,u,d,p,s[h+13],5,-1444681467),p=m(p,l,u,d,s[h+2],9,-51403784),
d=m(d,p,l,u,s[h+7],14,1735328473),l=g(l,u=m(u,d,p,l,s[h+12],20,-1926607734),d,p,s[h+5],4,-378558),p=g(p,l,u,d,s[h+8],11,-2022574463),d=g(d,p,l,u,s[h+11],16,1839030562),u=g(u,d,p,l,s[h+14],23,-35309556),l=g(l,u,d,p,s[h+1],4,-1530992060),p=g(p,l,u,d,s[h+4],11,1272893353),d=g(d,p,l,u,s[h+7],16,-155497632),u=g(u,d,p,l,s[h+10],23,-1094730640),l=g(l,u,d,p,s[h+13],4,681279174),p=g(p,l,u,d,s[h+0],11,-358537222),d=g(d,p,l,u,s[h+3],16,-722521979),u=g(u,d,p,l,s[h+6],23,76029189),l=g(l,u,d,p,s[h+9],4,-640364487),
p=g(p,l,u,d,s[h+12],11,-421815835),d=g(d,p,l,u,s[h+15],16,530742520),l=v(l,u=g(u,d,p,l,s[h+2],23,-995338651),d,p,s[h+0],6,-198630844),p=v(p,l,u,d,s[h+7],10,1126891415),d=v(d,p,l,u,s[h+14],15,-1416354905),u=v(u,d,p,l,s[h+5],21,-57434055),l=v(l,u,d,p,s[h+12],6,1700485571),p=v(p,l,u,d,s[h+3],10,-1894986606),d=v(d,p,l,u,s[h+10],15,-1051523),u=v(u,d,p,l,s[h+1],21,-2054922799),l=v(l,u,d,p,s[h+8],6,1873313359),p=v(p,l,u,d,s[h+15],10,-30611744),d=v(d,p,l,u,s[h+6],15,-1560198380),u=v(u,d,p,l,s[h+13],21,1309151649),
l=v(l,u,d,p,s[h+4],6,-145523070),p=v(p,l,u,d,s[h+11],10,-1120210379),d=v(d,p,l,u,s[h+2],15,718787259),u=v(u,d,p,l,s[h+9],21,-343485551),l=l+b>>>0,u=u+y>>>0,d=d+x>>>0,p=p+w>>>0}return r.endian([l,u,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o
return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o
return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o
return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o
return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e)
var n=r.wordsToBytes(s(e,t))
return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(339),i=n.n(r),a=n(397),o=n.n(a),s=function(){var e=window.MBLocale
return"zh-CN"!==e&&"zh-Hans-CN"!==e||o()(i.a.settings.strings,{prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到 1 分钟",minute:"大约 1 分钟",minutes:"%d 分钟",hour:"大约 1 小时",hours:"大约 %d 小时",day:"1 天",days:"%d 天",month:"大约 1 个月",months:"%d 月",year:"大约 1 年",years:"%d 年",numbers:[],wordSeparator:""}),{MBLocale:e,parseTimeAgo:function(e){return i()(e)}}}},function(e,t,n){"use strict"
var r=n(11),i=n.n(r)
t.a=i.a.aside.withConfig({displayName:"DraggablePanel",componentId:"sc-1yb86fe-0"
})(["position:absolute;width:",";background:",";border-radius:2px;box-shadow:",";overflow:hidden;border:1px solid ",";& > header{height:36px;padding-left:15px;padding-right:5px;display:flex;justify-content:space-between;align-items:center;background:",';font-size:12px;&[type="draggable"]{cursor:move;}.title{color:',";pointer-events:none;}.header-buttons{display:flex;.icon{width:20px;height:24px;font-size:12px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.times-icon{width:10px;}&:hover{color:",";.times-icon{color:",";}}}}}"],"210px",(function(e){
return e.theme.draggablePanel.bg}),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.draggablePanel.border_color}),(function(e){return e.theme.draggablePanel.header.bg}),(function(e){return e.theme.palette.panel_title_color}),(function(e){return e.theme.common.icon_13.cr}),(function(e){return e.theme.common.icon_13.hover}),(function(e){return e.theme.common.icon_13.hover}))},function(e,t,n){"use strict"
var r=n(89),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.FormLabel=function(e){return(0,o.jsx)(u,(0,a.default)((0,a.default)({},e),{},{isLabel:!0}))},t.default=void 0
var a=i(n(4)),o=n(0),s=r(n(5)),c=i(n(1)),l=n(35)
function u(e){var t=e.className,n=e.name,r=e.children,i=e.type,a=e.isLabel,c=e.isRequired
return s.default.createElement(a?"label":"div",{className:(0,l.trimList)(["FormEntry",t]),type:i},(0,o.jsxs)(s.Fragment,{children:[n&&(0,o.jsxs)("span",{className:"FormEntry-Key key",children:[n,c&&(0,o.jsx)("span",{className:"required-sign",children:"*"})]}),(0,o.jsx)("span",{className:"FormEntry-Val val",children:r})]}))}u.propTypes={className:c.default.string,children:c.default.node,name:c.default.any,type:c.default.string,isLabel:c.default.bool,isRequired:c.default.bool},u.defaultProps={className:"",
isLabel:!1}
var d=u
t.default=d},function(e,t,n){"use strict"
var r=n(21),i=n(22),a=n.n(i),o=n(7),s=n.n(o),c=n(6),l=n.n(c),u=n(3),d=n.n(u),p=n(8),h=n.n(p),f=n(9),m=n.n(f),g=n(2),v=n.n(g),b=n(0),y=n(1),x=n.n(y),w=n(5),j=n.n(w),S=n(37),C=n.n(S),_=n(353),O=n(20),k=n(16),M=n(65),E=n(13),T=n.n(E),A=n(53),D=n(4),N=n.n(D),I=n(60),P=n(86),L=function(e){h()(n,e)
var t=m()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),v()(d()(e),"onMouseEnter",(function(t){var n=e.props,r=n.type,i=n.layer,a=n.hasChildren,o=n.requestEnterLayer
if(i.kind!==P.a.MB_GROUP)if(r===P.a.MB_SCREEN)o(i.cid)
else{if(a)return
t.stopPropagation(),o(i.cid)}})),v()(d()(e),"onMouseLeave",(function(){var t=e.props,n=t.layer,r=t.activeLayerID,i=t.requestEnterLayer;-1!==r&&n.kind!==P.a.MB_GROUP&&i(-1)})),v()(d()(e),"handleClick",(function(t){var n=e.props,r=n.type,i=n.layer,a=n.hasChildren,o=n.requestSelectLayer,s=n.handleShowlayerInfo
if(i.kind!==P.a.MB_GROUP)if(r===P.a.MB_SCREEN)o(i.cid),s(!0)
else{if(a)return
t.stopPropagation(),o(i.cid),s(!0)}})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.layer,r=e.activeLayerID,i=e.enteredLayerID,a=(e.ratio,n.id),o=(n.src_width,n.src_height,n.rotation,a===r),s=a===i||-1===i,c=T()("Layer",{"is-active":o,"is-focus":s}),l={pointerEvents:!["panel","group"].includes(t)?"auto":"none"}
return Object(b.jsx)("div",{"data-lid":a,style:l,className:c,onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}]),n}(w.Component)
v()(L,"propTypes",{layer:x.a.object,type:x.a.string,hasChildren:x.a.bool,requestSelectLayer:x.a.func,requestEnterLayer:x.a.func,handleShowlayerInfo:x.a.func,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),ratio:x.a.number})
var F=function(e){h()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.treeData,r=e.parentSize,i=e.isWidgetInPanel,a=void 0!==i&&i,o=e.treeProps,s=t.cid,c=t.type,l=t.widget,u=t.children
if(!1===l.v)return null
var d=r.minX,p=r.minY,h=r.maxX-d,f=r.maxY-p,m=Object(I.b)(t),g={left:(m.minX-r.minX)/h*100+"%",top:(m.minY-r.minY)/f*100+"%",width:(m.maxX-m.minX)/h*100+"%",height:(m.maxY-m.minY)/f*100+"%",transform:l.ro?"rotate(".concat(l.ro,"deg)"):"",zIndex:l.z},v=u&&u.length>0
return Object(b.jsxs)("div",{"data-id":s,className:"layer-tree-node",style:g,children:[Object(b.jsx)(L,N()({layer:l,type:c,hasChildren:v},o)),v&&u.map((function(e){return Object(b.jsx)(n,{treeData:e,parentSize:m,isWidgetInPanel:a||"panel"===c,treeProps:o},e.cid)}))]})}}]),n}(w.PureComponent)
v()(F,"propTypes",{treeData:x.a.object,parentSize:x.a.object,isWidgetInPanel:x.a.bool,zIndex:x.a.number,treeProps:x.a.object})
var B=n(28),R=function(e){h()(n,e)
var t=m()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),v()(d()(e),"state",{ifHideLayer:!1}),v()(d()(e),"onMouseLeave",(function(){"number"==typeof e.props.activeLayerID?e.props.requestEnterLayer("artboard-base"):e.props.requestEnterLayer(e.props.currentScreen.cid)})),e}return l()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentScreen
var t=e.activeLayerID;-1!==t&&t?this.setState({ifHideLayer:!1}):this.setState({ifHideLayer:!0})}},{key:"render",value:function(){var e=this.props,t=e.isShowLayerList,n=e.currentScreen,r=e.layerTreeData,i=e.ratio,a=e.activeLayerID,o=e.enteredLayerID,s=e.requestEnterLayer,c=e.requestSelectLayer,l=e.handleShowlayerInfo,u=this.state.ifHideLayer,d=U(i,s,a,o,c,l),p={minX:0,minY:0,maxX:n.width,maxY:n.height}
return Object(b.jsx)("div",{className:T()("LayerList",{hiddenLayer:u&&t}),onMouseLeave:this.onMouseLeave,children:Object(b.jsx)(F,{treeData:r,parentSize:p,treeProps:d})})}}]),n}(w.Component)
v()(R,"propTypes",{isShowLayerList:x.a.bool,currentScreen:x.a.object,layerTreeData:x.a.object,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),ratio:x.a.number,requestSelectLayer:x.a.func,requestEnterLayer:x.a.func,handleShowlayerInfo:x.a.func})
var U=Object(B.i)((function(e,t,n,r,i,a){return{ratio:e,requestEnterLayer:t,activeLayerID:n,enteredLayerID:r,requestSelectLayer:i,handleShowlayerInfo:a}})),z=Object(r.connect)((function(e){var t=e.container,n=t.layers,r=n.activeLayerID,i=n.enteredLayerID,a=t.previewSetting,o=a.ratio
return{isShowLayerList:!a.isShowColorPicker,currentScreen:Object(k.g)(e),layerTreeData:Object(M.d)(e),activeLayerID:r,enteredLayerID:i,ratio:o}}),(function(e){return{requestSelectLayer:function(t){e(Object(A.p)(t))},requestEnterLayer:function(t){e(Object(A.o)(t))},handleShowlayerInfo:function(t){e({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:t}})}}}))(R),H=function(e){h()(n,e)
var t=m()(n)
function n(e){var r
s()(this,n),r=t.call(this,e),v()(d()(r),"cancelColorPicker",(function(e){r.imageCanvas.contains(e.target)||r.cancelPickerMode()})),v()(d()(r),"cancelPickerMode",(function(){return r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}})})),v()(d()(r),"renderImageCanvas",(function(){var e=r.imageCanvas.getBoundingClientRect(),t=e.width,n=e.height
r.lastCanvasRect={width:t,height:n},r.imageCanvas.width=t,r.imageCanvas.height=n,r.imageCtx.drawImage(r.image,0,0,t,n)})),v()(d()(r),"calculateCenterPoint",(function(e){var t=r.image.getBoundingClientRect(),n=t.left,i=t.top
r.centerPoint={centerX:Math.floor(e.clientX-n),centerY:Math.floor(e.clientY-i)}})),v()(d()(r),"handleMove",(function(e){r.image.complete&&"hidden"===r.state.visibility&&r.setState({visibility:"visible"}),r.calculateCenterPoint(e)
var t=r.props,n=t.glassHeight,i=t.glassWidth,a=t.scale,o=r.centerPoint,s=o.centerX,c=o.centerY,l=Math.floor(s-i/2),u=Math.floor(c-n/2)
r.setState({glassLeft:l,glassTop:u}),c<0&&r.clearGlassRect(),r.glassCtx.clearRect(0,0,i,n),a<1&&console.warn("Can't make the galss scale less than 1, It will make bed invision"),Z(r.glassCtx,!1),r.glassCtx.drawImage(r.imageCanvas,Math.floor(s-i/2/r.finallyScale),Math.floor(c-n/2/r.finallyScale),Math.floor(i/r.finallyScale),Math.floor(n/r.finallyScale),-5,-5,i,n),q(r.glassCtx,"lightgray",10,10),X(r.glassCtx),J(r.glassCtx,"black",Math.floor((i-10)/2),Math.floor((n-10)/2),10,10),r.getColor()})),
v()(d()(r),"getColor",(function(){var e=r.centerPoint,t=e.centerX,n=e.centerY,i=r.imageCtx.getImageData(t,n,1,1).data,a=G(i),o=a.rgba,s=a.R,c=a.G,l=a.B
r.setState({color:o,R:s,G:c,B:l}),r.color=o})),v()(d()(r),"handleClick",(function(){r.getColor()
var e=r.color,t=Object(B.k)(e),n=t.history,i=t.focusColor
clearTimeout(r.timeoutToken),r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n,focusColor:i}}),r.timeoutToken=setTimeout((function(){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n,focusColor:null}})}),1e3)})),v()(d()(r),"clearGlassRect",(function(){var e=r.props,t=e.glassHeight,n=e.glassWidth
r.glassCtx.clearRect(0,0,n,t),r.setState({visibility:"hidden"})})),v()(d()(r),"handleMouseLeave",(function(){r.clearGlassRect()})),v()(d()(r),"handleLoad",(function(){r.renderImageCanvas()})),v()(d()(r),"handleError",(function(){r.cancelPickerMode()}))
var i=r.props.scale
return r.iamgeContainerRef=function(e){return r.image=e},r.getImageCanvasRef=function(e){return r.imageCanvas=e},r.glassCanvasRef=function(e){return r.glassCanvas=e},r.finallyScale=10*(i<1?1:i),r.state={visibility:"hidden",glassLeft:0,glassTop:0,color:"#fff",R:0,G:0,B:0},r}return l()(n,[{key:"componentDidMount",value:function(){this.imageCtx=this.imageCanvas.getContext("2d"),this.glassCtx=this.glassCanvas.getContext("2d")}},{key:"componentDidCatch",value:function(e){console.log(e),this.cancelPickerMode()}
},{key:"componentDidUpdate",value:function(){if(this.imageCanvas){var e=this.imageCanvas.getBoundingClientRect(),t=e.width,n=e.height,r=this.lastCanvasRect||{width:0,height:0},i=r.width,a=r.height
i===t&&a===n||(this.clearGlassRect(),this.renderImageCanvas())}else this.handleError()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.glassWidth,i=e.glassHeight,a=e.src,o=this.state,s=o.visibility,c=o.glassLeft,l=o.glassTop,u=o.color,d=o.R,p=o.G,h=o.B
return Object(b.jsxs)("div",{className:"mb-picker-container",children:[Object(b.jsx)("img",{ref:this.iamgeContainerRef,className:"mb-picker-image",width:t,height:n,src:a,onLoad:this.handleLoad,onError:this.handleError}),Object(b.jsx)("canvas",{ref:this.getImageCanvasRef,onMouseMove:this.handleMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:{width:t,height:n,opacity:0}}),Object(b.jsxs)("div",{className:"mb-glass",style:{width:r,height:i,visibility:s,left:c,top:l},
children:[Object(b.jsx)("div",{className:"shadow"}),Object(b.jsx)("canvas",{ref:this.glassCanvasRef,width:r,height:i,style:{width:r,height:i}}),Object(b.jsx)("div",{style:{top:i/2+15},className:"mb-glass-text",children:Object(b.jsx)("div",{className:"mb-rgba-color",children:"R:".concat(d," G:").concat(p," B:").concat(h," ").concat(String(W(u).hex).toUpperCase())})})]}),Object(b.jsx)(C.a,{target:document,onClick:this.cancelColorPicker})]})}}]),n}(w.PureComponent)
v()(H,"propTypes",{src:x.a.string,width:x.a.oneOfType([x.a.string,x.a.number]),height:x.a.oneOfType([x.a.string,x.a.number]),glassHeight:x.a.number,glassWidth:x.a.number,scale:x.a.number,dispatch:x.a.func}),v()(H,"defaultProps",{src:"/sec3.png",width:1300,height:769,glassWidth:200,glassHeight:200,scale:1})
var G=function(e){return e[3]=parseFloat(e[3]/255),{rgba:"rgba(".concat(e.join(", "),")"),R:e[0],G:e[1],B:e[2]}},V=/rgba?\((\d+),(\d+),(\d+),?(\d+)?/,W=function(e){var t=V.exec(e.replace(/ /g,"").toLowerCase())
if(!t||!t[3])return e
var n=a()(t,5),r=n[1],i=n[2],o=n[3],s=n[4],c=void 0===s?"1":s
return{hex:"#".concat(Y(r)).concat(Y(i)).concat(Y(o)),o:Number(c)}},Y=function(e){var t=parseInt(e,10).toString(16)
return 1===t.length?"0".concat(t):t},q=function(e,t,n,r){e.strokeStyle=t,e.lineWidth=.5
for(var i=n+5.5;i<e.canvas.width-n;i+=n)e.beginPath(),e.moveTo(i,0),e.lineTo(i,e.canvas.height),e.stroke()
for(var a=r+5.5;a<e.canvas.height-n;a+=r)e.beginPath(),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke()},Z=function(e,t){e.mozImageSmoothingEnabled=t,e.webkitImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t,e.imageSmoothingEnabled=t},X=function(e){e.beginPath(),e.strokeStyle="#8D9EA7",e.lineWidth=8,e.arc(100,100,96,0,2*Math.PI),e.stroke(),e.strokeStyle="#D4D7DC",e.lineWidth=5,e.arc(100,100,96,0,2*Math.PI),e.stroke()},J=function(e,t,n,r,i,a){e.beginPath(),n+=.5,r+=.5,e.strokeStyle=t,e.lineWidth=1,
e.moveTo(n,r),e.lineTo(n+i,r),e.lineTo(n+i,r+a),e.lineTo(n,r+a),e.lineTo(n,r),e.stroke(),e.beginPath(),e.lineWidth=1,e.strokeStyle="white",e.moveTo(n-1,r-1),e.lineTo(n+i+1,r-1),e.lineTo(n+i+1,r+1+a),e.lineTo(n-1,r+a+1),e.lineTo(n-1,r-1),e.stroke()},K=n(118),Q=Object(r.connect)((function(e){var t=Object(k.d)(e),n=Object(k.J)(e),r=n.activeCid,i=n.screenInfoMap[r],a=i.screenMeta,o=i.stateCid,s=ee(t.cid,a.cid,o)
return{scale:1,width:"100%",height:"100%",src:"".concat(s)}}))(H),ee=function(e,t,n){return"".concat("/snapshot.png","?projectMetaCid=").concat(e,"&screenMetaCid=").concat(t,"&screenStateCid=").concat(n,"&zoomMode=").concat(K.SNAPSHOT_ZOOM_MODE.ZOOM_100)},te=n(356),ne=n(11),re=n.n(ne),ie=function(e){var t=e.value,n=e.ratio,r=e.valueRatio,i=e.unit,a=e.style,o=e.className,s=e.customClassName,c=Object(B.a)(t,n)
return Object(b.jsx)("div",{style:a,className:"".concat(o," ").concat(s),children:"".concat(Math.round(c*r)).concat(i)})},ae=re()(ie).withConfig({displayName:"MarkLabel__StyledMarkValue",componentId:"sc-1uuea5u-0"})(["padding:0 5px;color:#fff;background-color:",";border-radius:2px;"],(function(e){return e.theme.preview.comment.layer.select_border}))
ie.propTypes={value:x.a.oneOfType([x.a.string,x.a.number]),ratio:x.a.number,valueRatio:x.a.number,unit:x.a.string,style:x.a.object,className:x.a.string,customClassName:x.a.string}
var oe=ae,se=n(64),ce=re.a.div.withConfig({displayName:"styles__StyledLayerBorder",componentId:"q1u3ez-0"
})(["position:absolute;pointer-events:none;&.select{border:1px solid ",";}&.hover{border:1px solid ",";}.LayerCorner{position:absolute;display:inline-block;width:7px;height:7px;background-color:white;border:1px solid ",";&.left{left:-4px;}&.top{top:-4px;}&.right{right:-4px;}&.bottom{bottom:-4px;}}.layer-width,.layer-height{line-height:1;padding:3px 5px;background-color:",";color:#fff;border-radius:2px;}.layer-width{position:absolute;top:-5px;left:50%;transform:translateX(-50%) translateY(-100%);}.layer-height{position:absolute;top:50%;right:-5px;transform:translateX(100%) translateY(-50%);}.rect_info{position:absolute;display:inline-block;top:calc(100% + 5px);left:50%;transform:translateX(-50%);line-height:1;padding:3px 5px;background-color:#1E98EA;color:#fff;border-radius:2px;white-space:nowrap;}"],(function(e){
return e.theme.preview.comment.layer.select_border}),(function(e){return e.theme.palette.panel_bg_blue_wonder}),(function(e){return e.theme.preview.comment.layer.select_border}),(function(e){return e.theme.preview.comment.layer.select_border})),le=function(e){var t=e.type,n=e.rect,r=e.screenWidth,i=e.screenHeight,a=e.showLayerInfo,o=e.layer,s=e.unit,c=e.ratio,l=de(n,r,i),u=l.top,d=l.left,p=l.width,h=l.height
return Object(b.jsx)(ce,{className:t,style:{top:u,left:d,width:p,height:h},children:"select"===t&&a&&ue(o,c,s)})}
le.propTypes={type:x.a.string,rect:x.a.object,screenWidth:x.a.number,screenHeight:x.a.number,showLayerInfo:x.a.bool,layer:x.a.object,unit:x.a.string,ratio:x.a.number}
var ue=function(e,t,n){var r=e.src_width,i=e.src_height,a=e.rotation,o=void 0===a?0:a,s=e.kind?r:r*Object(se.b)(o)+i*Object(se.e)(o),c=e.kind?i:r*Object(se.e)(o)+i*Object(se.b)(o),l=Object(B.a)(s,t),u=Object(B.a)(c,t),d=e.kind?Object(B.a)(e.origin_width||r,t):Object(B.a)(r,t),p=e.kind?Object(B.a)(e.origin_height||i,t):Object(B.a)(i,t)
return Object(b.jsxs)(j.a.Fragment,{children:[Object(b.jsx)("span",{className:"LayerCorner left top"}),Object(b.jsx)("span",{className:"LayerCorner left bottom"}),Object(b.jsx)("span",{className:"LayerCorner right top"}),Object(b.jsx)("span",{className:"LayerCorner right bottom"}),Object(b.jsx)("span",{className:"layer-width",children:"".concat(l).concat(n)}),Object(b.jsx)("span",{className:"layer-height",children:"".concat(u).concat(n)}),0!==o&&Object(b.jsxs)("span",{className:"rect_info",
children:["".concat(d," x ").concat(p),"  ","".concat(o,"°")]})]})},de=function(e,t,n){return{top:e.top/n*100+"%",left:e.left/t*100+"%",width:e.width/t*100+"%",height:e.height/n*100+"%"}},pe=n(96),he=function(e){h()(n,e)
var t=m()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),v()(d()(e),"renderValue",(function(t){var n=e.props,r=n.ratio,i=n.unit,a=n.activeLayerID,o=n.layerTreeData,s=Object(pe.a)(a,o).widget,c=s.src_width,l=s.width,u=c?c/l:1
return Object(b.jsx)(oe,N()({ratio:r,unit:i,valueRatio:u},t))})),e}return l()(n,[{key:"componentDidMount",value:function(){$(".ppanel").scrollLeft(0).scrollTop(0)}},{key:"render",value:function(){var e=this.props,t=e.activeLayerID,n=e.enteredLayerID,r=e.layerTreeData,i=e.screen,a=e.unit,o=e.ratio,s=e.isOutsideVisible,c=e.isWonderShare,l=i.width,u=i.height,d=Object(pe.a)(t,r),p=Object(pe.a)(n,r),h=d&&p&&n!==t,f=!!d,m=p&&n!==t
if(!(h||f||m))return null
var g=fe(t,r,s),v=fe(n,r,s)
return Object(b.jsxs)(j.a.Fragment,{children:[h&&Object(b.jsx)(te.a,{baseRect:g,refRect:v,screen:i,renderValue:this.renderValue,theme:"preview",isWonderShare:c}),f&&g&&Object(b.jsx)(le,{type:"select",rect:g,screenWidth:l,screenHeight:u,showLayerInfo:!h,layer:d.widget,unit:a,ratio:o}),m&&v&&Object(b.jsx)(le,{type:"hover",rect:v,screenWidth:l,screenHeight:u})]})}}]),n}(w.PureComponent)
v()(he,"propTypes",{ratio:x.a.number,unit:x.a.string,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),layerTreeData:x.a.object,screen:x.a.object,isOutsideVisible:x.a.bool,isWonderShare:x.a.bool})
var fe=function(e,t,n){if(!Object(pe.a)(e,t))return null
var r=Object(pe.c)(e,t)
if(n)return r
var i=t.widget,a={top:0,left:0,width:i.width,height:i.height}
return me(r,a)},me=function(e,t){var n=ge(e),r=ge(t),i=Math.max(n.minX,r.minX),a=Math.max(n.minY,r.minY)
return{top:a,left:i,width:Math.min(n.maxX,r.maxX)-i,height:Math.min(n.maxY,r.maxY)-a}},ge=function(e){var t=e.top,n=e.left
return{minX:n,minY:t,maxX:n+e.width,maxY:t+e.height}},ve=Object(r.connect)((function(e){var t=e.container,n=t.layers,r=n.activeLayerID,i=n.enteredLayerID,a=t.previewSetting,o=a.ratio,s=a.unit,c=Object(k.M)(e),l=Object(k.g)(e)
return{activeLayerID:r,enteredLayerID:i,layerTreeData:Object(M.d)(e),ratio:o,unit:s,screen:l,isOutsideVisible:"outside_artboard"===c,isWonderShare:Object(k.i)(e).isWonderShare}}))(he),be=re.a.div.withConfig({displayName:"styles__StyledArtboard",componentId:"sc-17up13-0"})(["position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;&.is-shadow{box-shadow:0 0 3px 0 rgba(0,0,0,0.1);}&.is-active{z-index:200;pointer-events:auto;}"]),ye=function(e){h()(n,e)
var t=m()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),v()(d()(e),"checkIfNeedHideLayer",(function(t){var n=e.props,r=n.isSpaceDown,i=n.isSelectLayer,a=n.dispatch
if(i){var o=t.target
r||!o.contains(document.getElementById("simulator-container"))&&!document.getElementById("preview-setting-list").contains(o)||(a(Object(A.q)(-1)),a({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}}))}})),e}return l()(n,[{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,i=r.runnerState,a=r.dispatch
i!==e.runnerState&&(a(Object(A.k)(-1)),a(Object(A.j)(-1)))}},{key:"render",value:function(){var e=this.props,t=e.isPreview,n=e.isInspect,r=e.isShowColorPicker,i=e.isFetching,a=e.error
if(i||a)return null
var o=T()("ui-layers",{"is-shadow":!t,"is-active":n}),s=n&&!r
return Object(b.jsxs)(be,{className:o,children:[r&&Object(b.jsx)(Q,{}),s&&Object(b.jsxs)("div",{children:[Object(b.jsx)(z,{}),Object(b.jsx)(ve,{}),Object(b.jsx)(C.a,{target:document,onClick:this.checkIfNeedHideLayer})]})]})}}]),n}(w.PureComponent)
v()(ye,"propTypes",{isPreview:x.a.bool,isInspect:x.a.bool,isShowColorPicker:x.a.bool,runnerState:x.a.object,isFetching:x.a.bool,isSpaceDown:x.a.bool,isSelectLayer:x.a.bool,error:x.a.string,dispatch:x.a.func})
var xe=Object(O.createSelector)([k.C,k.J,k.t,function(e){return e.container.common.keyFlags.isSpaceDown},function(e){return e.container.previewSetting.isSelectLayer},M.c],(function(e,t,n,r,i,a){var o=e.isPreview,s=e.isInspect,c=a.isFetching,l=void 0===c||c,u=a.error
return{isPreview:o,isInspect:s,isShowColorPicker:n,runnerState:t,isSpaceDown:r,isSelectLayer:i,isFetching:l,error:void 0===u?"":u}})),we=Object(r.connect)((function(e){return xe(e)}))(ye),je=n(94),Se=n(254),Ce=n(153),_e=n(26),Oe=n.n(_e),ke=n(43),Me=n(58),Ee=n(42),Te=function(e){h()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.itemList,r=e.scrollTop,i=[],a={}
n.forEach((function(e){"sticky"===e.name&&i.push(e),"link"===e.name&&(a[e.cid]=e)}))
var o=i.map((function(e){return N()(N()({},e),{},{links:Object(Ee.i)(a,e.link_cids)})}))
return Object(b.jsx)("div",{id:"sticky-container","data-cid":t.cid,className:T()({pcanvas:i.length>0}),onClick:this.handleClick,children:Object(b.jsx)("div",{style:{marginTop:r||0},children:o.map((function(e){return Object(b.jsx)(De,{screenMeta:t,sticky:e},e.cid)}))})})}}]),n}(w.PureComponent)
v()(Te,"propTypes",{screenMeta:x.a.object,scrollTop:x.a.number,itemList:x.a.array})
var Ae={isPreview:!0,isSnapshot:!1,isHTMLZip:!1},De=function(e){h()(n,e)
var t=m()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),v()(d()(e),"handleClick",(function(t){e.props.sticky.link_cids&&MB.runner.eventHandler.prepareJump(t,["tap","click"])})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.sticky,r=Object(Me.g)(n,{links:n.links,isPreview:!0}),i=n.top,a=n.left,o=Object(Me.h)(n,{top:i,left:a},{screen:t,isPreview:!0})
return Object(b.jsx)("div",{"data-cid":n.cid,"data-link_cid":n.link_cids,id:"widget".concat(n.cid,"p"),className:r,style:o,onClick:this.handleClick,children:Object(ke.N)(n,Ae)},n.cid)}}]),n}(w.PureComponent)
v()(De,"propTypes",{screenMeta:x.a.object,sticky:x.a.object})
var Ne=Object(w.memo)((function(e){var t=e.screenMeta,n=e.screenInfo,r=e.scrollTop
if(!t||!n)return null
var i=n.stateCid,o=n.screenRuntimeState.itemListMap[i],s=[]
return o.forEach((function(e){if("panel"===e.name){var t=n.panelInfoMap[e.cid],r=t.currentScreenStateCid,i=t.currentScreenMetaCid
if(!t)return
var o=[],c=t.screenDataMap[i]
if(!c)return
if(!(o=c.screenRuntimeState.itemListMap[r]))return
s=[].concat(Oe()(s),Oe()(o.filter((function(e){return"sticky"===e.name})).map((function(t){var n=t.point||[0,0],r=a()(n,2),i=r[0],o=r[1]
return N()(N()({},t),{},{top:e.top+t.top,left:e.left+t.left,point:t.point?[e.left+i,e.top+o]:void 0})}))))}})),t&&Object(b.jsx)(Te,{screenMeta:t,itemList:[].concat(Oe()(o),Oe()(s)),scrollTop:r},t.cid)}))
Ne.propTypes={screenMeta:x.a.object,screenInfo:x.a.object,scrollTop:x.a.number}
var Ie=Object(r.connect)((function(e){var t=Object(k.g)(e),n=Object(k.J)(e),r=n.screenInfoMap,i=n.screenScrollTopMap
return{screenMeta:Object(k.L)(e)[t.cid],screenInfo:r[t.cid],scrollTop:i[t.cid]}}))(Ne),Pe=n(95),Le=function(e){h()(n,e)
var t=m()(n)
function n(){var e
return s()(this,n),e=t.call(this),v()(d()(e),"handleKeyDown",(function(t){var n=e.props.dispatch,r=t.target.matches("input")||t.target.matches("textarea")
32===t.keyCode&&!r&&(t.preventDefault(),n({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))})),v()(d()(e),"handleKeyUp",(function(){e.props.dispatch({type:"preview:reset:key:flags"})})),v()(d()(e),"handleMouseDown",(function(t){var n=e.props.isSpaceDown;(1===t.button||n)&&e.initDraggingCanvas(t)})),v()(d()(e),"handleScaleChange",(function(t){e.props.dispatch({type:"entry:preview:set:scale",payload:{scale:t}})})),v()(d()(e),"handleOffsetChange",(function(t,n){e.props.dispatch({
type:"entry:preview:set:canvas:offset",payload:{offset:{x:t,y:n}}})})),e.state={isDraggingCanvas:!1},e}return l()(n,[{key:"initDraggingCanvas",value:function(e){var t=this,n=e.clientX,r=e.clientY,i=this.props.canvasOffset,a=i.x,o=i.y
this.setState({isDraggingCanvas:!0})
var s=function(e){var i={x:a+(e.clientX-n),y:o+(e.clientY-r)}
t.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:i}})}
document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(){t.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)}))}},{key:"render",value:function(){
var e,t,n=this.props,r=n.scale,i=n.canvasOffset,o=n.project,s=n.screenGlue,c=n.screen,l=n.isSpaceDown,u=n.isStickyShow,d=n.simulatorType,p=n.isShowShell,h=n.isLayerActive,f=n.isCommentActive,m=n.isFullScreenMode,g=n.isPreviewActive,v=n.isHTMLZip,y=this.state.isDraggingCanvas,x=i.x,w=i.y,j=h||f,S=j||!p||"device"!==d?"none":Object(Pe.a)(o),O=!j&&"project-main"===s.type&&(o.width===c.width&&c.height>=o.height||o.height===c.width&&c.height>=o.width),k="landscape"===c.orientation||c.width===o.height
if(O){var M=k?[s.height,s.width]:[c.width,s.height],E=a()(M,2)
e=E[0],t=E[1]}else{var A=[c.width,Math.min(s.height,c.height)]
e=A[0],t=A[1]}var D={width:e,height:t,minWidth:e,minHeight:t,transform:"matrix(1, 0, 0, 1, ".concat(x,", ").concat(w,")")},N={transform:"scale(".concat(r/100,")")},I={width:"".concat(r,"%"),height:"".concat(r,"%")},P={width:c.width*r/100,height:c.height*r/100},L=T()({"wait-drag":l||y,"is-immersive":j,"is-comment-active":f,"is-screen-expanded":j||"device"!==d,"is-fullscreen-mode":m})
return Object(b.jsxs)(_.a,{x:x,y:w,scale:r,id:"simulator-container",className:L,isDisabled:y,onMouseDown:this.handleMouseDown,onScaleChange:this.handleScaleChange,onOffsetChange:this.handleOffsetChange,children:[function(e,t,n){return Object(b.jsxs)("div",{className:"screen-viewport",style:D,children:[Object(b.jsxs)("div",{className:"zoom-area",style:N,children:[Object(b.jsx)(Ce.a,{isShellShow:O}),O&&Object(b.jsx)(Se.a,{isHTMLZip:v,project:o,shellType:S,isLandscape:k}),u&&Object(b.jsx)(Ie,{})]
}),Object(b.jsx)("div",{className:"no-zoom-area-wrapper",style:I,children:Object(b.jsxs)("div",{className:"no-zoom-area",style:g&&"device"===d?{}:P,children:[Object(b.jsx)(we,{}),Object(b.jsx)("div",{id:"ui-comment-marker-panel",children:Object(b.jsx)(je.b,{isActive:f,scale:n/100})})]})})]},"1")},Object(b.jsx)(C.a,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),n}(w.PureComponent)
v()(Le,"propTypes",{scale:x.a.number,canvasOffset:x.a.object,screen:x.a.object,project:x.a.object,screenGlue:x.a.object,simulatorType:x.a.string,isStickyShow:x.a.bool,isShowShell:x.a.bool,isPreviewActive:x.a.bool,isSpaceDown:x.a.bool,isLayerActive:x.a.bool,isCommentActive:x.a.bool,isFullScreenMode:x.a.bool,isHTMLZip:x.a.bool,dispatch:x.a.func})
t.a=Object(r.connect)((function(e){var t=e.container.common,n=t.offset,r=t.keyFlags.isSpaceDown,i=Object(k.D)(e).isHTMLZip,a=Object(k.f)(e),o=Object(k.g)(e),s=Object(k.c)(e),c=Object(k.h)(e),l=Object(k.x)(e),u=Object(k.m)(e),d=Object(k.C)(e),p=d.isPreview,h=d.isInspect,f=d.isComment
return{scale:a,canvasOffset:n,screen:o,project:s,screenGlue:c,simulatorType:Object(k.M)(e),isSpaceDown:r,isStickyShow:l,isPreviewActive:p,isLayerActive:h,isCommentActive:f,isFullScreenMode:u,isHTMLZip:i,isShowShell:Object(k.v)(e)}}))(Le)},function(e,t,n){"use strict"
var r=n(21),i=n(20),a=n(16),o=n(52),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),h=n(8),f=n.n(h),m=n(9),g=n.n(m),v=n(2),b=n.n(v),y=n(0),x=n(1),w=n.n(x),j=n(5),S=n(13),C=n.n(S),_=n(215),O=n(4),k=n.n(O),M=n(72),E=n.n(M),T=n(209),A=n.n(T),D=n(35),N=n(40),I=n.n(N),P=n(87),L=n.n(P),F=function(e){f()(n,e)
var t=g()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.menuClassName,r=I()(e,["className","menuClassName"])
return Object(y.jsx)(L.a,k()(k()({className:Object(D.trimList)(["ToolbarSelect",t]),menuClassName:Object(D.trimList)(["ToolbarSelectMenu",n])},r),{},{placeholder:" ",unstyled:!0,size:"small",menuX:"center"}))}}]),n}(j.PureComponent)
b()(F,"propTypes",{className:w.a.string,menuClassName:w.a.string})
var B=n(14),R=n(44),U=n.n(R),z=n(11),H=n.n(z)
function G(){
var e=U()(["\n  #IBOT_SELECT_MENU_ROOT {\n    .PreviewSubToolbarSelectMenu {\n      margin-left: -10px;\n      background-color: ",";\n\n      .SelectOption {\n        color: ",";\n\n        &:not(.is-active):hover {\n          color: ",";\n          background-color: ",";\n        }\n\n        &.is-active {\n          color: ",";\n          background-color: ",";\n        }\n      }\n    }\n\n    .PreviewSubToolbarSelectMenu.scale-select-menu {\n      margin-left: -5px;\n      width: 80px;\n\n      li:nth-last-child(2) {\n        display: none;\n      }\n\n      li:last-child {\n        padding: 0.25em 0;\n        line-height: 1.5;\n\n        &:hover { background-color: transparent; }\n\n        > .Ellipsis { padding: 0; }\n\n        .InputNumber {\n          width: 100%;\n          height: 30px;\n\n          input {\n            padding: 0 1em;\n            text-align: center;\n            background-color: transparent;\n\n            &:focus::placeholder { color: transparent; }\n          }\n        }\n      }\n    }\n  }\n"])
return G=function(){return e},e}var V=H.a.div.withConfig({displayName:"styles__StyledSubToolbar",componentId:"sc-16c0zvo-0"
})(["&{position:absolute;z-index:10;top:14px;left:50%;transform:translateX(-50%);display:flex;justify-content:center;align-items:center;min-width:263px;height:36px;background:",";border-radius:2px;box-shadow:0 2px 10px 0 rgba(82,94,113,0.1);pointer-events:auto;}.mode{display:flex;min-width:50px;justify-content:space-between;align-items:center;margin-left:20px;color:",";}.param{display:flex;flex:1;justify-content:center;align-items:center;margin:0 10px 0 20px;.Select{color:",";}}.dora{margin-top:-1px;font-size:15px;cursor:pointer;}.cursor.is-active{color:",";}.picker.is-active{color:",";}.ToolbarSelect{min-width:auto !important;&.color-unit{width:60px;button{text-align:center;}}&.device-unit{width:62px;button{text-align:center;}}&.em-pixel{width:52px;button{text-align:center;}}.caret{position:relative;margin:0 10px !important;color:#C8CDD0;}&:not(:last-child)::after{content:'';width:1px;height:12px;display:block;margin-right:10px;background-color:",";}}.px-ratio{color:",";margin-right:10px;}"],(function(e){
return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.icon_17.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.comment.layer.icon_active}),(function(e){return e.theme.preview.inspect.subToolbar.picker}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_13.cr})),W=Object(z.createGlobalStyle)(G(),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.text_31.cr}),(function(e){
return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.hover_bg}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.active_bg})),Y=function(e){f()(n,e)
var t=g()(n)
function n(e){var r
return c()(this,n),r=t.call(this,e),b()(p()(r),"updateSubToolbar",(function(e){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:k()({},e)})})),b()(p()(r),"pickColor",(function(e){e.nativeEvent.stopImmediatePropagation(),MB.event("preview","在标注模式中使用了自定义取色"),r.updateSubToolbar({isShowColorPicker:!0,showLayerList:!1,isSelectLayer:!1})})),b()(p()(r),"updateDeviceUnit",(function(e){var t=r.props.emPixel,n=ee(e,t)
r.updateSubToolbar(n?{unit:e,ratio:n}:{unit:e}),MB.event("preview","在".concat(e,"下切换倍率为").concat(n))})),b()(p()(r),"updateColorUnit",(function(e){r.updateSubToolbar({colorUnit:e})})),b()(p()(r),"updateEmPixel",(function(e){var t=Number(e)
r.updateSubToolbar({emPixel:t,ratio:t}),r.setState({customEmPixel:""})
var n=r.props.unit
MB.event("preview","在".concat(n,"下切换倍率为").concat(t))})),b()(p()(r),"onTypingEmPixel",(function(e){if(e){r.setState({customEmPixel:e}),r.updateSubToolbar({emPixel:e,ratio:e})
var t=r.props.unit
MB.event("preview","在".concat(t,"在设置自定义倍率").concat(e))}})),b()(p()(r),"handleMobileChange",(function(e){var t=r.props.unit
r.updateSubToolbar({ratio:Number(e)}),MB.event("preview","在".concat(t,"下切换倍率为").concat(e))})),r.state={showLogin:!1,customEmPixel:""},r}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.unit
this.props.unit!==t&&t===q&&this.updateSubToolbar({ratio:1})}},{key:"render",value:function(){var e=this.props,t=e.unit,n=e.emPixel,r=e.ratio,i=e.isShowColorPicker,a=e.colorUnit,o=e.isLogin,s=this.state.customEmPixel,c=t===X||t===Z,l=t===q,u=t===X?$:Q,d=[{value:10,label:"10px"},{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:n,label:"".concat(n,"px")},Object(y.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(y.jsx)(A.a,{size:"small",min:1,max:99,
precision:0,value:s,placeholder:I18N.pInspect.custom,onChange:this.onTypingEmPixel})})]
return Object(y.jsxs)(V,{className:C()("sub-toolbar","preview-sub-toolbar"),children:[Object(y.jsxs)("div",{className:"mode",children:[Object(y.jsx)(B.b,{name:"cursor",type:"dora",className:Object(D.trimList)(["cursor",!i&&"is-active"])}),Object(y.jsx)(E.a,{arrowed:!0,position:"bottom",duration:1500,className:Object(D.trimList)(["picker",i&&"is-active"]),tipClassName:"marign-top-20",content:{click:o?null:I18N.pInspect.guide_login,hover:I18N.pInspect.color_picker},children:Object(y.jsx)(B.b,{name:"tube",
type:"dora",onClick:this.pickColor})})]}),Object(y.jsxs)("div",{className:"param",children:[Object(y.jsx)(F,{className:"color-unit",menuClassName:"PreviewSubToolbarSelectMenu",value:a,optionList:K,onChange:this.updateColorUnit}),Object(y.jsx)(F,{className:"device-unit",menuClassName:"PreviewSubToolbarSelectMenu",optionList:J,value:t,onChange:this.updateDeviceUnit}),c?Object(y.jsx)(F,{menuClassName:"PreviewSubToolbarSelectMenu",optionList:u,value:r,onChange:this.handleMobileChange}):l?Object(y.jsx)("span",{
className:"px-ratio",children:"@1x"}):Object(y.jsx)(F,{className:"em-pixel",menuClassName:"PreviewSubToolbarSelectMenu scale-select-menu",optionList:d,value:n,onChange:this.updateEmPixel})]}),Object(y.jsx)(W,{})]})}}]),n}(j.PureComponent)
b()(Y,"propTypes",{unit:w.a.string,ratio:w.a.number,colorUnit:w.a.string,isShowColorPicker:w.a.bool,emPixel:w.a.number,isLogin:w.a.bool,dispatch:w.a.func})
var q="px",Z="pt",X="dp",J=[q,"em","rem",X,Z],K=[{value:"hex",label:"Hex"},{value:"rgb",label:"RGB"},{value:"rgba",label:"RGBA"},{value:"argb",label:"ARGB"}],Q=[1,2,3].map((function(e){return{value:e,label:"@".concat(e,"x")}})),$=[.75,1,1.5,2,3,4].map((function(e){return{value:e,label:"@".concat(e,"x")}})),ee=function(e,t){return"em"===e||"rem"===e?t:1},te=Object(r.connect)((function(e){var t=e.model.user,n=Boolean(t.id),r=Object(a.E)(e)
return{isLogin:n,unit:r.unit,emPixel:r.emPixel,ratio:r.ratio,isShowColorPicker:r.isShowColorPicker,colorUnit:r.colorUnit}}))(Y),ne=n(358),re=H()(ne.a).withConfig({displayName:"ScrollBarContainer__StyledScrollBar",componentId:"epknil-0"})(["&.is-fullscreen-mode{.track,.handler{opacity:0;pointer-events:none;}}"]),ie=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleScroll",(function(t){return e.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:t}})})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.canvasRange,n=e.canvasOffset,r=e.viewport,i=e.isFullScreenMode,a=r.width,o=r.height
return Object(y.jsx)(re,{className:i?"is-fullscreen-mode":"",canvasOffset:n,viewportWidth:a,viewportHeight:o,canvasRange:t,onScroll:this.handleScroll})}}]),n}(j.PureComponent)
b()(ie,"propTypes",{canvasOffset:w.a.object,viewport:w.a.object,canvasRange:w.a.object,isFullScreenMode:w.a.bool,dispatch:w.a.func})
var ae=Object(i.createSelector)([a.m,a.O,a.B,a.a],(function(e,t,n,r){return{isFullScreenMode:e,viewport:t,canvasOffset:n,canvasRange:r}})),oe=Object(r.connect)((function(e){return ae(e)}))(ie),se=n(31),ce=H.a.a.withConfig({displayName:"styles__StyledSimulatorDisplayModeNav",componentId:"i251l8-0"
})(["position:relative;width:32px;height:36px;display:flex;justify-content:center;align-items:center;border:2px solid ",";background:",";transition:all 0.2s ease-out;.outside_artboard-icon{width:19px;height:16px;}:hover{border:2px solid ",";.blank-box,.display-mode-list{display:block;}}.svg-icon{color:#fff;}ul{list-style:none;}.blank-box{display:none;position:absolute;width:8px;height:36px;top:0;left:100%;}.display-mode-list{display:none;position:absolute;padding:4px 0;width:108px;top:0;left:calc(100% + 8px);background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;.option{display:flex;align-items:center;height:32px;padding:0 12px;color:",";transition:all 0.2s ease-out;cursor:pointer;.option-icon-box{display:flex;align-items:center;justify-content:center;width:22px;height:22px;margin-right:2px;}.svg-icon{transition:all 0.2s ease-out;color:",";}:hover{background:",";color:",";}&.active{background:",";color:",";.svg-icon{color:",";}}}}"],(function(e){
return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.border_color}),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.font_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.hover_bg}),(function(e){
return e.theme.settingPanel.simulatorDisplaySettings.active_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_bg}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_color})),le=n(100),ue=function(e){f()(n,e)
var t=g()(n)
function n(e){var r
return c()(this,n),r=t.call(this,e),b()(p()(r),"OPTION_LIST",[{iconName:"design/preview/device",value:"device",label:I18N.pMainContent.prd_device,tooptipTitle:I18N.pMainContent.prd_device_des},{iconName:"design/preview/long_page",value:"long_page",label:I18N.pMainContent.prd_page,tooptipTitle:I18N.pMainContent.prd_page_des},{iconName:"design/preview/outside_artboard",value:"outside_artboard",label:I18N.pMainContent.prd_prd,tooptipTitle:I18N.pMainContent.prd_prd_des}]),
b()(p()(r),"setElementRef",(function(e){return r.$element=e})),b()(p()(r),"handleToggleDisplayMode",(function(e){var t=r.props.dispatch,n=e.currentTarget.dataset.value
t({type:"entry:preview-setting:update:simulatorType",payload:{simulatorType:n}}),"outside_artboard"===n&&(r.isDesign||r.isPreview)&&MB.event("zhuge","PRD_view",{where:r.isDesign?"design":"app"})})),r.isDesign=Object(le.a)(location.pathname),r.isPreview=Object(le.b)(location.pathname),r}return u()(n,[{key:"componentDidMount",value:function(){if(this.isDesign||this.isPreview){var e=this.props.simulatorType
MB.event("zhuge","enter_Preview",{where:this.isDesign?"design":"app",mode:e})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.simulatorType,r=t.isInspect,i=t.isShowOutsideArtboardNav,a=this.OPTION_LIST
return Object(y.jsxs)(ce,{className:"nav",children:[Object(y.jsx)(B.a,{name:"design/preview/".concat(n),className:"".concat(n,"-icon")}),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"blank-box"}),Object(y.jsx)("ul",{className:"display-mode-list",children:a.map((function(t){var a=t.iconName,o=t.value,s=t.label,c=t.tooptipTitle
return r&&"device"===o?null:i||"outside_artboard"!==o?Object(y.jsx)(se.a,{content:c,direction:"right",distance:8,maxWidth:"230px",children:Object(y.jsxs)("li",{className:C()("option",{active:o===n}),"data-value":o,onClick:e.handleToggleDisplayMode,children:[Object(y.jsx)("div",{className:"option-icon-box",children:Object(y.jsx)(B.a,{name:a,className:"".concat(o,"-icon")})}),Object(y.jsx)("p",{children:s})]})},o):null}))})]})]})}}]),n}(j.PureComponent)
b()(ue,"propTypes",{simulatorType:w.a.string,isInspect:w.a.bool,isShowOutsideArtboardNav:w.a.bool,dispatch:w.a.func})
var de=H.a.div.withConfig({displayName:"styles__StyledSettingList",componentId:"sc-70uy5f-0"
})(["pointer-events:auto;position:absolute;top:16px;left:16px;.nav-button{width:32px;height:36px;display:flex;justify-content:center;align-items:center;background:",";cursor:pointer;transition:background-color 0.2s ease-out;.svg-icon{color:",";}&:not(.disabled):not(.active):hover{background-color:",";}&.active{background:",";.svg-icon{color:#fff;}}&.disabled{opacity:0.4;cursor:not-allowed;}}.wrapper{background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);.nav{&:first-child{border-radius:2px 2px 0 0;}&:last-child{border-radius:0 0 2px 2px;}}.wrapper-padding{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}}.wrapper-top{margin-bottom:8px;border-radius:2px;}.shell-ellipsis{height:18px;display:flex;justify-content:center;align-items:center;pointer-events:none;.svg-icon{color:#5b6b73;}}.shell-button{box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;}"],(function(e){
return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.icon_15.cr}),(function(e){return e.theme.preview.mainContent.settingList.bg_hover}),(function(e){return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.common.bg.menu_bg})),pe=n(381),he=n(93),fe=n.n(he),me=n(80),ge=Object(me.transformCache)((function(){return{"zh-CN":{android:{customize:I18N.pMainContent.customize},web:{desktop:I18N.pMainContent.desktop,smart_tv:I18N.pMainContent.smart_tv},smart_car:{
car_play:I18N.pMainContent.car_play},customize:{customize:I18N.pMainContent.customize}},en:{android:{customize:"Customize"}}}})),ve={name:"customize"},be=function(e){var t=e.device,n=e.model,r="en"===window.MBLocale?"en":"zh-CN",i=fe()(pe,[t,n],ve)
return fe()(ge(),[r,t,n],i.name)},ye=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleToggleHighlight",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!e.props.isHighlight}})})),b()(p()(e),"handleToggleStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!e.props.isStatePanelShow}})})),b()(p()(e),"handleToggleSticky",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{
isStickyShow:!e.props.isStickyShow}})})),b()(p()(e),"handleToggleShellType",(function(t){var n=e.props,r=!n.isShowShell;(0,n.dispatch)({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:r}}),MB.event("zhuge","shell_button",{to:r?"on":"off"})})),e}return u()(n,[{key:"render",value:function(){
var e=this.props,t=e.project,n=e.isHighlight,r=e.isStatePanelShow,i=e.isStickyShow,a=e.isPreview,o=e.isInspect,s=e.isComment,c=e.isFullScreenMode,l=e.isShowOutsideArtboardNav,u=e.isShowShell,d=e.simulatorType,p=e.isVersionEmbedded,h=e.dispatch
if(s||c)return null
var f="device"===d
return Object(y.jsxs)(de,{id:"preview-setting-list",children:[Object(y.jsx)(se.a,{content:I18N.pMainContent.statePanel,direction:"right",children:Object(y.jsx)("a",{className:C()("nav","nav-button","wrapper","wrapper-top",{active:r}),onClick:this.handleToggleStatePanel,children:Object(y.jsx)(B.a,{name:"design/state",style:{width:19,height:19}})})}),!p&&Object(y.jsxs)("div",{className:"wrapper",children:[a&&Object(y.jsx)(se.a,{content:I18N.pMainContent.highlight_clickable,direction:"right",
children:Object(y.jsx)("a",{className:C()("nav","nav-button",{active:n}),onClick:this.handleToggleHighlight,children:Object(y.jsx)(B.a,{name:"design/preview/highlight",style:{width:11,height:16}})})}),(a||o)&&Object(y.jsx)(se.a,{content:I18N.pMainContent.sticky_visible,direction:"right",children:Object(y.jsx)("a",{className:C()("nav","nav-button",{active:i}),onClick:this.handleToggleSticky,children:Object(y.jsx)(B.a,{name:"design/preview/sticky",style:{width:14,height:16}})})}),Object(y.jsx)("div",{
className:"wrapper-padding"}),Object(y.jsx)(ue,{isInspect:o,simulatorType:d,isShowOutsideArtboardNav:l,dispatch:h})]}),f&&Object(y.jsx)("div",{className:"shell-ellipsis",children:Object(y.jsx)(B.a,{name:"preview/shell/ellipsis",style:{width:4,height:10}})}),f&&Object(y.jsx)(se.a,{content:u?"".concat(be(t)):I18N.pMainContent.hide_border,direction:"right",children:Object(y.jsx)("a",{className:C()("nav","shell-button","nav-button",{active:u}),onClick:this.handleToggleShellType,children:u?Object(y.jsx)(B.a,{
name:"preview/shell/open",style:{width:12,height:18}}):Object(y.jsx)(B.a,{name:"preview/shell/close",style:{width:16,height:18}})})})]})}}]),n}(j.PureComponent)
b()(ye,"propTypes",{isHighlight:w.a.bool,isStatePanelShow:w.a.bool,isPreview:w.a.bool,isInspect:w.a.bool,isComment:w.a.bool,isFullScreenMode:w.a.bool,isStickyShow:w.a.bool,isShowOutsideArtboardNav:w.a.bool,isVersionEmbedded:w.a.bool,simulatorType:w.a.string,project:w.a.object,isShowShell:w.a.bool,dispatch:w.a.func})
var xe=Object(i.createSelector)([a.c,a.n,a.x,a.w,a.b,a.m,a.M,function(e){return e.container.previewSetting.isShowOutsideArtboardNav},a.z,a.v],(function(e,t,n,r,i,a,s,c,l,u){return{project:e,isHighlight:t,isStickyShow:n,isStatePanelShow:r,isPreview:o.c===i,isInspect:o.b===i,isComment:o.a===i,isFullScreenMode:a,simulatorType:s,isShowOutsideArtboardNav:c,isVersionEmbedded:l,isShowShell:u}})),we=Object(r.connect)((function(e){return xe(e)}))(ye),je=n(47),Se=n(286),Ce=H()(Se.a).withConfig({
displayName:"styles__StyledStatePanel",componentId:"jnaiga-0"})(["position:absolute;top:16px;left:60px;width:220px;height:196px;display:flex;flex-direction:column;pointer-events:auto;&.is-open-by-modal{left:16px;& > header{.svg-icon{display:none;}}}& > header{border-bottom:1px solid ",";padding-left:10px;padding-right:16px;height:36px;.title{max-width:160px;",";}p{font-weight:600;}.svg-icon{color:",";cursor:pointer;&:hover{color:",";}}}& > div{flex:1;overflow-x:hidden;overflow-y:auto;}"],(function(e){
return e.theme.common.divider.divider_1}),je.e,(function(e){return e.theme.common.icon_13.cr}),(function(e){return e.theme.common.icon_13.hover})),_e=H.a.li.withConfig({displayName:"styles__StyledStateItem",componentId:"jnaiga-1"})(["",";",";.actions{padding:0 10px;}"],je.c,je.e),Oe=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleActivate",(function(t){var n=e.props,r=n.screenCid;(0,n.dispatch)({type:"entry:runner:activate:screen-state",payload:{screenCid:r,stateCid:t.cid}})})),b()(p()(e),"handleCloseStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})})),e}return u()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpenByModal,r=t.screenMeta,i=t.screenStateCid,a=t.screenStateList
return Object(y.jsxs)(Ce,{className:C()({"is-open-by-modal":n}),children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("p",{className:"title",children:"".concat(r.name," - ").concat(I18N.pMainContent.screenstate)}),Object(y.jsx)(B.a,{className:"times-icon",name:"times",onClick:this.handleCloseStatePanel})]}),Object(y.jsx)("div",{children:Object(y.jsx)("ul",{children:a.map((function(t){return Object(y.jsx)(ke,{screenState:t,isActive:t.cid===i,onClick:e.handleActivate},t.cid)}))})})]})}}]),n
}(j.PureComponent)
b()(Oe,"propTypes",{isOpenByModal:w.a.bool,screenCid:w.a.string,screenMeta:w.a.object,screenStateCid:w.a.string,screenStateList:w.a.array,dispatch:w.a.func})
var ke=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleClick",(function(){var t=e.props,n=t.screenState,r=t.isActive,i=t.onClick
r||i(n)})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.screenState,n=e.isActive
return Object(y.jsx)(_e,{className:C()({"is-active":n}),onClick:this.handleClick,children:t.name})}}]),n}(j.PureComponent)
b()(ke,"propTypes",{screenState:w.a.object,isActive:w.a.bool,onClick:w.a.func})
var Me=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleActivate",(function(t){(0,e.props.dispatch)({type:"entry:runner:activate:screen",payload:{screenCid:t.cid}})})),b()(p()(e),"handleCloseStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})})),e}return u()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpenByModal,r=t.screenMeta,i=t.screenCid,a=t.screenStateList
return Object(y.jsxs)(Ce,{className:C()({"is-open-by-modal":n}),children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("p",{className:"title",children:"".concat(r.name," - ").concat(I18N.pMainContent.screenstate)}),Object(y.jsx)(B.a,{className:"times-icon",name:"times",onClick:this.handleCloseStatePanel})]}),Object(y.jsx)("div",{children:Object(y.jsx)("ul",{children:a.map((function(t){return Object(y.jsx)(Ee,{screenState:t,isActive:t.cid===i,onClick:e.handleActivate},t.cid)}))})})]})}}]),n
}(j.PureComponent)
b()(Me,"propTypes",{isOpenByModal:w.a.bool,screenCid:w.a.string,screenMeta:w.a.object,screenStateList:w.a.array,dispatch:w.a.func})
var Ee=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleClick",(function(){var t=e.props,n=t.screenState,r=t.isActive,i=t.onClick
r||i(n)})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.screenState,n=e.isActive
return Object(y.jsx)(_e,{className:C()({"is-active":n}),onClick:this.handleClick,children:t.name})}}]),n}(j.PureComponent)
b()(Ee,"propTypes",{screenState:w.a.object,isActive:w.a.bool,onClick:w.a.func})
var Te=n(29),Ae=function(e){f()(n,e)
var t=g()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.isOpenByModal,r=e.screenMeta,i=e.screenStateCid,a=e.isBaseOnState,o=e.dataMap,s=e.screenCid,c=e.screenGlue,l=e.dispatch
if(!t)return null
var u=a?Object.values(o).sort((function(e,t){return e.position-t.position})):Object(Te.k)(c.project_meta_cid,c.cid)
return Object(y.jsx)(y.Fragment,{children:a?Object(y.jsx)(Oe,{isOpenByModal:n,screenStateList:u,screenMeta:r,screenStateCid:i,screenCid:s,dispatch:l}):Object(y.jsx)(Me,{isOpenByModal:n,screenStateList:u,screenMeta:r,screenCid:s,dispatch:l})})}}]),n}(j.PureComponent)
b()(Ae,"propTypes",{isShow:w.a.bool,isBaseOnState:w.a.bool,isOpenByModal:w.a.bool,screenCid:w.a.string,screenStateCid:w.a.string,screenMeta:w.a.object,dataMap:w.a.object,screenGlue:w.a.object,dispatch:w.a.func})
var De=Object(i.createSelector)([a.r,a.h,a.w,a.J,a.b,a.m],(function(e,t,n,r,i,a){var s=!e,c=r.activeCid,l=r.screenInfoMap[c]
if(!l)return{isShow:!1}
var u=l.screenMeta,d=l.stateCid,p=l.screenRuntimeState.dataMap,h=t.multi_states||"project-main"===t.type,f=i===o.a
return{isShow:s||!f&&!a&&n,isOpenByModal:s,screenMeta:u,screenCid:c,screenStateCid:d,dataMap:p,isBaseOnState:h,screenGlue:t}})),Ne=Object(r.connect)((function(e){return De(e)}))(Ae),Ie=H.a.div.withConfig({displayName:"styles__StyledMainContent",componentId:"sbetgc-0"})(["flex:1;position:relative;width:100%;height:100%;pointer-events:none;"]),Pe=H.a.div.withConfig({displayName:"styles__StyledResetButton",componentId:"sbetgc-1"
})(["position:absolute;top:38px;right:0;min-width:92px;padding:0 8px;height:28px;margin-right:27px;font-size:12px;white-space:nowrap;background:",";border-radius:2px;cursor:pointer;box-shadow:0 2px 5px 0 rgba(39,54,78,0.08);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity 0.2s ease-in-out;color:",";&:hover{background:",";color:",";}&.is-show{pointer-events:auto;opacity:1;}"],(function(e){return e.theme.common.bg.bg_4}),(function(e){
return e.theme.preview.mainContent.resetBtn.tc}),(function(e){return e.theme.preview.mainContent.resetBtn.bg_hover}),(function(e){return e.theme.preview.mainContent.resetBtn.tc_hover})),Le=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"handleResize",(function(){var t=document.querySelector("#preview_scrollBar_viewport").getBoundingClientRect(),n=t.width,r=t.height
e.props.dispatch({type:"preview:scrollbar:viewport",payload:{width:n,height:r}})})),b()(p()(e),"handleBackToOrigin",(function(){e.props.dispatch({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),e}return u()(n,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"render",value:function(){var e=this.props,t=e.isLayerActive,n=e.isDisplaced,r=e.isProjectMain
return Object(y.jsxs)(Ie,{id:"preview_scrollBar_viewport",children:[t&&Object(y.jsx)(te,{}),Object(y.jsx)(Pe,{className:C()({"is-show":n}),onClick:this.handleBackToOrigin,children:I18N.pMainContent.click_to_origin}),Object(y.jsx)(Ne,{}),r&&Object(y.jsx)(we,{}),Object(y.jsx)(oe,{}),Object(y.jsx)(_.a,{onResize:this.handleResize})]})}}]),n}(j.PureComponent)
b()(Le,"propTypes",{isLayerActive:w.a.bool,isDisplaced:w.a.bool,isProjectMain:w.a.bool,dispatch:w.a.func})
var Fe=Object(i.createSelector)([a.b,function(e){return e.container.common.offset},a.r],(function(e,t,n){var r=Boolean(t.x||t.y)
return{isLayerActive:e===o.b,isDisplaced:r,isProjectMain:n}}))
t.a=Object(r.connect)((function(e){return Fe(e)}))(Le)},function(e,t,n){"use strict"
var r=n(21),i=n(16),a=n(10),o=n.n(a),s=n(15),c=n.n(s),l=n(7),u=n.n(l),d=n(6),p=n.n(d),h=n(3),f=n.n(h),m=n(8),g=n.n(m),v=n(9),b=n.n(v),y=n(2),x=n.n(y),w=n(0),j=n(1),S=n.n(j),C=n(5),_=n(37),O=n.n(_),k=n(11),M=n.n(k),E=n(47),T=M.a.div.withConfig({displayName:"styles__StyledScreenName",componentId:"ma5tgy-0"
})(["&{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:50px;width:258px;border-radius:25px;background:rgba(31,41,46,0.5);font-size:16px;z-index:2;display:flex;justify-content:center;align-items:center;color:#fff;opacity:0;transition:opacity 0.5s ease-in-out;pointer-events:none;}span.dot{position:static;width:5px;height:5px;background:#fff;margin:10px;border-radius:50%;}div.screen-name{",";max-width:120px;}&.show{opacity:1;}"],E.e),A=n(13),D=n.n(A),N=function(e){g()(n,e)
var t=b()(n)
function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e,t=this.props,n=t.screen,r=t.screenMetaList,i=t.shouldTextShow,a=t.reachFirstScreen,o=t.reachLastScreen,s=r.findIndex((function(e){return e.cid===n.cid}))
return e=a?I18N.pFullScreen.firstScreen:o?I18N.pFullScreen.lastScreen:"".concat(s+1," / ").concat(r.length),Object(w.jsxs)(T,{className:D()("screen-info",{show:i}),children:[Object(w.jsx)("div",{children:e}),Object(w.jsx)("span",{className:"dot"}),Object(w.jsx)("div",{className:"screen-name",children:n.name})]})}}]),n}(C.PureComponent)
x()(N,"propTypes",{screen:S.a.object,screenMetaList:S.a.array,shouldTextShow:S.a.bool,reachFirstScreen:S.a.bool,reachLastScreen:S.a.bool})
var I=n(61),P=n.n(I),L=Object(k.keyframes)(["from{opacity:0;}to{opacity:1;}"]),F=Object(k.css)(["top:calc(50% - 106px);background:",";border-radius:50%;width:218px;height:218px;transition:left 0.3s ease-in-out,right 0.3s ease-in-out,background 0.5s ease-in-out;animation:"," 0.3s ease-in-out;z-index:1;& svg{position:absolute;top:50%;transform:translateY(-50%);font-size:18px;& > *{fill:",";}}&:hover{background:",";}&:active{& svg{fill:",";}}"],(function(e){return e.theme.preview.fullAction.navigation.btn_bg
}),L,(function(e){return e.theme.preview.fullAction.navigation.svg}),(function(e){return e.theme.preview.fullAction.navigation.btn_bg_hover}),(function(e){return e.theme.preview.fullAction.navigation.svg_active})),B=M.a.div.withConfig({displayName:"styles__StyledNavigationButton",componentId:"sc-1bii9g-0"
})(["position:relative;width:100%;height:100%;.last-screen{position:absolute;left:-186px;",";& svg{right:32px;}&:hover{left:-146px;}}.next-screen{position:absolute;right:-186px;",";& svg{left:32px;}&:hover{right:-146px;}}"],F,F),R=function(e){g()(n,e)
var t=b()(n)
function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){return Object(w.jsxs)(B,{children:[Object(w.jsx)("span",{className:"last-screen","data-action":"last",onClick:this.props.onClick,children:Object(w.jsx)(P.a,{className:"left-arrow",name:"angle_bracket_left"})}),Object(w.jsx)("span",{className:"navigation-button next-screen","data-action":"next",onClick:this.props.onClick,children:Object(w.jsx)(P.a,{className:"right-arrow",name:"angle_bracket_right"})})]})}
}]),n}(C.PureComponent)
x()(R,"propTypes",{onClick:S.a.func})
var U=n(202),z=n(14),H=Object(k.keyframes)(["0%{top:-45px;opacity:0;}100%{top:10px;opacity:1;}"]),G=Object(k.css)(["position:relative;display:inline-block;cursor:pointer;width:35px;height:35px;border-radius:20px;box-shadow:0 2px 3px 0 rgba(65,80,88,0.40);background:",";transition:width 0.3s ease-in-out,background 0.5s ease-in-out;z-index:1;&:hover{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#415058;}}&:active{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#8d9ea7;}}"],(function(e){
return e.theme.common.bg.bg_4})),V=M.a.div.withConfig({displayName:"styles__StyledExitAndModeButton",componentId:"x8osrj-0"
})(["&{position:absolute;right:20px;top:10px;transition:all 0.5s ease-in-out;animation:"," 0.5s ease-in-out;display:flex;.mode{",";display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;color:",";}span{display:inline-block;width:18px;height:18px;border-radius:50%;position:absolute;top:calc(50% - 9px);opacity:0;transition:opacity 0.5s ease-in-out;}span.light{left:9px;border:1px solid ",";background:",";opacity:0;transition:opacity 0.5s ease-in-out;}span.dark{right:9px;background:",";opacity:0;transition:opacity 0.5s ease-in-out;}&:hover{width:68px;svg{opacity:0;}span{opacity:1;}}}.exit-full-screen{",";margin-left:10px;display:flex;justify-content:center;align-items:center;svg{width:16px;height:16px;color:",";}&:hover{svg{color:",";}}&:active{svg{color:",";}}}}"],H,G,(function(e){
return e.theme.preview.fullAction.exitAndMode.svg}),(function(e){return e.theme.preview.fullAction.exitAndMode.full_screen_border}),(function(e){return e.theme.preview.fullAction.exitAndMode.ligh_bg}),(function(e){return e.theme.preview.fullAction.exitAndMode.dark_bg}),G,(function(e){return e.theme.preview.fullAction.exitAndMode.svg}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_active})),W=function(e){g()(n,e)
var t=b()(n)
function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){return Object(w.jsxs)(V,{className:"top-right-action",children:[Object(w.jsxs)("div",{className:"mode",children:[Object(w.jsx)(z.a,{name:"design/preview/daynight"}),Object(w.jsx)("span",{className:"light","data-mode":"light",onClick:this.props.onClickMode}),Object(w.jsx)("span",{className:"dark","data-mode":"dark",onClick:this.props.onClickMode})]}),Object(w.jsx)("div",{className:"exit-full-screen",
onClick:this.props.onClickExit,children:Object(w.jsx)(z.a,{name:"design/preview/exit"})})]})}}]),n}(C.PureComponent)
x()(W,"propTypes",{onClickMode:S.a.func,onClickExit:S.a.func})
var Y=n(115),q=M.a.div.withConfig({displayName:"styles__StyledFullScreenActions",componentId:"sc-1jpz0gq-0"
})(["&{position:absolute;bottom:0;top:0;left:0;right:0;transition:all 0.5s ease-in-out;.zoom-wrapper{position:absolute;left:260px;height:56px;z-index:1;font-size:14px;&.is-Iniframe{left:20px;}a:not([disabled]) svg{fill:#8d9ea7;&:hover{fill:currentColor;}}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;}}&.dark-mode{background:",";.top-right-action{.mode{background:",";&:hover{span.light{border:none;}span.dark{border:1px solid #0095FF;}}}.exit-full-screen{background:",";svg{color:#7d8694;&:hover{fill:#1f292e;}&:active{fill:#8d9ea7;}}}}.last-screen,.next-screen{background:#2c383e;& svg{fill:#8d9ea7;}&:hover{background:#3a4850;}&:active{& svg{fill:#1f292e;}}}.zoom-wrapper{a{&:not([disabled]){svg{fill:#8D9EA7;}&:hover svg{fill:#7d8694;}}&[disabled] svg{fill:#415058;}}}}}@media only screen and (max-width:985px){&{.zoom-wrapper{left:168px;}}}"],(function(e){
return e.theme.preview.fullAction.exitAndMode.dark_bg}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover})),Z=n(39),X=function(e){g()(n,e)
var t=b()(n)
function n(e){var r
return u()(this,n),r=t.call(this,e),x()(f()(r),"setMode",(function(e){var t=r.state.isDarkMode,n=e.target.dataset.mode
"light"===n&&t&&r.setState({isDarkMode:!1}),"dark"!==n||t||(MB.event("preview","工具栏: 全屏模式暗色背景"),r.setState({isDarkMode:!0}))})),x()(f()(r),"handleKeyDown",(function(e){37===e.keyCode&&r.goToScreenByStep(-1),39===e.keyCode&&r.goToScreenByStep(1)})),x()(f()(r),"handleNavigate",(function(e){var t=e.currentTarget.dataset.action
"last"===t?(MB.event("*","运行页-预览-全屏模式-点击上一页"),r.goToScreenByStep(-1)):"next"===t&&(MB.event("*","运行页-预览-全屏模式-点击下一页"),r.goToScreenByStep(1))})),x()(f()(r),"handleExitFullScreen",c()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MB.event("preview","工具栏: 全屏模式关闭"),!Y.a.isFullscreen){e.next=4
break}return e.next=4,Y.a.exit()
case 4:case"end":return e.stop()}}),e)})))),x()(f()(r),"goToScreenByStep",(function(e){var t=r.props,n=t.screen,i=t.screenMetaList,a=t.dispatch,o=n.cid,s=i.findIndex((function(e){return e.cid===o}))+e
if(s<0)r.setState({shouldTextShow:!0,reachFirstScreen:!0})
else if(s>i.length-1)r.setState({shouldTextShow:!0,reachLastScreen:!0})
else{a({type:"entry:sync-runner:set-screen",payload:{cid:i[s].cid}}),a({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),r.setState({shouldTextShow:!0,reachFirstScreen:!1,reachLastScreen:!1})}})),r.state={isDarkMode:!1,shouldTextShow:!1,reachFirstScreen:!1,reachLastScreen:!1},r}return p()(n,[{key:"componentDidUpdate",value:function(e){var t=this
if(this.state.shouldTextShow&&(clearTimeout(this.timer),this.timer=setTimeout((function(){return t.setState({shouldTextShow:!1})}),1500)),this.props.screen!==e.screen){var n=this.props,r=n.screen,i=n.screenMetaList,a=r.cid,o=i.findIndex((function(e){return e.cid===a}))
0!==o&&this.setState({reachFirstScreen:!1}),o!==i.length-1&&this.setState({reachLastScreen:!1})}}},{key:"render",value:function(){var e=this.props,t=e.screen,n=e.screenMetaList,r=this.state,i=r.isDarkMode,a=r.shouldTextShow,o=r.reachFirstScreen,s=r.reachLastScreen
return Object(w.jsxs)(q,{className:D()("full-screen-actions",{"dark-mode":i}),children:[Object(w.jsx)("div",{className:D()("zoom-wrapper",{"is-Iniframe":Object(Z.l)()||Object(Z.f)()}),children:Object(w.jsx)(U.a,{})}),Object(w.jsx)(W,{onClickMode:this.setMode,onClickExit:this.handleExitFullScreen}),Object(w.jsx)(N,{screen:t,screenMetaList:n,shouldTextShow:a,reachFirstScreen:o,reachLastScreen:s}),Object(w.jsx)(R,{onClick:this.handleNavigate}),Object(w.jsx)(O.a,{target:document,onKeyDown:this.handleKeyDown})]
})}}]),n}(C.PureComponent)
x()(X,"propTypes",{screen:S.a.object,screenMetaList:S.a.array,dispatch:S.a.func})
t.a=Object(r.connect)((function(e){return{screen:Object(i.g)(e),screenMetaList:Object(i.G)(e)}}))(X)},function(e,t,n){"use strict"
var r=n(21),i=n(20),a=n(16),o=n(52),s=n(41),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),h=n.n(p),f=n(8),m=n.n(f),g=n(9),v=n.n(g),b=n(2),y=n.n(b),x=n(0),w=n(1),j=n.n(w),S=n(5),C=n.n(S),_=n(255),O=n(252),k=n(94),M=n(253),E=n(11),T=n.n(E).a.div.withConfig({displayName:"styles__StyledRightPane",componentId:"sc-1bbu5lg-0"
})(["position:relative;height:100%;transition:all 0.3s ease-in-out;z-index:100;.preview-panel-wrapper{position:absolute;top:0;left:0;height:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"]),A=function(e){m()(n,e)
var t=v()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),y()(h()(e),"toggleMinimized",(function(t){var n=e.props
n.toolbarActiveItem;(0,n.dispatch)({type:"entry:preview-setting:toggle:isMinimized"})})),e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.isLayerPanelShow,n=e.isCommentPanelShow,r=e.isScreenPanelShow,i=e.isFullScreenMode,a=e.isMinimized
if(!(t||n||r))return null
var o=r?240:260
return Object(x.jsxs)(T,{id:"mb-preview-rightpane",className:i?"is-fullscreen-mode":"",style:{width:a?0:o},children:[r&&Object(x.jsxs)(C.a.Fragment,{children:[Object(x.jsx)("div",{className:"preview-panel-wrapper",children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(_.a,{placement:"left",isMinimized:a,onClick:this.toggleMinimized})]}),t&&Object(x.jsx)(M.a,{}),n&&Object(x.jsx)(k.a,{})]})}}]),n}(S.PureComponent)
y()(A,"propTypes",{toolbarActiveItem:j.a.string,isScreenPanelShow:j.a.bool,isLayerPanelShow:j.a.bool,isCommentPanelShow:j.a.bool,isFullScreenMode:j.a.bool,isMinimized:j.a.bool,dispatch:j.a.func})
var D=Object(i.createSelector)([a.A,a.b,a.r,a.m,a.p],(function(e,t,n,r,i){return{toolbarActiveItem:t,isScreenPanelShow:e===s.b&&n,isLayerPanelShow:e!==s.b&&t===o.b,isCommentPanelShow:e!==s.b&&t===o.a,isFullScreenMode:r,isMinimized:i}}))
t.a=Object(r.connect)((function(e){return D(e)}))(A)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return N}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(5),v=n(1),b=n.n(v),y=n(36),x=n(59),w=n.n(x),j=n(14),S=n(44),C=n.n(S),_=n(11),O=n.n(_)
function k(){var e=C()(["\n  .modal-portal {\n    &.is-open {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1050;\n      width: 100%;\n      height: 100%;\n      overflow-x: hidden;\n      overflow-y: auto;\n    }\n\n    &:not(.is-open) {\n      height: 0;\n      overflow: hidden;\n\n      .modal-mask {\n        background-color: rgba(#000, 0);\n      }\n\n      .modal-mask > div {\n        transform: translateY(-50vh);\n        opacity: 0;\n      }\n    }\n  }\n"])
return k=function(){return e},e}var M=Object(_.createGlobalStyle)(k()),E=O.a.div.withConfig({displayName:"styles__StyledModal",componentId:"w9grjr-0"
})(["&.modal-mask{&{display:flex;padding:50px 0;width:100vw;min-height:100vh;background-color:rgba(0,0,0,0.4);color:#5b6b73;transition:background-color 0.2s ease-in;}&.can-close{cursor:pointer;}}.alert-modal,.functional-modal,.display-modal{position:relative;margin:calc(20vh - 50px) auto auto;min-height:150px;transform:translateY(0);font-size:14px;background-color:#fff;box-shadow:0 2px 8px 0 rgba(#000,0.1);border-radius:1px;color:#1f292e;cursor:initial;transition:transform 0.2s ease-out,opacity 0.1s ease-out;&.is-posi-centered{margin:auto;}header{position:relative;display:flex;align-items:center;padding:0 20px;height:55px;font-size:14px;line-height:1.5;border-bottom:1px solid #E5E5E5;color:#415058;}.close-btn{position:absolute;top:50%;right:0;padding:0 20px;width:54px;height:100%;transform:translateY(-50%);font-size:14px;line-height:1;color:#8d9ea6;&:hover{color:#5b6b73;}}.content{padding:30px 20px 35px;}[type='select']{& > div{padding-left:0;}}.content > [type='select']{height:34px;border:0;border-bottom:1px solid #d7d7d7;transition:all 0.2s ease-out;li[value],li > div{height:auto;line-height:34px;}}input[type='number']{text-align:center;padding:0 0 0 1em !important;}input::placeholder{color:#8d9ea6;}a.important{color:#eb5648;}footer{display:flex;justify-content:flex-end;align-items:center;padding:0 20px;height:55px;line-height:1;border-top:1px solid #E5E5E5;}.confirm-btn,.done-btn{font-weight:bold;color:#eb5648;&:not([disabled]):hover{color:color(#eb5648,shade(20%));}}.confirm-btn,.done-btn,.cancel-btn{margin-left:1.5em;min-width:2em;height:34px;color:#8d9ea6;transition:color ease-in-out 0.1s;&[disabled]{opacity:0.5;cursor:not-allowed;}&:not([disabled]):hover{color:#5b6b73;}}}.alert-modal{display:flex;flex-direction:column;width:380px;line-height:1.5;.form-entry{&:last-child{margin-bottom:-0.5em;}& > .key{flex-basis:7em;}& > .val{max-width:calc(100% - 7em);}}[type=\"select\"]{display:block;& > div{display:flex;}& > div > .icon{margin-left:auto;}}p.desc + p.desc{margin-top:1em;}.quote{display:inline-flex;align-items:baseline;& > *{max-width:5em !important;font-weight:bold;}&:lang(en)::before{content:'“';}&:lang(en)::after{content:'”';}&.question:lang(en)::after{content:'”?';}&.comma:lang(en)::after{content:'”,';}&:lang(zh)::before{content:'「';}&:lang(zh)::after{content:'」';}}}.functional-modal{width:500px;}.display-modal{width:640px;}"]),T=[],A=Object.assign(document.createElement("div"),{
className:"modal-portal"}),D=function(e){return e.stopPropagation()},N=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"onOpen",(function(){T.unshift(c()(e)),setTimeout((function(){return e.portal.classList.add("is-open")}),50),e.focusOnConfirmBtn(),e.reassignPosiY()})),f()(c()(e),"onClose",(function(){var t=T.indexOf(c()(e))
setTimeout((function(){return T.splice(t,1)})),setTimeout((function(){return e.portal.classList.remove("is-open")}),50),setTimeout((function(){return Object(y.render)(Object(m.jsx)("div",{}),e.portal)}),500)})),f()(c()(e),"focusOnConfirmBtn",(function(){return setTimeout((function(){var t=e.portal.querySelector("footer .confirm-btn")
t&&t.focus()}),50)})),f()(c()(e),"listenToKey",(function(t){var n=t.key,r=t.target,i=e.props,a=i.isOpen,o=i.canCloseOnEsc,s=i.onClose,l=i.canConfirmOnEnter,u=i.onConfirm,d=i.isOnConfirmDisabled
"Escape"===n&&!r.matches("input, textarea, [type=select]")&&a&&o&&s&&c()(e)===T[0]&&s(),"Enter"===n&&!r.matches("textarea")&&a&&l&&u&&!d&&c()(e)===T[0]&&u()})),f()(c()(e),"reassignPosiY",(function(){return setTimeout((function(){var t=e.props.type,n=e.portal.querySelector(".modal-mask > div")
if(n&&"alert"!==t){var r=window.innerHeight,i=n.offsetHeight,a=r<=i||(r-i)/2<.2*r?"add":"remove"
n.classList[a]("is-posi-centered")}}),50)})),f()(c()(e),"renderRealModal",(function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=t.type,r=t.title,i=t.className,a=t.maskClassName,o=t.children,s=t.onClose,c=t.canCloseOnClickMask,l=t.onConfirm,u=t.confirmText,d=void 0===u?I18N.Common.confirm:u,p=t.isOnConfirmDisabled,h=t.onCancel,f=t.cancelText,g=void 0===f?I18N.Common.cancel:f,v=t.isOnCancelDisabled,b=t.onDone,x=t.doneText,w=void 0===x?I18N.Common.done:x,S=t.isOnDoneDisabled,C="alert"===n||h||l||b,_=Object(m.jsxs)(E,{
className:"modal-mask ".concat(a," ").concat(c?"can-close":""),onClick:c?s:null,children:[Object(m.jsxs)("div",{className:"".concat(n,"-modal ").concat(i),onClick:D,children:[Object(m.jsxs)("header",{children:[r,s&&Object(m.jsx)("button",{className:"close-btn",onClick:s,children:Object(m.jsx)(j.b,{name:"times"})})]}),Object(m.jsx)("div",{className:"content",children:o}),C&&Object(m.jsxs)("footer",{children:[h&&Object(m.jsx)("button",{className:"cancel-btn",onClick:h,disabled:v,children:g
}),l&&Object(m.jsx)("button",{className:"confirm-btn",onClick:l,disabled:p,children:d}),b&&Object(m.jsx)("button",{className:"done-btn",onClick:b,disabled:S,children:w})]})]}),Object(m.jsx)(M,{})]})
Object(y.render)(_,e.portal)})),e}return o()(n,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.portalClassName
Object.assign(this,{portal:A.cloneNode()}),document.body.appendChild(this.portal),this.portal.className+=" ".concat(n),window.addEventListener("resize",this.reassignPosiY),document.addEventListener("keydown",this.listenToKey),t&&(this.renderRealModal(),this.onOpen())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){w()(this.props,e)||this.renderRealModal(e)
var t=e.isOpen,n=this.props.isOpen
!n&&t?this.onOpen():n&&!t&&this.onClose()}},{key:"componentWillUnmount",value:function(){Object(y.unmountComponentAtNode)(this.portal),this.portal&&this.portal.remove(),document.removeEventListener("keydown",this.listenToKey),window.removeEventListener("resize",this.reassignPosiY)}}]),n}(g.PureComponent)
f()(N,"propTypes",{isOpen:b.a.bool,type:b.a.oneOf(["alert","functional","display"]),title:b.a.any,className:b.a.string,maskClassName:b.a.string,portalClassName:b.a.string,children:b.a.any,onClose:b.a.func,canCloseOnClickMask:b.a.bool,canCloseOnEsc:b.a.bool,canConfirmOnEnter:b.a.bool,onConfirm:b.a.func,confirmText:b.a.string,isOnConfirmDisabled:b.a.bool,onCancel:b.a.func,isOnCancelDisabled:b.a.bool,cancelText:b.a.string,onDone:b.a.func,isOnDoneDisabled:b.a.bool,doneText:b.a.string}),f()(N,"defaultProps",{
isOpen:!1,type:"functional",className:"",maskClassName:"",portalClassName:"",onClose:function(){return null},canCloseOnClickMask:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,isOnConfirmDisabled:!1,isOnCancelDisabled:!1,isOnDoneDisabled:!1})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(14),x=n(51),w=n(11),j=n.n(w).a.div.withConfig({displayName:"styles__CSSDesignZoomBoxDiv",componentId:"g4prxo-0"
})(["position:relative;width:68px;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;transition:all 0.2s ease-out;.zoom-box{display:flex;align-items:center;line-height:16px;height:16px;font-size:14px;color:",";.zoom-arrow{width:6px;height:4px;margin-left:8px;}}.zoom-tip{margin-top:8px;color:",";height:12px;line-height:12px;font-size:12px;}.zoom-content{position:absolute;padding:4px 0;top:100%;min-width:160px;padding-bottom:4px;font-size:12px;background:",";box-shadow:",";.zoom-input-numer-wrap{height:38px;display:flex;align-items:center;justify-content:center;.zoom-input{width:124px;border-color:",";}}.divider{margin:4px 0;border-top:1px solid ",";}.zoom-item{display:flex;align-items:center;justify-content:space-between;height:32px;padding:0 16px 0 30px;color:",";transition:all 0.2s ease-out;.zoom-text{position:relative;}.kbd-size{white-space:nowrap;margin-left:auto;kbd{color:",";display:inline-block;font-family:inherit;text-align:center;min-width:12px;margin-right:2px;}kbd:first-child{margin-left:0;}kbd:last-child{margin-right:0;}}&:not(.is-disabled):hover{background:",";.zoom-text{color:",";}kbd{color:",";}}&.is-disabled{cursor:not-allowed;color:",";}.zoom-select{position:absolute;left:-22px;top:3px;}}}&:hover{background:",";.zoom-scale{color:",";}}&.mac .others,&.others .mac{display:none;}"],(function(e){
return e.theme.toolbar.zoom_scale.cr}),(function(e){return e.theme.toolbar.text_6.cr}),(function(e){return e.theme.common.menu.panel.bg}),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.toolbar.zoom_scale.dropdown.input}),(function(e){return e.theme.common.divider.divider_2}),(function(e){return e.theme.common.text_1.cr}),(function(e){return e.theme.common.text_11.cr}),(function(e){return e.theme.common.menu.panel.card.hover_bg}),(function(e){
return e.theme.common.text_1.hover}),(function(e){return e.theme.common.text_11.hover}),(function(e){return e.theme.toolbar.item_disabled_text}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.toolbar.zoom_scale.hover})),S=n(13),C=n.n(S),_=n(39),O=function(e){u()(n,e)
var t=p()(n)
function n(){var e
return i()(this,n),e=t.call(this),f()(c()(e),"handleToogleZoomContentShow",(function(){e.setState({isZoomContentShow:!e.state.isZoomContentShow})})),f()(c()(e),"handleZoomSpecifiedScale",(function(t){t.stopPropagation(),(0,e.props.onZoomSpecifiedScale)(t.currentTarget.dataset.value)})),f()(c()(e),"hanldeInputNumberSelect",(function(e){var t=document.querySelector(".design-zoom-input-number")
t&&t.select()})),f()(c()(e),"hanldeZoomIn",(function(t){t.stopPropagation(),(0,e.props.onZoomIn)()})),f()(c()(e),"hanldeZoomOut",(function(t){t.stopPropagation(),(0,e.props.onZoomOut)()})),e.state={isZoomContentShow:!1},e}return o()(n,[{key:"render",value:function(){
var e=this.props,t=e.scale,n=e.showZoomTip,r=e.onZoomInitialScale,i=e.onZoomSpecifiedScale,a=e.onZoomSelection,o=e.isShowZoomSelection,s=this.state.isZoomContentShow,c=MB.config.SCALES.indexOf(t),l=c!==MB.config.SCALES.length-1,u=0!==c,d=MB.config.SCALES[0],p=MB.config.SCALES[MB.config.SCALES.length-1],h=Object(_.i)()?"mac":"others"
return Object(m.jsxs)(j,{className:C()(h),onMouseEnter:this.handleToogleZoomContentShow,onMouseLeave:this.handleToogleZoomContentShow,onClick:this.hanldeInputNumberSelect,children:[Object(m.jsxs)("div",{className:"zoom-box",children:[Object(m.jsx)("p",{className:"zoom-scale",children:Math.round(t)+"%"}),Object(m.jsx)(y.a,{className:"zoom-arrow",name:"design/toolbar/arrow"})]}),n&&Object(m.jsx)("p",{className:"zoom-tip",children:I18N.DesignZoomBox.zoom}),s&&Object(m.jsxs)("div",{className:"zoom-content",
children:[Object(m.jsx)("div",{className:"zoom-input-numer-wrap",children:Object(m.jsx)(x.a,{inputClassName:"design-zoom-input-number",className:"zoom-input",min:d,max:p,precision:0,suffix:"%",actionButton:!1,value:Math.round(t),isSelect:!0,onConfirm:i})}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsxs)("div",{className:C()("zoom-item",{"is-disabled":!l}),onClick:this.hanldeZoomIn,children:[Object(m.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomin}),Object(m.jsx)("div",{
className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomIn}}),Object(m.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomIn}})]}),Object(m.jsxs)("div",{className:C()("zoom-item",{"is-disabled":!u}),onClick:this.hanldeZoomOut,children:[Object(m.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomout}),Object(m.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomOut}}),Object(m.jsx)("div",{className:"others kbd-size",
dangerouslySetInnerHTML:{__html:k[h].zoomOut}})]}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsx)("div",{className:"zoom-item","data-value":50,onClick:this.handleZoomSpecifiedScale,children:Object(m.jsxs)("p",{className:"zoom-text",children:[50===Math.round(t)&&Object(m.jsx)(y.a,{className:"zoom-select",name:"library/select/new"}),"50%"]})}),Object(m.jsxs)("div",{className:"zoom-item","data-value":100,onClick:this.handleZoomSpecifiedScale,children:[Object(m.jsxs)("p",{className:"zoom-text",
children:[100===Math.round(t)&&Object(m.jsx)(y.a,{className:"zoom-select",name:"library/select/new"}),"100%"]}),Object(m.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomReset}}),Object(m.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomReset}})]}),Object(m.jsx)("div",{className:"zoom-item","data-value":200,onClick:this.handleZoomSpecifiedScale,children:Object(m.jsxs)("p",{className:"zoom-text",children:[200===Math.round(t)&&Object(m.jsx)(y.a,{
className:"zoom-select",name:"library/select/new"}),"200%"]})}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsxs)("div",{className:"zoom-item",onClick:r,children:[Object(m.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.fit_canvas}),Object(m.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomFit}}),Object(m.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomFit}})]}),o&&Object(m.jsxs)("div",{className:"zoom-item",onClick:a,
children:[Object(m.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoom_selection}),Object(m.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomSelect}}),Object(m.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomSelect}})]})]})]})}}]),n}(b.PureComponent)
f()(O,"propTypes",{scale:v.a.number,showZoomTip:v.a.bool,isShowZoomSelection:v.a.bool,onZoomSpecifiedScale:v.a.func,onZoomIn:v.a.func,onZoomOut:v.a.func,onZoomInitialScale:v.a.func,onZoomSelection:v.a.func}),f()(O,"defaultProps",{isShowZoomSelection:!0})
var k={mac:{zoomOut:"<kbd>⌘</kbd><kbd>-</kbd>",zoomIn:"<kbd>⌘</kbd><kbd>+</kbd>",zoomReset:"<kbd>⌘</kbd><kbd>0</kbd>",zoomFit:"<kbd>⌘</kbd><kbd>1</kbd>",zoomSelect:"<kbd>⌘</kbd><kbd>2</kbd>"},others:{zoomOut:"<kbd>Ctrl</kbd><kbd>-</kbd>",zoomIn:"<kbd>Ctrl</kbd><kbd>+</kbd>",zoomReset:"<kbd>Ctrl</kbd><kbd>0</kbd>",zoomFit:"<kbd>Ctrl</kbd><kbd>1</kbd>",zoomSelect:"<kbd>Ctrl</kbd><kbd>2</kbd>"}}},,,,,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
t.default={disabled:!1}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.classNamesShape=t.timeoutsShape=void 0
r(n(1))
t.timeoutsShape=null
t.classNamesShape=null},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(156)),a=r(n(282)),o=r(n(3)),s=r(n(136)),c=(r(n(1)),r(n(5))),l=r(n(226)),u=n(423),d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,o.default)(r))
return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,s.default)(t,e)
var n=t.prototype
return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited
return{children:t.firstRender?(0,u.getInitialChildMapping)(e,r):(0,u.getNextChildMapping)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=(0,u.getChildMapping)(this.props.children)
e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.default)({},t.children)
return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,i.default)(e,["component","childFactory"]),a=this.state.contextValue,o=d(this.state.children).map(n)
return delete r.appear,delete r.enter,delete r.exit,null===t?c.default.createElement(l.default.Provider,{value:a},o):c.default.createElement(l.default.Provider,{value:a},c.default.createElement(t,r,o))},t}(c.default.Component)
p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}}
var h=p
t.default=h},function(e,t,n){"use strict"
var r=n(247),i=n(280),a=Object.prototype.hasOwnProperty
e.exports=function(e,t,n){var o=e[t]
a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict"
var r=n(341),i=function(){try{var e=r(Object,"defineProperty")
return e({},"",{}),e}catch(e){}}()
e.exports=i},function(e,t,n){"use strict"
var r=n(365),i=n(227),a=n(366),o=n(545),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e)
return t}:o
e.exports=s},function(e,t,n){"use strict"
var r=n(544),i=n(303),a=n(157)
e.exports=function(e){return r(e,a,i)}},function(e,t,n){"use strict"
var r=n(457),i=Math.max
e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o]
o=-1
for(var l=Array(t+1);++o<t;)l[o]=a[o]
return l[t]=n(c),r(e,this,l)}}},function(e,t,n){"use strict"
var r=n(458),i=n(460)(r)
e.exports=i},function(e,t,n){"use strict"
var r=n(248),i=n(305),a=n(306)
e.exports=function(e,t){return a(i(e,t,r),e+"")}},function(e,t,n){"use strict"
var r=n(224),i=n(109)
e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.catchPromise=t.catchAsync=t.catchSync=t.tryCall=t.rethrowError=void 0
var i=r(n(10)),a=r(n(15))
t.rethrowError=function(e){throw console.warn(e),e}
t.tryCall=function(e,t){try{for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]
return e[t].apply(e,r)}catch(e){}}
t.catchSync=function(e){var t,n
try{for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a]
t=e.apply(void 0,i)}catch(e){n=e||new Error}return{result:t,error:n}}
var o=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,o,s,c=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=c.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=c[s]
return e.next=4,t.apply(void 0,o)
case 4:n=e.sent,e.next=10
break
case 7:e.prev=7,e.t0=e.catch(0),r=e.t0||new Error
case 10:return e.abrupt("return",{result:n,error:r})
case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))
return function(t){return e.apply(this,arguments)}}()
t.catchAsync=o
t.catchPromise=function(e){return e.then(s,c)}
var s=function(e){return{result:e,error:void 0}},c=function(e){return{result:void 0,error:e||new Error}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSaveChunkWithRetry=void 0
var i=r(n(4)),a=r(n(10)),o=r(n(15)),s=n(177),c=n(230),l=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,l,u,d,p,h,f
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.task,r=t.onError,i=t.timeout,o=t.wait,l=void 0===o?i:o,u=t.retry,d=void 0===u?8:u,p=0
case 2:return h=Date.now(),e.prev=3,e.next=6,(0,c.withTimeoutPromise)(n({attempt:p,timeout:i}),i)
case 6:return e.abrupt("return",e.sent)
case 9:if(e.prev=9,e.t0=e.catch(3),!(p>=d)){e.next=13
break}throw e.t0
case 13:if(f=l-(Date.now()-h),e.t1=f>0,!e.t1){e.next=18
break}return e.next=18,(0,s.setTimeoutAsync)(f)
case 18:if(e.t2=r,!e.t2){e.next=22
break}return e.next=22,r(e.t0,{attempt:p,timeout:i})
case 22:p++
case 23:e.next=2
break
case 25:case"end":return e.stop()}}),e,null,[[3,9]])})))
return function(t){return e.apply(this,arguments)}}()
t.createSaveChunkWithRetry=function(e){var t=e.type,n=void 0===t?"save-chunk":t,r=e.saveChunkAsync,s=e.onSaveChunkErrorAsync,c=e.describeData,u=void 0===c?function(e){return JSON.stringify(e)}:c
return function(){var e=(0,o.default)(a.default.mark((function e(t){var c,d,p,h,f,m,g,v,b
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.chunkList,d=t.dataIndexMax,p=t.saveQueueLength,h=void 0===p?d:p,f=t.setSavingState,m=0,g=a.default.mark((function e(t,p){var g,v
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=c[t],v={dataIndex:m,dataIndexMax:d,chunkIndex:t,chunkIndexMax:p,chunkLength:g.length,chunkFirstData:u(g[0]),saveQueueLength:h},e.next=4,l({retry:1/0,timeout:6e4,wait:5e3,task:function(){var e=(0,o.default)(a.default.mark((function e(t){var o,s,c
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.attempt,s=t.timeout,c=(0,i.default)({type:"".concat(n,"-save"),attempt:o,timeout:s},v),f(c),e.next=5,r(g,c)
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),onError:function(){var e=(0,o.default)(a.default.mark((function e(t,r){var o,c,l
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.attempt,c=r.timeout,l=(0,i.default)({type:"".concat(n,"-retry"),error:t.stack||String(t),attempt:o,timeout:c},v),f(l),e.next=5,s(t,g,l)
case 5:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()})
case 4:m+=g.length
case 5:case"end":return e.stop()}}),e)})),v=0,b=c.length
case 4:if(!(v<b)){e.next=9
break}return e.delegateYield(g(v,b),"t0",6)
case 6:v++,e.next=4
break
case 9:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.createEventEmitter=t.createEventTarget=t.createHub=void 0
t.createHub=function(){var e=new Set
return{clear:function(){return e.clear()},subscribe:function(t){e.add(t)},unsubscribe:function(t){e.delete(t)},send:function(t){return e.forEach((function(e){return e(t)}))}}}
var r=function(){var e=new Map
return{setMap:e,clear:function(){return e.clear()},on:function(t,n){var r=e.get(t)
r?r.add(n):e.set(t,new Set([n]))},off:function(t,n){var r=e.get(t)
r&&r.delete(n),r&&0===r.size&&e.delete(t)}}}
t.createEventTarget=function(){var e=r(),t=e.setMap
return{clear:e.clear,dispatchEvent:function(e){var n=t.get(e.type)
n&&n.forEach((function(t){return t(e)}))},addEventListener:e.on,removeEventListener:e.off}}
t.createEventEmitter=function(){var e=r(),t=e.setMap,n=e.clear,i=e.on,a=e.off
return{clear:n,emit:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i]
var a=t.get(e)
a&&a.forEach((function(e){return e.apply(void 0,r)}))},on:i,off:a,addListener:i,removeListener:a,removeAllListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
n.length?n.forEach((function(e){return t.delete(e)})):t.clear()}}}},function(e,t,n){"use strict"
var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]
e.exports=function(e){var t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length))
for(var o,s,c=r.exec(e||""),l={},u=14;u--;)l[i[u]]=c[u]||""
return-1!=n&&-1!=a&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/")
"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1)
"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1)
return n}(0,l.path),l.queryKey=(o=l.query,s={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),l}},function(e,t,n){"use strict";(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))}
var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(235).Buffer)},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(489),a=n(320),o=n(120),s=n(233),c=n(321),l=n(322),u=n(178)("socket.io-client:manager"),d=n(319),p=n(504),h=Object.prototype.hasOwnProperty
function f(e,t){if(!(this instanceof f))return new f(e,t)
e&&"object"===(0,r.default)(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),
this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[]
var n=t.parser||s
this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=f,f.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},f.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(f.prototype),
f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,
this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},
f.prototype.open=f.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this
u("opening %s",this.uri),this.engine=i(this.uri,this.opts)
var n=this.engine,r=this
this.readyState="opening",this.skipReconnect=!1
var a=c(n,"open",(function(){r.onopen(),e&&e()})),o=c(n,"error",(function(t){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error")
n.data=t,e(n)}else r.maybeReconnectOnOpen()}))
if(!1!==this._timeout){var s=this._timeout
u("connect attempt will timeout after %d",s),0===s&&a.destroy()
var l=setTimeout((function(){u("connect attempt timed out after %d",s),a.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s)
this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(a),this.subs.push(o),this},f.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open")
var e=this.engine
this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},
f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},f.prototype.socket=function(e,t){var n=this.nsps[e]
if(!n){n=new a(this,e,t),this.nsps[e]=n
var r=this
n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&i()}function i(){~d(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(e){var t=d(this.connecting,e)
~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){u("writing packet %j",e)
var t=this
e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options)
t.encoding=!1,t.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift()
this.packet(e)}},f.prototype.cleanup=function(){u("cleanup")
for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),
this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this
var e=this
if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1
else{var t=this.backoff.duration()
u("will wait %dms before reconnect attempt",t),this.reconnecting=!0
var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t)
this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts
this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){"use strict"
var r=n(236),i=n(492),a=n(500),o=n(501)
t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp
if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port
c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e)
if(!o)throw new Error("JSONP disabled")
return new a(e)},t.websocket=o},function(e,t,n){"use strict"
var r=n(238),i=n(179),a=n(121),o=n(180),s=n(318),c=n(181)("engine.io-client:polling")
e.exports=u
var l=null!=new(n(236))({xdomain:!1}).responseType
function u(e){var t=e&&e.forceBase64
l&&!t||(this.supportsBinary=!1),r.call(this,e)}o(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this
function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0
this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this
c("polling got data %s",e)
a.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1
t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this
function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this
this.writable=!1
var n=function(){t.writable=!0,t.emit("drain")}
a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n=""
return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){"use strict";(function(t){
var r=n(17)(n(23)),i=n(234),a=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File)
e.exports=function e(n){if(!n||"object"!==(0,r.default)(n))return!1
if(i(n)){for(var a=0,c=n.length;a<c;a++)if(e(n[a]))return!0
return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0
if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0)
for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&e(n[l]))return!0
return!1}}).call(this,n(235).Buffer)},function(e,t,n){"use strict"
var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},o=0,s=0
function c(e){var t=""
do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0)
return t}function l(){var e=c(+new Date)
return e!==r?(o=0,r=e):e+"."+c(o++)}for(;s<64;s++)a[i[s]]=s
l.encode=c,l.decode=function(e){var t=0
for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)]
return t},e.exports=l},function(e,t,n){"use strict"
var r=[].indexOf
e.exports=function(e,t){if(r)return e.indexOf(t)
for(var n=0;n<e.length;++n)if(e[n]===t)return n
return-1}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(233),a=n(120),o=n(503),s=n(321),c=n(322),l=n(178)("socket.io-client:socket"),u=n(179),d=n(317)
e.exports=f
var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=a.prototype.emit
function f(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}a(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io
this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=o(arguments)
return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this
var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:d(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}}
return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===(0,r.default)(this.query)?u.encode(this.query):this.query
l("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},f.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp
if(t||n)switch(e.type){case i.CONNECT:this.onconnect()
break
case i.EVENT:case i.BINARY_EVENT:this.onevent(e)
break
case i.ACK:case i.BINARY_ACK:this.onack(e)
break
case i.DISCONNECT:this.ondisconnect()
break
case i.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[]
l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,n=!1
return function(){if(!n){n=!0
var r=o(arguments)
l("sending ack %j",r),t.packet({type:d(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},f.prototype.onack=function(e){var t=this.acks[e.id]
"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e
for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e])
for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e])
this.sendBuffer=[]},f.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy()
this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t,n){"use strict"
e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t,n){"use strict"
var r=[].slice
e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function")
var n=r.call(arguments,2)
return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t,n){"use strict"
var r=n(99),i=n(188),a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt
e.exports=function(e){if("number"==typeof e)return e
if(i(e))return NaN
if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e
e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e
e=e.replace(a,"")
var n=s.test(e)
return n||c.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CSSTransition",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ReplaceTransition",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"SwitchTransition",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TransitionGroup",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Transition",{enumerable:!0,get:function(){return c.default}}),
Object.defineProperty(t,"config",{enumerable:!0,get:function(){return l.default}})
var i=r(n(418)),a=r(n(422)),o=r(n(424)),s=r(n(300)),c=r(n(225)),l=r(n(298))},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.CheckGroup=t.default=void 0
var i=r(n(7)),a=r(n(6)),o=r(n(3)),s=r(n(8)),c=r(n(9)),l=r(n(2)),u=n(0),d=n(5),p=r(n(1)),h=r(n(59)),f=r(n(76)),m=n(35),g=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,isChecked:e.props.isChecked}),(0,l.default)((0,o.default)(e),"onToggle",(function(){var t=e.props,n=t.name,r=t.value,i=t.label,a=t.onChange,s=t.onToggle,c=e.state.isChecked,l=(0,o.default)(e).canToggle?!c:c
e.setState({isChecked:l}),s(l,n,r||i),a(n,r||i,l)})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.className,i=e.label,a=e.name,o=this.state.isChecked,s=this.isDisabled,c=this.readOnly
return(0,u.jsxs)("label",{className:(0,m.trimList)(["core"===n?"CoreCheck":"Check",t,r,o&&"is-checked",s&&"is-disabled",c&&"readonly"]),children:[(0,u.jsx)("input",{type:"checkbox",defaultChecked:o,disabled:s,name:a,onChange:this.onToggle}),(0,u.jsx)("span",{className:"Check-state",children:(0,u.jsx)(f.default,{type:"dora",name:"check"})}),(0,u.jsx)("span",{className:"Check-label",children:i})]})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isChecked
return(0,h.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}]),n}(d.PureComponent);(0,l.default)(g,"propTypes",{size:p.default.oneOf(["regular","small"]),theme:p.default.oneOf(["core","plain"]),isChecked:p.default.bool,isDisabled:p.default.bool,disabled:p.default.bool,readOnly:p.default.bool,onChange:p.default.func.isRequired,onToggle:p.default.func.isRequired,label:p.default.any,name:p.default.string,value:p.default.any,className:p.default.string}),(0,l.default)(g,"defaultProps",{size:"regular",
theme:"plain",isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var v=function(e){(0,s.default)(n,e)
var t=(0,c.default)(n)
function n(){var e;(0,i.default)(this,n)
for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),(0,l.default)((0,o.default)(e),"name",e.props.name||Math.random().toString(36).substring(2,15)),(0,l.default)((0,o.default)(e),"state",{prevProps:e.props,valueList:(0,m.convertValueListToSet)(e.props.valueList)}),(0,l.default)((0,o.default)(e),"createOnChangeHandler",(function(t,n){return function(){var r=e.props,i=r.optionList,a=r.onToggle,s=r.onChange,c=e.state.valueList
if(!(0,o.default)(e).canToggle){var l=Array.from(c),u=l.map((function(e){return i.findIndex((function(t){return(0,m.getOptionValue)(t)===e}))}))
return a(l,t),void s({name:t,valueList:l,idxList:u})}var d=new Set(c),p=(0,m.getOptionValue)(n),h=d.has(p)?"delete":"add"
d[h](p)
var f=Array.from(d),g=f.map((function(e){return i.findIndex((function(t){return(0,m.getOptionValue)(t)===e}))}))
e.setState({valueList:d}),a(f,t),s({name:t,valueList:f,idxList:g})}})),e}return(0,a.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.theme,i=t.className,a=t.optionList,o=this.state.valueList,s=this.name,c=this.isDisabled,l=this.readOnly,d=(0,m.trimList)(["core"===r?"CoreCheckGroup":"CheckGroup",n,i,c&&"is-disabled",l&&"readonly"])
return(0,u.jsx)("span",{className:d,children:a.map((function(t,i){return t&&(0,u.jsx)(g,{name:s,label:(0,m.getOptionLabel)(t),size:n,theme:r,isDisabled:c||t.isDisabled,readOnly:l,isChecked:(0,m.checkOptionByValueList)(t,o),onChange:c||t.isDisabled?void 0:e.createOnChangeHandler(s,t)},i)}))})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.valueList
return(0,h.default)(n,e)?null:{prevProps:e,valueList:e.valueList}}}]),n}(d.PureComponent)
t.CheckGroup=v,(0,l.default)(v,"propTypes",{name:p.default.string,size:p.default.oneOf(["regular","small"]),theme:p.default.oneOf(["core","plain"]),className:p.default.string,onChange:p.default.func.isRequired,onToggle:p.default.func.isRequired,optionList:p.default.arrayOf(p.default.oneOfType([p.default.string,p.default.number,p.default.shape({label:p.default.any,value:p.default.any,isDisabled:p.default.bool})])).isRequired,valueList:p.default.oneOfType([p.default.instanceOf(Set),p.default.array]),
isDisabled:p.default.bool,disabled:p.default.bool,readOnly:p.default.bool}),(0,l.default)(v,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:function(){return null},onToggle:function(){return null},isDisabled:!1})
var b=g
t.default=b},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(4)),a=r(n(7)),o=r(n(6)),s=r(n(3)),c=r(n(8)),l=r(n(9)),u=r(n(2)),d=n(0),p=n(5),h=r(n(1)),f=r(n(37)),m=r(n(59)),g=n(87),v=n(209),b=n(35),y=function(e,t){return Number(Number(e).toFixed(t))},x=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},w=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)},j=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},S=function(e){(0,c.default)(n,e)
var t=(0,l.default)(n)
function n(){var e;(0,a.default)(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),(0,u.default)((0,s.default)(e),"state",{prevProps:e.props,value:(0,b.setNumberValue)(e.props.value),isHover:!1,isActive:!1,isValid:!0,isMenuOpen:!1}),(0,u.default)((0,s.default)(e),"onChange",(function(t){var n=t.target.value
e.setValue(n.trim(),t)})),(0,u.default)((0,s.default)(e),"correctNumber",(function(t){var n=e.props,r=n.value,i=n.min,a=n.max,o=n.precision,s=y(Math.min(Math.max(t,i),a),o)
return isNaN(s)?r:s})),(0,u.default)((0,s.default)(e),"checkValidity",(function(t){return/^\+$/.test(t)?e.canBePositive:/^\-$/.test(t)?e.canBeNegative:""===t||isFinite(t)&&e.correctNumber(t)===Number(t)})),(0,u.default)((0,s.default)(e),"setValue",(function(t,n,r){n.persist&&n.persist()
var i=e.props,a=i.value,o=i.parser,s=(i.placeholder,i.onConfirm,o(t.toString()).toString()),c=e.checkValidity(s),l=""!==t&&isFinite(s),u=w(s)
if(l||u){var d=e.correctNumber(s),p=isNaN(d)?a:d,h=u||!c?s:p
e.setState({value:h,isValid:c},r)}})),(0,u.default)((0,s.default)(e),"setConfirmedValue",(function(t,n){return e.setValue(t,n,(function(){return e.onConfirm(n)}))})),(0,u.default)((0,s.default)(e),"onConfirm",(function(t){var n=e.props,r=n.value,i=n.precision,a=n.onConfirm,o=n.shouldCorrectOnConfirm,s=e.state.value,c=e.checkValidity(s)
if(!(e.props.isDisabled||e.props.disabled)){t.persist&&t.persist()
var l=e.correctNumber(s),u=isNaN(l)?r:l,d=""===s?r:c?/^[\+\-]$/.test(s)?0:s:l===y(s,i)?l:o?u:r||u
return e.setState({value:d,isValid:!0},(function(){return a(d,t)}))}})),(0,u.default)((0,s.default)(e),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),(0,u.default)((0,s.default)(e),"onStep",(function(t){t.persist(),t.nativeEvent.stopPropagation()
var n=t.currentTarget.dataset.action,r=x(t,e.props.step)*("up"===n?1:-1)
e.setConfirmedValue(e.correctNumber(Number(e.state.value)+r),t),e.focusOnInput(t),Object.assign((0,s.default)(e),{longPressedTimeout:setTimeout((function(){return Object.assign((0,s.default)(e),{steppingInterval:setInterval((function(){return e.setConfirmedValue(e.correctNumber(Number(e.state.value)+r),t)}),30)})}),500)})})),(0,u.default)((0,s.default)(e),"onRelease",(function(){clearTimeout(e.longPressedTimeout),clearInterval(e.steppingInterval)})),(0,u.default)((0,s.default)(e),"onKeyDown",(function(t){
var n=t.key,r=t.currentTarget,i="ArrowUp"===n?"up":"ArrowDown"===n?"down":"Enter"===n?"enter":"Tab"===n?"tab":null,a=r instanceof Element&&r.matches("input")
if(i){if(t.persist&&t.persist(),"tab"!==i&&t.preventDefault(),a&&"tab"===i)return e.setInactive(),e.onConfirm(t)
if(a&&"enter"===i)return e.onConfirm(t),void e.$label.querySelector("input").select()
if(a){var o=x(t,e.props.step)*("up"===i?1:-1)
e.setConfirmedValue(e.correctNumber(Number(e.state.value)+o),t)}}})),(0,u.default)((0,s.default)(e),"set$label",(function(t){return Object.assign((0,s.default)(e),{$label:t})})),(0,u.default)((0,s.default)(e),"setActive",(function(){return e.setState({isActive:!0})})),(0,u.default)((0,s.default)(e),"setInactive",(function(){return e.setState({isActive:!1})})),(0,u.default)((0,s.default)(e),"onHover",(function(){return e.setState({isHover:!0})})),(0,u.default)((0,s.default)(e),"onLeave",(function(){
return e.setState({isHover:!1})})),(0,u.default)((0,s.default)(e),"toggleMenu",(function(){return e.setState({isMenuOpen:!e.state.isMenuOpen})})),(0,u.default)((0,s.default)(e),"closeMenu",(function(){return e.setState({isMenuOpen:!1})})),(0,u.default)((0,s.default)(e),"onSelect",(function(t){t.persist()
var n=t.currentTarget
e.setConfirmedValue(n.dataset.value,t),e.closeMenu()})),(0,u.default)((0,s.default)(e),"onClickOutside",(function(t){var n=t.target
n.closest("label")&&e.$label.contains(n)||(e.onConfirm(t),e.setInactive())})),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.positionEverything()}},{key:"componentDidUpdate",value:function(e){var t=e.title,n=e.prefix,r=e.suffix,i=this.props,a=i.title,o=i.prefix,s=i.suffix;(0,m.default)(t,a)&&(0,m.default)(n,o)&&(0,m.default)(r,s)||this.positionEverything()}},{key:"positionEverything",value:function(){
var e=this.$label,t=this.props,n=t.value,r=t.title,i=t.prefix,a=t.suffix,o=this.checkValidity(n)
if(this.setState({isValid:o}),r||i||a){var s=e.querySelector("input"),c=e.querySelector(".action"),l=e.querySelector(".title"),u=e.querySelector(".prefix"),d=e.querySelector(".suffix span")
s.style.paddingLeft=null
var p=parseInt(getComputedStyle(s).getPropertyValue("padding-left"))
if(r||i){var h=(l?l.clientWidth+6:0)+(u?u.clientWidth:0),f={paddingLeft:"".concat(h+p,"px")}
Object.assign(s.style,f),r&&i&&Object.assign(u.style,{left:"".concat(l.clientWidth+6,"px")}),a&&Object.assign(d.parentNode.style,f)}if(a){var m=c.clientWidth+d.clientWidth
Object.assign(s.style,{paddingRight:"".concat(m,"px")})}}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.theme,a=e.unstyled,o=e.readOnly,s=e.placeholder,c=e.prefix,l=e.suffix,u=e.title,p=e.desc,h=e.formatter,m=e.dontSelectOnFocus,y=e.onFocus,x=void 0===y?m?void 0:j:y,w=e.optionList,S=e.menuX,C=this.state,_=C.value,O=C.isHover,k=C.isActive,M=C.isValid,E=C.isMenuOpen,T=""===_,A=this.props.isDisabled||this.props.disabled,D=(0,
b.trimList)(["core"===r?"CoreInput CoreInputNumber CoreConfirmInputNumber":"Input InputNumber ConfirmInputNumber",n,a&&"unstyled",t,O&&!A&&!o&&"is-hover",k&&!A&&!o&&"is-active",E&&"is-menu-open",A&&"is-disabled",o&&"is-readonly",M?"is-valid":"isnt-valid",T?"is-empty":"isnt-empty",!!u&&"with-title",!!p&&"with-desc",!!c&&"with-prefix",!!l&&"with-suffix"]),N=w&&w.length>0
return(0,d.jsxs)("label",{className:D,ref:this.set$label,onMouseEnter:this.onHover,onMouseLeave:this.onLeave,onMouseDown:this.setActive,children:[u&&(0,d.jsx)("span",{className:"title",children:u}),p&&(0,d.jsx)("span",{className:"desc",children:p}),c&&(0,d.jsx)("span",{className:"prefix",children:c}),(0,d.jsx)("input",(0,i.default)({type:"text",value:h(_),placeholder:s,disabled:A,readOnly:o,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:x},(0,b.getOtherProps)(this.constructor,this.props))),l&&(0,
d.jsx)("span",{className:"suffix","data-value":h(_),"data-suffix":l,children:(0,d.jsx)("span",{children:l})}),(0,d.jsx)(v.InputActionButton,{hasMenu:N,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),N&&(0,d.jsx)(g.SelectMenu,{isOpen:E,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:w,value:_,menuX:S,onChange:this.onSelect,onClose:this.closeMenu}),(k||E)&&(0,d.jsx)(f.default,{target:document,onClick:this.onClickOutside,onKeyDown:this.onKeyDown})]})}},{
key:"canBePositive",get:function(){return this.props.max>0}},{key:"canBeNegative",get:function(){return this.props.min<0}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,m.default)(n,e)?null:{prevProps:e,value:(0,b.setNumberValue)(e.value)}}}]),n}(p.PureComponent);(0,u.default)(S,"propTypes",{size:h.default.oneOf(["regular","small"]),theme:h.default.oneOf(["core","plain"]),unstyled:h.default.bool,step:h.default.number,precision:h.default.number,formatter:h.default.func,parser:h.default.func,value:h.default.oneOfType([h.default.string,h.default.number]),placeholder:h.default.oneOfType([h.default.string,h.default.number]),
optionList:h.default.arrayOf(h.default.oneOfType([h.default.string,h.default.number])),menuX:h.default.oneOf(["left","center"]),dontSelectOnFocus:h.default.bool,title:h.default.node,desc:h.default.node,prefix:h.default.node,suffix:h.default.node,min:h.default.number,max:h.default.number,isDisabled:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onFocus:h.default.func,onConfirm:h.default.func.isRequired,shouldCorrectOnConfirm:h.default.bool,className:h.default.string}),(0,
u.default)(S,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",placeholder:"",step:1,precision:1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onConfirm:function(){return null},shouldCorrectOnConfirm:!1})
var C=S
t.default=C},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createAutoSaver=void 0
var i=r(n(24)),a=n(465),o=n(466),s=n(468),c=n(469)
t.createAutoSaver=function(e){var t=e.onSaverError,n=(0,a.createEventTarget)(),r=n.clear,l=n.addEventListener,u=n.removeEventListener,d=n.dispatchEvent,p=new Map,h=function(e){if(p.has(e.name))throw new Error("[addSaver] exist saver: ".concat(e.name))
p.set(e.name,e),e.startTimer()},f=function(e){if(!p.has(e.name))throw new Error("[dropSaver] no saver: ".concat(e.name))
p.delete(e.name),e.stopTimer()}
return{clear:function(){var e,t=(0,i.default)(p)
try{for(t.s();!(e=t.n()).done;){var n=e.value
f(n)}}catch(e){t.e(e)}finally{t.f()}r()},addEventListener:l,removeEventListener:u,getSaver:function(e){return p.get(e)},addSaver:h,dropSaver:f,isAllEmpty:function(){var e,t=(0,i.default)(p.values())
try{for(t.s();!(e=t.n()).done;){if(!e.value.getState().isEmpty)return!1}}catch(e){t.e(e)}finally{t.f()}return!0},getAllState:function(){var e,t={},n=(0,i.default)(p.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t[r.name]=r.getState()}}catch(e){n.e(e)}finally{n.f()}return t},triggerAllSave:function(){var e,t=(0,i.default)(p.values())
try{for(t.s();!(e=t.n()).done;){e.value.triggerSave()}}catch(e){t.e(e)}finally{t.f()}},addDummySaver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=void 0===n?"saver:dummy":n,i=e.eventTypeBefore,a=void 0===i?"saver:dummy:before-save":i,s=e.eventTypeAfter,c=void 0===s?"saver:dummy:after-save":s,l=e.autoSaveDelay,u=void 0===l?2e3:l
return h((0,o.createDummyAutoSaver)({name:r,onSaverError:t,beforeSave:function(){return d({type:a,name:r})},afterSave:function(){return d({type:c,name:r})},autoSaveDelay:u}))},addRailsFetchSaver:function(e){var n=e.urlRailsFetchBatchSave,r=e.onSaveChunkErrorAsync,i=e.name,a=void 0===i?"saver:rails-fetch":i,o=e.eventTypeBefore,c=void 0===o?"saver:rails-fetch:before-save":o,l=e.eventTypeAfter,u=void 0===l?"saver:rails-fetch:after-save":l,p=e.autoSaveDelay,f=void 0===p?2e3:p
return h((0,s.createRailsFetchAutoSaver)({urlRailsFetchBatchSave:n,onSaveChunkErrorAsync:r,name:a,onSaverError:t,beforeSave:function(){return d({type:c,name:a})},afterSave:function(){return d({type:u,name:a})},autoSaveDelay:f}))},addProjectExchangeSaver:function(e){
var n=e.projectExchange,r=e.socketStore,i=e.getFromUser,a=e.onSaveChunkErrorAsync,o=e.name,s=void 0===o?"saver:project-exchange":o,l=e.eventTypeBefore,u=void 0===l?"saver:project-exchange:before-save":l,p=e.eventTypeAfter,f=void 0===p?"saver:project-exchange:after-save":p,m=e.autoSaveDelay,g=void 0===m?2e4:m
return h((0,c.createProjectExchangeAutoSaver)({projectExchange:n,socketStore:r,getFromUser:i,onSaveChunkErrorAsync:a,name:s,onSaverError:t,beforeSave:function(){return d({type:u,name:s})},afterSave:function(){return d({type:f,name:s})},autoSaveDelay:g}))}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSocketStoreV3=void 0
var i=r(n(4)),a=n(230),o=n(478),s=n(506),c=n(507)
t.createSocketStoreV3=function(e){var t=e.userId,n=e.socketUrl,r=void 0===n?window.location.origin:n,l=e.socketPayloadListenerMap,u=e.socketPayloadQueueAsyncListenerMap,d=e.onError,p=(0,i.default)((0,i.default)((0,i.default)((0,i.default)({},o.initialSocketState),s.initialState),c.initialState),{},{userId:t}),h=(0,o.createSocketStore)({initialState:p,socketPayloadListenerMap:l,socketPayloadQueueAsyncListenerMap:u,socketUrl:r,socketQueryDebugCookie:t
}),f=h.addEventListener,m=h.removeEventListener,g=h.destroy,v=h.getIsSocketConnected,b=h.getSocketTimestamp,y=(0,a.createInsideOutPromise)()
f("socket:open",(function(){(0,s.onReconnect)({socketStore:h,onError:d}),(0,c.onReconnect)({socketStore:h,onError:d}),y.resolve(),y=(0,a.createInsideOutPromise)()}))
var x=Promise.resolve(void 0),w=(0,s.getMethod)({socketStore:h,onError:d}),j=w.joinProjectMeta,S=w.leaveProjectMeta,C=w.requestProjectMetaJsonSaveQueue,_=w.requestProjectMetaBufferSaveQueue,O=(0,c.getMethod)({socketStore:h,onError:d}),k=O.joinTeam,M=O.leaveTeam,E=O.joinOrg,T=O.leaveOrg,A=O.joinOrgLibrary,D=O.leaveOrgLibrary
return{destroy:g,addEventListener:f,removeEventListener:m,getSocketTimestamp:b,getIsSocketConnected:v,getSocketConnectPromise:function(){return v()?x:y.promise},joinProjectMeta:j,leaveProjectMeta:S,requestProjectMetaJsonSaveQueue:C,requestProjectMetaBufferSaveQueue:_,joinTeam:k,leaveTeam:M,joinOrg:E,leaveOrg:T,joinOrgLibrary:A,leaveOrgLibrary:D}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSnapshotStore=void 0
var i=r(n(4)),a=n(269),o=n(508),s=n(511)
t.createSnapshotStore=function(e){var t=e.urlSnapshotPng,n=e.urlSnapshotTask,r=e.urlSnapshotPublic,c=e.urlPngFallback,l=e.requestDesktopSnapshot,u=e.getDesktopSnapshotPngData,d=e.getDesktopSnapshotPngZipData,p=e.getScreenMetaHtmlString,h=(0,a.isBasicFunction)(l)&&(0,a.isBasicFunction)(u)&&(0,a.isBasicFunction)(d)&&(0,a.isBasicFunction)(p)
return{isSnapshotPublicAvailable:h,getSnapshotPngUrl:o.getSnapshotPngUrl,loadSnapshotPngAsync:function(e){var n=e.imageElement,a=e.zoomMode,d=e.cacheTag,f=e.projectMetaCid,m=e.screenMetaCid,g=e.screenStateCid,v=h&&u(f,m,g)
return v?(0,s.loadSnapshotPngAsync)((0,i.default)({urlSnapshotPublic:r,urlPngFallback:c,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,imageElement:n,zoomMode:a,projectMetaCid:f,screenMetaCid:m,screenStateCid:g},v)):(0,o.loadSnapshotPngAsync)({urlSnapshotPng:t,urlPngFallback:c,imageElement:n,zoomMode:a,cacheTag:d,projectMetaCid:f,screenMetaCid:m,screenStateCid:g})},requestSnapshotPngAsync:function(e){var n=e.imageElement,a=e.zoomMode,d=e.projectMetaCid,f=e.screenMetaCid,m=e.screenStateCid,g=h&&u(d,f,m)
return g?(0,s.requestSnapshotPngAsync)((0,i.default)({urlSnapshotPublic:r,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,zoomMode:a,projectMetaCid:d,screenMetaCid:f,screenStateCid:m},g)):(0,o.requestSnapshotPngAsync)({urlSnapshotPng:t,urlPngFallback:c,imageElement:n,zoomMode:a,projectMetaCid:d,screenMetaCid:f,screenStateCid:m})},requestSnapshotPngZipAsync:function(e){var t=e.zoomMode,a=e.projectMetaCid,c=e.screenMetaCidList,u=e.screenMetaFolderCidList,f=e.onProgress,m=h&&d(a)
return m?(0,s.requestSnapshotPngZipAsync)((0,i.default)({urlSnapshotPublic:r,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,zoomMode:t,projectMetaCid:a,onProgress:f},m)):(0,o.requestSnapshotPngZipAsync)({urlSnapshotTask:n,zoomMode:t,projectMetaCid:a,screenMetaCidList:c,screenMetaFolderCidList:u,onProgress:f})}}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return gt}))
var r=n(0),i=n(5),a=n.n(i),o=n(11),s=n.n(o),c=n(137),l=n(23),u=n.n(l),d=n(22),p=n.n(d),h=n(32),f={SHARING_PRD_MODE:["https://modao.kf5.com/hc/kb/article/1360857","https://mockitt.wondershare.com/guide/are-you-allowed-to-switch-to-prd-mode.html"]},m=function(e){var t=e.isWonderShare,n=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var i=p()(t,2),a=i[0],o=i[1]
Array.isArray(o)?r[a]=o[n]:"object"===u()(o)&&(r[a]=e(o,n))})),r}(f,t?1:0)
Object(h.b)({MB_SHARING_LINK:n})}
var g=n(170),v={imock_sharing:{palette:{panel_bg_blue:["#298DF8","#298DF8","#298DF8","#4257FF"]},check_bc:["#c8cdd0","#c8cdd0","#999","#c8cdd0","#c8cdd0"],border_color:["#ededed","#ededed","#252626","#ededed"],border_line:["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],text_c:["#5b6b73","#5b6b73","#b8bcbf","#5b6b73"],menu_bg:["#fff","#fff","#363738","#fff"],url_menu_bg:["#f2f2f2","#f2f2f2","#454647","#f2f2f2"],input_border:["#e8e8e8","#e8e8e8","#595A5C","#e8e8e8"],
html_btn_bg:["#fcfcfc","#fcfcfc","#454647","#fcfcfc"],drop_footer_btn:["#c8cdd1","#c8cdd1","#1f292e","#c8cdd1"],content_height:["78px","78px","78px","auto"],copy_btn:["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],divider_1:["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],text_3_cr:["#415058","#415058","#D7DDE0","#415058"],text_15_cr:["#415058","#415058","#B8BCBF","#415058"],radio_bg:["#f6f7f8","#f6f7f8","#454647","#f6f7f8"],border_cr:["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],switch:{
bg:["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],tc:["#fff","#fff","#999999","#fff"]},divider_2:["#ededed","#ededed","#252626","#ededed"],divider_4:["#e8e8e8","#e8e8e8","#151515","#e8e8e8"],text_5_cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],text_6_cr:["#415058","#415058","#B8BCBF","#415058"],border_input:["1px solid #e8e8e8","1px solid #e8e8e8","1px solid #595A5C","1px solid #e8e8e8"],text_31_cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],scale_item_bg:["#ededed","#ededed","#454647","#ededed"],
input_bg:["#fff","#fff","#252626","#fff"],upload_bg:["#f7f7f7","#f7f7f7","#252626","#f7f7f7"],upload_border:["#c8cdd0","#c8cdd0","#595a5c","#c8cdd0"],text_13_cr:["#1f292e","#1f292e","#F2F4F5","#1f292e"],text_12_cr:["#415058","#415058","#F2F4F5","#415058"],icon_12:{cr:["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],hover:["#415058","#415058","#F2F4F5","#415058"]},icon_13:{cr:["#7d8694","#7d8694","#B8BCBF","#7d8694"]}},loadingIcon:{color_1:["rgb(237, 237, 237)","rgb(237, 237, 237)","#6B6B6B","rgb(237, 237, 237)"],
color_2:["rgb(200, 205, 208)","rgb(200, 205, 208)","#595a5c","rgb(200, 205, 208)"]},workspace_dropdown_menu:{shadow:{shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},bg:{bg_4:["#fff","#fff","#454647","#fff"]},text_5:{cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},dark:{tc:["#fff","#fff","#415058","#fff"],hover_tc:["#fff","#fff","#1F292E","#fff"],
bg:["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]}},new_slide_nav:{text_10:{cr:["#7d8694","#7d8694","#999999","#7d8694"],hover:["#1f292e","#1f292e","#D7DDE0","#1f292e"],active:["#1f292e","#1f292e","#F2F4F5","#1f292e"]},text_disabled:{cr:["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},border:["#1f292e","#1f292e","#D7DDE0","#1f292e"]},tooltip:{tips_bg:["#1f292e","#1f292e","#F2F4F5","#1f292e"],cr:["#fff","#fff","#1F292E","#fff"]},common:{bg:{
select_bg:["#fff","#fff","#151515","#fff"]},text_32:{cr:["#fff","#fff","#F2F4F5","#fff"]},text_14:{cr:["#fff","#fff","#1F292E","#fff"]},check:{tc:["#5b6b73","#5b6b73","#151515","#5b6b73"],border_color:["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],active_bg:["#7d8694","#7d8694","#196AD4","#7d8694"],active_tc:["#5b6b73","#5b6b73","transparent","#5b6b73"]},text_24:{cr:["#5b6b73","#5b6b73","#999999","#5b6b73"]},text_2:{active:["#298DF8","#298DF8","#F2F4F5","#4257FF"]},icon_5:{
cr:["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"]}},toast:{success:{bg:["#7d8694","#7d8694","#F2F4F5","#7d8694"]}},listItem:{icon_expander:["#8d9ea7","#8d9ea7","#E6E9EB","#8d9ea7"]},warn_sharing_link:["#eb5648","#eb5648","#eb5648","#FF3333"],unread_signal_bg:{bg:["#eb5648","#eb5648","#eb5648","#FF3333"]}},b=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var i=p()(t,2),a=i[0],o=i[1]
Array.isArray(o)?r[a]=o[n]:"object"===u()(o)?r[a]=e(o,n):r[a]=o})),r},y={light:b(v,0),grey:b(v,1),dark:b(v,2),wondershare:b(v,3)},x=n(10),w=n.n(x),j=n(15),S=n.n(j),C=n(7),_=n.n(C),O=n(6),k=n.n(O),M=n(3),E=n.n(M),T=n(8),A=n.n(T),D=n(9),N=n.n(D),I=n(2),P=n.n(I),L=n(1),F=n.n(L),B=n(40),R=n.n(B),U=n(4),z=n.n(U),H=n(84),G=n(14),V=n(31),W=n(82),Y=n.n(W),q=n(130),Z=n(13),X=n.n(Z),J=s.a.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"k6jxw7-0"
})(["height:100%;display:flex;background-color:",";border-radius:4px;.divider{height:100%;width:1px;background-color:",";}.password-input{padding-left:11px;border:1px solid ",";border-radius:4px 0 0 4px;border-right-color:transparent;flex:1;transition:all 0.2s ease-out;color:",";&:hover{border-color:",";border-right:1px solid ",";box-shadow:0 0 6px 0 rgba(41,141,248,0.5);}}.password-button{padding:0 26px;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&:hover{color:",";}}&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:hover{box-shadow:rgb(255,97,97,0.5) 0 0 6px 0;}}}"],(function(e){
return e.theme.imock_sharing.input_bg}),(function(e){return e.theme.imock_sharing.divider_4}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.text_13_cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.html_btn_bg}),(function(e){
return e.theme.imock_sharing.palette.panel_bg_blue})),K=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
return _()(this,n),r=t.call(this,e),P()(E()(r),"handleInputChange",(function(e){r.setState({value:e.target.value,isSaved:!1})})),P()(E()(r),"handleInputSubmit",(function(e){var t=r.props.onSubmit,n=r.state,i=n.value
n.isSaved||t(i),r.setState({isSaved:!0})})),r.state={value:e.value,isSaved:!!e.value},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.className,i=e.readOnly,a=this.state,o=a.value,s=a.isSaved,c=s?I18N.imockSharing.copy_password:I18N.imockSharing.save_password
return Object(r.jsxs)(J,{className:X()({"is-readOnly":i},n),children:[Object(r.jsx)("input",{type:"text",className:"password-input",placeholder:t,value:o,onChange:this.handleInputChange}),Object(r.jsx)("div",{className:"divider"}),Object(r.jsx)("button",{type:"button",className:X()("password-button",{copy:s}),"data-clipboard-text":o,onClick:this.handleInputSubmit,children:c})]})}}]),n}(i.PureComponent)
P()(K,"propTypes",{readOnly:F.a.bool,onSubmit:F.a.func,placeholder:F.a.string,value:F.a.string,className:F.a.string})
var Q=function(){var e
window.zhuge&&(e=window.zhuge).track.apply(e,arguments)},$=function(e){return[{value:"org_member",label:e.imockSharing.share_members_comment},{value:"off",label:e.imockSharing.share_close_comment}]},ee=function(e){return[{value:"device",label:e.imockSharing.prd_device},{value:"long_page",label:e.imockSharing.prd_page},{value:"outside_artboard",label:e.imockSharing.prd_prd}]},te=function(e){return ee(e).slice(0,2)},ne=function(e){return[{key:"sharing_link",label:e.imockSharing.tab_basic},{
key:"screen_visible_switch",label:e.imockSharing.tab_screen},{key:"sharing_embedded",label:e.imockSharing.tab_insertion}]},re=n(191),ie=n.n(re),ae=n(27),oe=function(e){return ie()([{value:"public",label:I18N.imockSharing.share_anyone_view},e&&{value:"restricted",label:I18N.imockSharing.org_members_only},{value:"private",label:I18N.imockSharing.view_with_password}])},se=function(e,t,n){return"".concat(location.origin,"/app/").concat(e,"?simulator_type=").concat(t).concat(n?"&sticky":"")},ce=function(e,t){
var n=Object.fromEntries(new URLSearchParams(location.search).entries()),r=n.simulator_type,i=""===n.sticky||Object(ae.c)("".concat("sharing-is-stickyshow","-").concat(e.cid),!0,ae.a.Boolean)
if(r)return{simulatorType:r,stickyShow:i}
var a=Object(ae.c)("".concat("sharing-simulatorDisplayType","-").concat(e.cid),"device",ae.a.String)
return{simulatorType:"outside_artboard"!==a||t?a:"device",stickyShow:i}},le=Object(i.memo)((function(e){
var t=e.isOrgProject,n=e.isSettingPassword,a=e.isLegalPassword,o=e.highlight,s=e.wechat,c=e.shareViewAccess,l=e.password,u=e.commentPermission,d=e.isStickyShow,f=e.simulatorDisplayType,m=e.isViewPrd,g=e.onChangeAccess,v=e.onSubmitPassword,b=e.onOrgCommentPermission,y=e.onToggleWechat,x=e.onToggleHighlight,w=e.onChangeSoloCommentPermission,j=e.onChangeViewPrd,S=e.onSimulatorDisplayType,C=e.onToggleStickyShow,_=Object(i.useState)(!0),O=p()(_,2),k=O[0],M=O[1],E=Object(i.useCallback)((function(){M(!k)}),[k])
return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"sharing-permission",children:[Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_view}),Object(r.jsx)(q.RadioGroup,{name:"access",optionList:oe(t),value:c,onChange:g})]}),n&&Object(r.jsx)("div",{className:"password-input-item",children:Object(r.jsx)(K,{className:X()({"is-warning":!a}),placeholder:I18N.imockSharing.share_sccess_password,
value:l||"",onSubmit:v})}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_comment}),t?Object(r.jsx)(q.RadioGroup,{name:"comment_permission",optionList:$(I18N),value:u,onChange:b}):Object(r.jsx)(Y.a,{size:"small",isChecked:"org_member"===u,onChange:w})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsxs)("div",{className:"line-item-guide",children:[Object(r.jsx)("label",{className:"item-title",
children:I18N.imockSharing.view_prd}),Object(r.jsx)(V.b,{content:I18N.imockSharing.permission_preview_outside,direction:"right",children:Object(r.jsx)("a",{className:"question-action",href:h.a.MB_SHARING_LINK.SHARING_PRD_MODE,target:"_blank",rel:"noopener noreferrer",onClick:de,children:Object(r.jsx)(G.a,{name:"workspace/question/circle"})})})]}),Object(r.jsx)(Y.a,{size:"small",isChecked:m,onChange:j})]})]}),Object(r.jsxs)("div",{className:"sharing-setting",children:[Object(r.jsx)("div",{
className:"open-setting line-item",children:Object(r.jsxs)("a",{className:X()("opener-wrapper",{"is-open":k}),onClick:E,children:[Object(r.jsx)("span",{children:I18N.imockSharing.preview_seeting}),Object(r.jsx)(G.a,{name:"design/toolbar/arrow"})]})}),Object(r.jsxs)("div",{className:X()("setting-content",{"is-open":k}),children:[Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.preview_mode}),Object(r.jsx)(q.RadioGroup,{
className:"inline",name:"simulator_display_type",optionList:m?ee(I18N):te(I18N),value:f,onChange:S})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_highlight_click}),Object(r.jsx)(Y.a,{size:"small",isChecked:o,onChange:x})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.preview_remark}),Object(r.jsx)(Y.a,{size:"small",isChecked:d,
onChange:C})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),Object(r.jsx)(Y.a,{size:"small",isChecked:s,onChange:y})]})]})]})]})}))
le.propTypes={isStickyShow:F.a.bool,isViewPrd:F.a.bool,isOrgProject:F.a.bool,isSettingPassword:F.a.bool,isLegalPassword:F.a.bool,highlight:F.a.bool,wechat:F.a.bool,shareViewAccess:F.a.string,password:F.a.string,simulatorDisplayType:F.a.string,commentPermission:F.a.string,onChangeAccess:F.a.func,onSubmitPassword:F.a.func,onOrgCommentPermission:F.a.func,onToggleWechat:F.a.func,onToggleHighlight:F.a.func,onChangeSoloCommentPermission:F.a.func,onChangeViewPrd:F.a.func,onSimulatorDisplayType:F.a.func,
onToggleStickyShow:F.a.func}
var ue=le,de=function(){Q("PRD_know_more")},pe=n(95),he=s.a.div.withConfig({displayName:"styles__StyledSharingEmbeddedWrapper",componentId:"sc-1o3j0jy-0"
})(["padding:0 26px 26px 26px;.desc{height:40px;line-height:40px;color:",";margin-bottom:8px;margin-top:0;b{color:",";}}.copy-wrapper{display:flex;justify-content:space-between;.demo-img{width:188px;height:108px;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:142px;height:108px;border:",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:",";margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],(function(e){
return e.theme.imock_sharing.text_5_cr}),(function(e){return e.theme.imock_sharing.text_6_cr}),(function(e){return e.theme.imock_sharing.border_input}),(function(e){return e.theme.imock_sharing.text_31_cr}),(function(e){return e.theme.imock_sharing.copy_btn}),(function(e){return e.theme.imock_sharing.border_input}),(function(e){return e.theme.imock_sharing.scale_item_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_13.cr
})),fe=null,me=function(e){var t=e.currentTarget
t.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(fe),fe=setTimeout((function(){t.innerHTML=I18N.imockSharing.successfully_copied}),3e3)},ge=Object(i.memo)((function(e){var t,n=e.project,a=(e.simulatorDisplayType,e.theme),o=n.access_token,s=n.homeOrientation,c=n.shell_type,l="default"===c?"none":c,u=Object(pe.d)(n,l,s),d=80+u.width,h=80+u.height,f=(t=o,
"".concat(location.origin,"/app/").concat(t)),m='<iframe src="'.concat(f,'/embed/v2" allowTransparency="true" frameborder="0"></iframe>'),g='<iframe src="'.concat(f,'/embed" width="').concat(d,'" height="').concat(h,'" allowTransparency="true" frameborder="0"></iframe>'),v=Object(i.useState)(!1),b=p()(v,2),y=b[0],x=b[1],w=Object(i.useCallback)((function(){x(!y)}),[y])
return Object(r.jsxs)(he,{children:[Object(r.jsxs)("p",{className:"desc",children:[Object(r.jsx)("b",{children:I18N.imockSharing.zoom_insertion}),I18N.imockSharing.zoom_insertion_desc]}),Object(r.jsxs)("div",{className:"copy-wrapper",children:[Object(r.jsx)("img",{src:"dark"===a?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),Object(r.jsxs)("div",{className:"copy-box",children:[Object(r.jsx)("p",{
className:"sharing-embedded-url",children:m}),Object(r.jsx)("button",{className:"copy-button copy","data-clipboard-text":m,onClick:me,children:I18N.imockSharing.copy_code})]})]}),Object(r.jsx)("div",{className:"open-setting line-item embedded-padding",children:Object(r.jsxs)("a",{className:X()("opener-wrapper",{"is-open":y}),onClick:w,children:[Object(r.jsx)("span",{children:I18N.imockSharing.more_insertion}),Object(r.jsx)(G.a,{name:"design/toolbar/arrow"})]})}),Object(r.jsxs)("div",{
className:X()("hidden",{"is-open":y}),children:[Object(r.jsxs)("p",{className:"desc",children:[Object(r.jsx)("b",{children:I18N.imockSharing.common_insertion}),I18N.imockSharing.common_insertion_desc]}),Object(r.jsxs)("div",{className:"copy-wrapper",children:[Object(r.jsx)("img",{src:"dark"===a?"/mb-workspace/images/sharing/share_common_dark.png":"/mb-workspace/images/sharing/share_common_light.png",className:"demo-img"}),Object(r.jsxs)("div",{className:"copy-box",children:[Object(r.jsx)("p",{
className:"sharing-embedded-url",children:g}),Object(r.jsx)("button",{className:"copy-button copy","data-clipboard-text":g,onClick:me,children:I18N.imockSharing.copy_code})]})]})]})]})}))
ge.propTypes={simulatorDisplayType:F.a.string,project:F.a.object,theme:F.a.string}
var ve=ge,be=n(24),ye=n.n(be),xe=n(76),we=n.n(xe),je=s.a.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-13ss6vm-0"
})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],(function(e){
return e.theme.common.check.tc}),(function(e){return e.theme.common.check.border_color}),(function(e){return e.theme.common.bg.select_bg}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.check.active_bg}),(function(e){return e.theme.common.check.active_tc})),Se=function(e){A()(n,e)
var t=N()(n)
function n(){var e
_()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),P()(E()(e),"onToggle",(function(t){(0,e.props.onChange)(t)})),e}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isDisabled,i=e.readOnly,a=e.isChecked,o=X()(t,{"is-checked":a,"is-disabled":n,readonly:i})
return Object(r.jsx)(je,{className:o,onClick:this.onToggle,children:Object(r.jsx)("span",{className:"Check-state",children:Object(r.jsx)(we.a,{type:"dora",name:"check"})})})}}]),n}(i.PureComponent)
P()(Se,"propTypes",{isChecked:F.a.bool,isDisabled:F.a.bool,readOnly:F.a.bool,onChange:F.a.func,label:F.a.any,name:F.a.string,value:F.a.any,className:F.a.string}),P()(Se,"defaultProps",{isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var Ce=n(91),_e=n(29),Oe=s.a.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1b9atjc-0"
})(["margin:8px 40px 16px 40px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.Switch.is-checked{background-color:",";}.Switch{background-color:",';[type="button"]{background-color:',";border:unset;box-shadow:0 1px 6px rgba(0,0,0,0.2),0 1px 4px rgba(0,0,0,0.2);}&.is-checked{background:rgba(41,141,248,0.6);& > button{background-color:",";border:unset;}}}}.sm-check{.Check-state{background-color:",";border:1px solid ",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";.icon{color:#fff;}}&.is-disabled::after{background-color:unset;}}.screen-list-content{height:349px;overflow-y:auto;border-radius:2px;border:1px solid ",";&.is-disabled{opacity:0.4;cursor:not-allowed;}ol,li{list-style:none;}.sm-list{height:100%;margin-left:15px;.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{width:9px;height:12px;margin-right:8px;color:",";}.sm-folder-icon{width:14px;height:14px;margin-right:8px;.main{fill:",";}.secondary{fill:#76b8ff;}}.expander{display:flex;align-items:center;justify-content:center;width:12px;margin-left:-12px;color:#5b6b73;.arrow-icon{color:",";&.is-expand{transform:rotate(90deg);}}}}.sm-box{display:flex;align-items:center;height:33px;border-bottom:1px solid ",";&.is-display{.sm-item,.sm-icon{color:",";}.arrow-icon{color:",";}}&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;}}}}}"],(function(e){
return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.switch.bg}),(function(e){return e.theme.imock_sharing.switch.tc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.workspace_dropdown_menu.bg.bg_4}),(function(e){return e.theme.imock_sharing.check_bc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){
return e.theme.imock_sharing.border_line}),(function(e){return e.theme.common.icon_5.cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.listItem.icon_expander}),(function(e){return e.theme.imock_sharing.border_color}),(function(e){return e.theme.common.text_2.active}),(function(e){return e.theme.common.text_2.active})),ke=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
_()(this,n),r=t.call(this,e),P()(E()(r),"handleCheck",(function(e){var t=r.props,n=t.onUpdateScreenVisibleList,i=t.screenVisibleSwitch,a=t.screenVisibleList
if(!!i){var o=new Set(a),s=Object(_e.h)(e),c=o.has(e.cid)
Object(_e.e)(e.cid,r.screenTreeData).forEach((function(e){var t=e.cid
c||o.add(t)})),s.forEach((function(e){var t=e.cid
c?o.delete(t):o.add(t)}))
var l,u=[],d=ye()(o)
try{for(d.s();!(l=d.n()).done;){var p=l.value,h=r.screenDataMap[p]
h&&!Object(_e.a)(h)&&u.push(h)}}catch(e){d.e(e)}finally{d.f()}0===u.length?window.sharingNotice(I18N.imockSharing.display_tip,"error"):n(Array.from(o))}}))
var i=e.screenMetaList,a=Object(Ce.a)(i),o=a.screenTreeData,s=a.dataMap
return r.screenDataMap=s,r.screenTreeData=o,r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.screenVisibleSwitch,n=e.onScreenHidden,i=e.screenVisibleList,a=!t
return Object(r.jsxs)(Oe,{children:[Object(r.jsxs)("div",{className:"sm-hidden-check",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.show_all_screen}),Object(r.jsx)(Y.a,{size:"small",isChecked:a,onChange:n})]}),Object(r.jsx)("div",{className:X()("screen-list-content",{"is-disabled":a}),children:Object(r.jsx)("div",{className:"sm-list",children:Object(r.jsx)(Me,{isDisplayScreenAll:a,screenTreeData:this.screenTreeData,screenVisibleList:i,onCheck:this.handleCheck})})})]})}
}]),n}(i.PureComponent)
P()(ke,"propTypes",{screenVisibleSwitch:F.a.bool,onScreenHidden:F.a.func,screenMetaList:F.a.array,screenVisibleList:F.a.array,onUpdateScreenVisibleList:F.a.func})
var Me=function(e){var t=e.isDisplayScreenAll,n=e.screenTreeData,i=e.screenVisibleList,a=e.onCheck
return Object(r.jsx)(r.Fragment,{children:n.children.map((function(e){return Object(r.jsx)(Ee,{treeNode:e,root:!0,depth:0,screenVisibleList:i,isDisplayScreenAll:t,onCheck:a},e.cid)}))})}
Me.propTypes={isDisplayScreenAll:F.a.bool,screenTreeData:F.a.object,screenVisibleList:F.a.array,onCheck:F.a.func}
var Ee=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
return _()(this,n),r=t.call(this,e),P()(E()(r),"handleCheck",(function(e){if(e.stopPropagation(),!r.props.isDisplayScreenAll){var t=r.props,n=t.treeNode;(0,t.onCheck)(n)}})),P()(E()(r),"handleExpand",(function(e){r.props.isDisplayScreenAll||(e.stopPropagation(),r.setState({expand:!r.state.expand}))})),r.state={expand:!0},r}return k()(n,[{key:"render",value:function(){
var e=this.props,t=e.isDisplayScreenAll,i=e.treeNode,a=e.root,o=e.depth,s=e.screenVisibleList,c=e.onCheck,l=i.children,u=i.data,d=0!==l.length,p=this.state.expand,h=s&&s.includes(u.cid)
return Object(r.jsxs)("li",{className:X()("content-item"),children:[Object(r.jsxs)("div",{className:X()("sm-box",{"is-display":h,"is-disabled":t}),children:[Object(r.jsx)(Se,{isDisabled:t,className:"sm-check",isChecked:t||h,onChange:this.handleCheck}),Object(r.jsx)(Te,{root:a,depth:o,showExpander:d,data:u,expand:p,onClick:this.handleCheck,onExpand:this.handleExpand})]}),l.length>0&&p&&Object(r.jsx)("ol",{className:"sm-child",children:l.map((function(e){return Object(r.jsx)(n,{treeNode:e,depth:o+1,
screenVisibleList:s,isDisplayScreenAll:t,onCheck:c},e.cid)}))})]})}}]),n}(i.PureComponent)
P()(Ee,"propTypes",{isDisplayScreenAll:F.a.bool,treeNode:F.a.object,screenVisibleList:F.a.array,depth:F.a.number,root:F.a.bool,onCheck:F.a.func})
var Te=function(e){A()(n,e)
var t=N()(n)
function n(){return _()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.depth,n=e.showExpander,i=e.data,a=e.expand,o=e.onExpand,s=e.onClick,c=14*(t+1),l=Object(_e.a)(i),u=a?"design/group_open":"design/group_close"
return Object(r.jsxs)("div",{className:X()("sm-item"),style:{paddingLeft:c},onClick:s,children:[n&&Object(r.jsx)("a",{className:"expander",onClick:o,children:Object(r.jsx)(G.a,{className:X()("arrow-icon",{"is-expand":a}),name:"new/arrow"})}),l?Object(r.jsx)(G.a,{className:"sm-folder-icon",name:u}):Object(r.jsx)(G.a,{className:"sm-icon",name:"design/file_o"}),Object(r.jsx)("span",{className:"screen-name",children:i.name})]})}}]),n}(i.PureComponent)
P()(Te,"propTypes",{showExpander:F.a.bool,data:F.a.object,depth:F.a.number,expand:F.a.bool,onExpand:F.a.func,onClick:F.a.func})
var Ae=n(36),De=n(273),Ne=s.a.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-16e6b7h-0"})(["position:fixed;left:50%;max-width:342px;transform:translateX(-50%);z-index:1051;&.can-auto-close{pointer-events:none;}"]),Ie=function(e){A()(n,e)
var t=N()(n)
function n(){var e
return _()(this,n),e=t.call(this),P()(E()(e),"handleDisappear",(function(){return e.setState({isShow:!1})})),e.state={isShow:!1,text:"",type:"success",showClose:!1},e.el=document.createElement("div"),e}return k()(n,[{key:"componentDidMount",value:function(){var e=this
document.body.appendChild(this.el),window.sharingNotice=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3]
clearTimeout(e.timer),e.setState({isShow:!0,text:t,type:n,showClose:i}),e.timer=setTimeout(e.handleDisappear,r)},window.closeNotice=this.handleDisappear}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.state,t=e.isShow,n=e.type,i=e.text,a=e.showClose
return Object(Ae.createPortal)(Object(r.jsx)(Ne,{className:X()({"can-auto-close":!a}),style:{top:64},children:Object(r.jsx)(De.a,{isShow:t,type:n,showClose:a,onDisappear:this.handleDisappear,text:i})}),this.el)}}]),n}(i.PureComponent),Pe=s.a.div.withConfig({displayName:"styles__StyledSharingContentConfig",componentId:"e66aqj-0"
})(["flex:1;background-color:",";color:",";.nav-header{position:relative;height:47px;display:flex;margin-bottom:12px;justify-content:center;border-bottom:1px solid ",";.sharing-nav{display:flex;justify-content:space-between;.nav-item{display:flex;justify-content:center;width:110px;font-size:14px;}}.header-close{position:absolute;right:0;top:0;width:24px;height:24px;font-size:12px;display:flex;align-items:center;justify-content:center;margin:10px 10px 0 0;color:#8d9ea7;&:hover{color:#415058;}}}.line-item{display:flex;padding:0 26px;height:40px;align-items:center;justify-content:space-between;.item-title{font-weight:600;}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;color:",";&:not(.is-checked) .Check-state{background-color:",";border:1px solid ",";}&.is-checked .Check-state{background-color:",";}&:not(:last-child){margin-right:16px;}}.Switch.is-checked{background-color:",";}.Switch{background-color:",';[type="button"]{background-color:',";border:unset;box-shadow:0 1px 6px rgba(0,0,0,0.2),0 1px 4px rgba(0,0,0,0.2);}&.is-checked{background:rgba(41,141,248,0.6);& > button{background-color:",";border:unset;}}}}.password-input-item{height:36px;margin:4px 26px 8px 26px;display:flex;justify-content:flex-end;align-items:center;}.line-item-guide{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin-left:6px;color:",";cursor:pointer;.svg-icon{width:14px;height:14px;}&:hover{color:",";}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:",";margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.setting-content{padding:0;overflow:hidden;border-top:1px solid transparent;height:0;transition:all 200ms ease-in-out 0s;&.is-open{height:185px;padding:12px 0;border-top:1px solid ",";}}"],(function(e){
return e.theme.imock_sharing.menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.divider_1}),(function(e){return e.theme.imock_sharing.text_15_cr}),(function(e){return e.theme.imock_sharing.radio_bg}),(function(e){return e.theme.imock_sharing.border_cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.switch.bg}),(function(e){
return e.theme.imock_sharing.switch.tc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_12.cr}),(function(e){return e.theme.imock_sharing.icon_12.hover}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_13.cr}),(function(e){return e.theme.imock_sharing.divider_2})),Le=function(e){return e.cid},Fe=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
_()(this,n),r=t.call(this,e),P()(E()(r),"handleSharingNavChange",(function(e){r.setState({sharingNavActiveIndex:e})})),P()(E()(r),"handleSubmitPassword",(function(e){var t=r.props.onUpdateProject;/^\s*$/.test(e)?(r.setState({isLegalPassword:!1}),window.sharingNotice(I18N.imockSharing.share_password_format_wrong,"error")):(r.setState({isLegalPassword:!0}),t({name:"password",value:e}))})),P()(E()(r),"handleChangeAttr",(function(e){
var t=e.name,n=e.value,i=r.props,a=i.projectShare,o=i.onUpdateProjectShare,s=z()({},a)
s[t]=n,o(s)})),P()(E()(r),"handleToggleHighlight",(function(e){r.handleChangeAttr({name:"highlight",value:e})})),P()(E()(r),"handleChangeOrgCommentPermission",(function(e){var t=e.name,n=e.value;(0,r.props.onUpdateProject)({name:t,value:n})})),P()(E()(r),"handleChangeSoloCommentPermission",(function(e){(0,r.props.onUpdateProject)({name:"comment_permission",value:e?"org_member":"off"})})),P()(E()(r),"handleToggleStickyShow",(function(e){
var t=r.props,n=t.onToggleUnreadSignal,i=t.onUpdateStickyShow,a=t.project
i({isStickyShow:e}),n(),Object(ae.f)("".concat("sharing-is-stickyshow","-").concat(a.cid),e,ae.a.Boolean)})),P()(E()(r),"handleChangeAccess",(function(e){var t=e.name,n=e.value,i=r.props,a=i.project,o=i.onUpdateProject;("private"!==n||a.password&&"private"===n)&&o({name:t,value:n}),r.setState({shareViewAccess:n})})),P()(E()(r),"handleToggleWechat",(function(e){r.handleChangeAttr({name:"wechat",value:e})})),P()(E()(r),"handleChangeSimulatorDisplayType",(function(e){
var t=e.value,n=r.props,i=n.project,a=n.onToggleUnreadSignal,o=n.simulatorDisplayType,s=n.onUpdateSimulatorType
o!==t&&(s({simulatorDisplayType:t}),Object(ae.f)("".concat("sharing-simulatorDisplayType","-").concat(i.cid),t,ae.a.String),a())})),P()(E()(r),"handleChangeViewPrd",(function(e){var t=r.props.simulatorDisplayType
e||"device"===t||r.handleChangeSimulatorDisplayType({value:"device"}),e&&"outside_artboard"!==t&&r.handleChangeSimulatorDisplayType({value:"outside_artboard"}),r.handleChangeAttr({name:"view_prd",value:e}),e&&Q("PRD_toggle_on")})),P()(E()(r),"handleChangeScreenHidden",(function(e){var t=r.props,n=t.projectShare,i=t.screenMetaList,a=t.onUpdateProjectShare,o=z()({},n)
o.screen_visible_switch=!e,o.screen_visible_switch?o.screen_visible_list=i.map(Le):o.screen_visible_list=[],a(o),MB.event("zhuge","Show_all_pages_click",{status:e?"off":"on"})})),P()(E()(r),"handleUpdateScreenVisibleList",(function(e){r.handleChangeAttr({name:"screen_visible_list",value:e})}))
var i=e.project,a=i.access,o=i.password
return r.state={sharingNavActiveIndex:0,isLegalPassword:!0,shareViewAccess:"private"!==a||o?a:"public"},r}return k()(n,[{key:"render",value:function(){
var e=this.props,t=e.theme,n=e.isStickyShow,i=e.simulatorDisplayType,a=e.project,o=e.projectShare,s=e.screenMetaList,c=e.onSharingModalClose,l=this.state,u=l.sharingNavActiveIndex,d=l.isLegalPassword,p=l.shareViewAccess,h=0===u,f=1===u,m=2===u,g=o.view_prd,v=o.screen_visible_switch,b=o.screen_visible_list,y=o.wechat,x=o.highlight,w=a.password,j=a.comment_permission,S=a.is_org_project,C="private"===p
return Object(r.jsxs)(Pe,{children:[Object(r.jsxs)("div",{className:"nav-header",children:[Object(r.jsx)(H.b,{className:"sharing-nav",activeIndex:u,onTabChange:this.handleSharingNavChange,children:ne(I18N).map((function(e){var t=e.key,n=R()(e,["key"])
return Object(r.jsx)(H.a,z()({},n),t)}))}),Object(r.jsx)("a",{className:"header-close",onClick:c,children:Object(r.jsx)(G.a,{className:"times-icon",name:"times"})})]}),h&&Object(r.jsx)(ue,{shareViewAccess:p,commentPermission:j,highlight:x,password:w,wechat:y,isStickyShow:n,simulatorDisplayType:i,isViewPrd:g,isSettingPassword:C,isOrgProject:S,isLegalPassword:d,onChangeAccess:this.handleChangeAccess,onSubmitPassword:this.handleSubmitPassword,onOrgCommentPermission:this.handleChangeOrgCommentPermission,
onToggleWechat:this.handleToggleWechat,onToggleHighlight:this.handleToggleHighlight,onChangeSoloCommentPermission:this.handleChangeSoloCommentPermission,onToggleStickyShow:this.handleToggleStickyShow,onChangeViewPrd:this.handleChangeViewPrd,onSimulatorDisplayType:this.handleChangeSimulatorDisplayType}),f&&Object(r.jsx)(ke,{screenMetaList:s,screenVisibleList:b,screenVisibleSwitch:v,onUpdateScreenVisibleList:this.handleUpdateScreenVisibleList,onScreenHidden:this.handleChangeScreenHidden
}),m&&Object(r.jsx)(ve,{simulatorDisplayType:i,theme:t,project:a}),Object(r.jsx)(Ie,{})]})}}]),n}(i.PureComponent)
P()(Fe,"propTypes",{isStickyShow:F.a.bool,simulatorDisplayType:F.a.string,theme:F.a.string,project:F.a.object,projectShare:F.a.object,screenMetaList:F.a.array,onUpdateAppToken:F.a.func,onUpdateProjectShare:F.a.func,onToggleUnreadSignal:F.a.func,onUpdateStickyShow:F.a.func,onUpdateSimulatorType:F.a.func,onSharingModalClose:F.a.func,onUpdateProject:F.a.func})
var Be=n(35),Re=n(140),Ue=n(101),ze=n(44),He=n.n(ze)
function Ge(){
var e=He()(["\n  #IBOT_DROPDOWN_MENU_ROOT {\n    .updating-app-token-confirmation {\n      margin-top: 12px;\n\n      &:not(.is-open) {\n        transform: translate(-50%, 5%);\n      }\n\n      &.is-upward:not(.is-open) {\n        transform: translate(-50%, -5%);\n      }\n\n      &.is-open {\n        transform: translate(-50%, 0);\n      }\n\n      .content {\n        padding: 12px;\n        width: 224px;\n        height: ",";\n      }\n\n      p {\n        margin: 0;\n        line-height: 18px;\n      }\n\n      .footer {\n        display: flex;\n        justify-content: flex-end;\n        margin-top: 18px;\n        height: 18px;\n\n        button {\n          transition: all 0.15s ease-out;\n\n          &:hover {\n            color: ",";\n          }\n\n          &:not(:last-child) {\n            margin-right: 12px;\n          }\n        }\n      }\n    }\n  }\n"])
return Ge=function(){return e},e}var Ve=s.a.div.withConfig({displayName:"styles__StyledHtmlUrlInput",componentId:"sc-6y0koo-0"
})(["height:100%;width:221px;display:flex;background-color:",";border:1px solid ",";color:",";border-radius:4px;margin-right:4px;input{color:",";}.divider{height:100%;width:1px;background-color:",";}.html-button{position:relative;padding:0 26px;height:100%;font-size:12px;background-color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}.loading{width:16px;height:16px;}}"],(function(e){
return e.theme.imock_sharing.input_bg}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_12_cr}),(function(e){return e.theme.imock_sharing.divider_4}),(function(e){return e.theme.imock_sharing.html_btn_bg})),We=Object(o.createGlobalStyle)(Ge(),(function(e){return e.theme.imock_sharing.content_height}),(function(e){return e.theme.imock_sharing.drop_footer_btn})),Ye=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
return _()(this,n),r=t.call(this,e),P()(E()(r),"cancelUpdatingAppToken",(function(e){e.nativeEvent.stopImmediatePropagation(),Object(Be.$)(".qrcode-and-url .WorkspaceDropdown").click()})),P()(E()(r),"handleupdateAppToken",function(){var e=S()(w.a.mark((function e(t){var n
return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.cancelUpdatingAppToken(t),n=r.props.onUpdateAppToken,r.setState({isUpdatingAppToken:!0}),e.next=5,new Promise((function(e){return setTimeout(e,500)}))
case 5:n(),r.setState({isUpdatingAppToken:!1})
case 7:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()),r.state={isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.canConfig,i=this.state.isUpdatingAppToken,o=I18N.imockSharing.reset
return Object(r.jsxs)(Ve,{className:"qrcode-and-url",children:[Object(r.jsx)("input",{type:"text",id:"sharing-url",readOnly:!0,className:"html-input",value:t}),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"divider"}),Object(r.jsx)(Re.a,{mode:"dark",openerType:"custom",opener:Object(r.jsxs)("button",{type:"button",className:X()("html-button","is-state-".concat(Number(i))),children:[Object(r.jsx)("span",{className:"state state-0 close-button",children:o}),Object(r.jsx)("span",{
className:"state state-1",children:i&&Object(r.jsx)(Ue.a,{className:"loading"})})]}),isDisabled:!1,arrowed:!0,menuY:"top",menuClassName:"updating-app-token-confirmation",menu:Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("p",{children:I18N.imockSharing.share_old_invalid}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("button",{onClick:this.handleupdateAppToken,children:I18N.imockSharing.requests_continue}),Object(r.jsx)("button",{onClick:this.cancelUpdatingAppToken,
children:I18N.imockSharing.cancel})]})]})})]}),Object(r.jsx)(We,{})]})}}]),n}(i.PureComponent)
P()(Ye,"propTypes",{onUpdateAppToken:F.a.func,value:F.a.string,canConfig:F.a.bool})
var qe=n(159),Ze=n(154),Xe=s.a.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-1eo22ew-0"
})(["position:relative;border-radius:2px;background-color:",";color:#fff;font-weight:600;padding:0 18px;min-width:54px;.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],(function(e){return e.theme.imock_sharing.palette.panel_bg_blue
})),Je=s.a.div.withConfig({displayName:"styles__StyledSharingContentUrl",componentId:"sc-1eo22ew-1"
})(["width:327px;background-color:",";color:",";padding:88px 24px 16px 24px;.content-box{display:flex;flex-direction:column;align-items:center;height:100%;.qrcode-and-icon{position:relative;.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:48px;height:48px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}.p-name{width:189px;max-height:34px;margin:8px 0 22px 0;color:",";text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.url-count{margin-top:auto;color:#7d8b94;}.url-action{width:100%;height:36px;display:flex;justify-content:space-between;.html-input{padding-left:11px;flex:1;}}}.warn-sharing-link{font-size:12px;color:",";transition:all 0.25s ease-out;opacity:0;&.is-on{opacity:1;}}.upload-square{width:100%;height:36px;border:1px solid ",";border-radius:2px;background:",";font-size:12px;line-height:17px;color:",";display:flex;align-items:center;justify-content:center;cursor:pointer;margin-top:4px;.upload-square-icon{width:14px;height:auto;margin-right:8px;}}"],(function(e){
return e.theme.imock_sharing.url_menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_c}),(function(e){return e.theme.warn_sharing_link}),(function(e){return e.theme.imock_sharing.upload_border}),(function(e){return e.theme.imock_sharing.upload_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue})),Ke=function(e){A()(n,e)
var t=N()(n)
function n(e){var r
return _()(this,n),r=t.call(this,e),P()(E()(r),"handleCopyURL",(function(){var e=r.props,t=e.onToggleUnreadSignal,n=e.sharingEventEmitter
r.setState({isURLCopied:!0}),clearTimeout(r.copyURLTimeout),r.copyURLTimeout=setTimeout((function(){return r.setState({isURLCopied:!1})}),3e3),n.emit("imock:sharing:copy-url-sucess"),t(!1)})),P()(E()(r),"handleClickUploadSquare",(function(){var e=r.props.project.cid
Q("Square_Upload_click",{From:"个人-分享弹框-发布"}),window.open("/square/upload?project_cid=".concat(e))})),r.state={isURLCopied:!1,isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.isGuestMode,n=e.isStickyShow,i=e.isShoWUnreadSignal,a=e.simulatorDisplayType,o=e.projectShare,s=e.project,c=e.canUploadToSquare,l=e.onUpdateAccessToken,u=this.state.isURLCopied,d=s.access_token,p=o.view_count,h=se(d,a,n),f=s.icon||"/images/app_icon.svg"
return Object(r.jsx)(Je,{children:Object(r.jsxs)("div",{className:"content-box",children:[Object(r.jsxs)("div",{className:"qrcode-and-icon",children:[Object(r.jsx)(qe.a,{className:"qrcode",text:h,width:189,height:189}),Object(r.jsx)("div",{className:"p-icon-box",children:Object(r.jsx)("img",{src:f})})]}),Object(r.jsx)("p",{className:"p-name",children:s.name}),Object(r.jsxs)("div",{className:"url-action imock_guide_url-action",children:[Object(r.jsx)(Ye,{value:h||"",canConfig:!t,onUpdateAppToken:l
}),Object(r.jsxs)(Xe,{type:"button",className:X()("copy","url-copy-button","is-state-".concat(Number(u))),onClick:this.handleCopyURL,"data-clipboard-target":"#sharing-url",children:[Object(r.jsx)("span",{className:"state state-0",children:I18N.imockSharing.copy}),Object(r.jsx)(we.a,{type:"dora",name:"check",className:"state state-1"}),Object(r.jsx)(Ze.a,{on:i})]})]}),Object(r.jsx)("p",{className:X()("warn-sharing-link",{"is-on":i}),children:I18N.imockSharing.link_update}),c&&Object(r.jsxs)("div",{
className:"upload-square",onClick:this.handleClickUploadSquare,children:[Object(r.jsx)(G.a,{className:"upload-square-icon",name:"design/share/upload_square"}),Object(r.jsx)("span",{children:I18N.imockSharing.publish_library})]}),Object(r.jsx)("p",{className:"url-count",children:"".concat(I18N.imockSharing.view_count).concat(p)})]})})}}]),n}(i.PureComponent)
P()(Ke,"propTypes",{isShoWUnreadSignal:F.a.bool,isGuestMode:F.a.bool,isStickyShow:F.a.bool,simulatorDisplayType:F.a.string,projectShare:F.a.object,canUploadToSquare:F.a.bool,project:F.a.object,sharingEventEmitter:F.a.object,onUpdateAccessToken:F.a.func,onToggleUnreadSignal:F.a.func})
var Qe=s.a.div.withConfig({displayName:"styles__StyledSharingPlatform",componentId:"sc-13m90aa-0"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;"]),$e=s.a.div.withConfig({displayName:"styles__StyledSharingButton",componentId:"sc-13m90aa-1"})(["display:flex;flex-direction:column;justify-content:center;& .sharing-icon{width:56px;height:56px;cursor:pointer;}& .btn-text{margin-top:8px;line-height:16px;text-align:center;span{color:",";}}"],(function(e){
return e.theme.imock_sharing.text_3_cr})),et="toolbar=yes, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, top=100,left=350",tt=function(e){A()(n,e)
var t=N()(n)
function n(){var e
_()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),P()(E()(e),"sharingToFacebook",(function(){var t=e.props.href
window.open("http://www.facebook.com/sharer.php?kid_directed_site=0&u=".concat(t),"_blank","width=600, height=450, ".concat(et))})),P()(E()(e),"sharingToTwitter",(function(){var t=e.props.href
window.open("https://twitter.com/share?url=".concat(t),"_blank","width=600, height=450, ".concat(et))})),P()(E()(e),"sharingToPintereset",(function(){var t=e.props.href
window.open("https://www.pinterest.com/pin/create/button/?url=".concat(t),"_blank","width=750, height=800, ".concat(et))})),P()(E()(e),"sharingToDribbble",(function(){window.open("https://www.dribbble.com/session/new","_blank","width=600, height=600, ".concat(et))})),e}return k()(n,[{key:"render",value:function(){var e=this
return Object(r.jsxs)(Qe,{children:[Object(r.jsx)(nt,{text:"Facebook",icon:"sharing/facebook",onClick:function(){return e.sharingToFacebook()}}),Object(r.jsx)(nt,{text:"Twitter",icon:"sharing/twitter",onClick:function(){return e.sharingToTwitter()}}),Object(r.jsx)(nt,{text:"Pintereset",icon:"sharing/pintereset",onClick:function(){return e.sharingToPintereset()}}),Object(r.jsx)(nt,{text:"Dribbble",icon:"sharing/dribbble",onClick:function(){return e.sharingToDribbble()}})]})}}]),n}(i.PureComponent)
P()(tt,"propTypes",{href:F.a.string})
var nt=function(e){A()(n,e)
var t=N()(n)
function n(){return _()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.icon,i=e.onClick
return Object(r.jsxs)($e,{onClick:i,children:[Object(r.jsx)("div",{children:Object(r.jsx)(G.a,{className:"sharing-icon",name:n})}),Object(r.jsx)("div",{className:"btn-text",children:Object(r.jsx)("span",{children:t})})]})}}]),n}(i.PureComponent)
P()(nt,"propTypes",{text:F.a.string,icon:F.a.string,onClick:F.a.func})
var rt=s.a.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-1i4jlfc-0"
})(["position:relative;border-radius:2px;background-color:",";color:#fff;font-weight:600;padding:0 18px;min-width:54px;.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],(function(e){return e.theme.imock_sharing.palette.panel_bg_blue
})),it=s.a.div.withConfig({displayName:"styles__StyledSharingContentUrl2En",componentId:"sc-1i4jlfc-1"
})(["width:327px;background-color:",";color:",";padding:18px 24px 16px 24px;.content-box{position:relative;display:flex;flex-direction:column;align-items:center;height:100%;& h3{width:100%;font-family:Inter,sans-serif;font-size:14px;color:",";line-height:18px;text-align:left;}.paltform{width:100%;margin-top:32px;}.qrcode-and-icon{position:relative;margin-top:16px;.qrcode{width:",";height:",";}.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:48px;height:48px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}.url-count{margin-top:16px;line-height:16px;color:#7d8b94;}.url-action{width:100%;height:36px;margin-top:16px;display:flex;justify-content:space-between;.html-input{padding-left:11px;flex:1;}}}.warn-sharing-link{margin-top:8px;font-size:12px;line-height:16px;color:",";transition:all 0.25s ease-out;display:none;&.is-on{display:block;}}.upload-square{width:100%;height:36px;position:absolute;bottom:0;border:1px solid ",";border-radius:2px;background:",";font-size:12px;line-height:17px;color:",";display:flex;align-items:center;justify-content:center;cursor:pointer;.upload-square-icon{width:14px;height:auto;margin-right:8px;}}"],(function(e){
return e.theme.imock_sharing.url_menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_13_cr}),(function(e){return e.isShoWUnreadSignal?"120px":"136px"}),(function(e){return e.isShoWUnreadSignal?"120px":"136px"}),(function(e){return e.theme.warn_sharing_link}),(function(e){return e.theme.imock_sharing.upload_border}),(function(e){return e.theme.imock_sharing.upload_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue})),at=function(e){
A()(n,e)
var t=N()(n)
function n(e){var r
return _()(this,n),r=t.call(this,e),P()(E()(r),"handleCopyURL",(function(){var e=r.props,t=e.onToggleUnreadSignal,n=e.sharingEventEmitter
r.setState({isURLCopied:!0}),clearTimeout(r.copyURLTimeout),r.copyURLTimeout=setTimeout((function(){return r.setState({isURLCopied:!1})}),3e3),n.emit("imock:sharing:copy-url-sucess"),t(!1)})),P()(E()(r),"handleClickUploadSquare",(function(){var e=r.props.project.cid
Q("Square_Upload_click",{From:"个人-分享弹框-发布"}),window.open("/square/upload?project_cid=".concat(e))})),r.state={isURLCopied:!1,isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.isGuestMode,n=e.isStickyShow,i=e.isShoWUnreadSignal,a=e.simulatorDisplayType,o=e.projectShare,s=e.project,c=e.canUploadToSquare,l=e.onUpdateAccessToken,u=this.state.isURLCopied,d=s.access_token,p=o.view_count,h=se(d,a,n),f=s.icon||"/images/app_icon.svg"
return Object(r.jsx)(it,{isShoWUnreadSignal:i,children:Object(r.jsxs)("div",{className:"content-box",children:[Object(r.jsxs)("h3",{children:["Share ",s.name]}),Object(r.jsx)("div",{className:"paltform",children:Object(r.jsx)(tt,{href:h||""})}),Object(r.jsxs)("div",{className:"url-action imock_guide_url-action",children:[Object(r.jsx)(Ye,{value:h||"",canConfig:!t,onUpdateAppToken:l}),Object(r.jsxs)(rt,{type:"button",className:X()("copy","url-copy-button","is-state-".concat(Number(u))),
onClick:this.handleCopyURL,"data-clipboard-target":"#sharing-url",children:[Object(r.jsx)("span",{className:"state state-0",children:I18N.imockSharing.copy}),Object(r.jsx)(we.a,{type:"dora",name:"check",className:"state state-1"}),Object(r.jsx)(Ze.a,{on:i})]})]}),Object(r.jsx)("p",{className:X()("warn-sharing-link",{"is-on":i}),children:I18N.imockSharing.link_update}),Object(r.jsxs)("div",{className:"qrcode-and-icon",children:[Object(r.jsx)(qe.a,{className:"qrcode",text:h,width:i?120:136,height:i?120:136
}),Object(r.jsx)("div",{className:"p-icon-box",children:Object(r.jsx)("img",{src:f})})]}),Object(r.jsx)("p",{className:"url-count",children:"".concat(I18N.imockSharing.view_count).concat(p)}),c&&Object(r.jsxs)("div",{className:"upload-square",onClick:this.handleClickUploadSquare,children:[Object(r.jsx)(G.a,{className:"upload-square-icon",name:"design/share/upload_square"}),Object(r.jsx)("span",{children:I18N.imockSharing.publish_library})]})]})})}}]),n}(i.PureComponent)
P()(at,"propTypes",{isShoWUnreadSignal:F.a.bool,isGuestMode:F.a.bool,isStickyShow:F.a.bool,simulatorDisplayType:F.a.string,projectShare:F.a.object,canUploadToSquare:F.a.bool,project:F.a.object,sharingEventEmitter:F.a.object,onUpdateAccessToken:F.a.func,onToggleUnreadSignal:F.a.func})
var ot=s.a.div.withConfig({displayName:"styles__StyledSharingContentGuest",componentId:"i36sj1-0"
})(["flex:1;background-color:",";color:",";.nav-header{height:47px;display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;border-bottom:1px solid #dbdbdb;.nav-item{line-height:47px;margin-left:22px;position:relative;font-size:14px;.nav-underline{position:absolute;left:0;bottom:0;width:100%;border-bottom:2px solid #1f292e;}}.header-close{width:24px;height:24px;font-size:12px;display:flex;align-items:center;justify-content:center;margin-right:10px;color:#8d9ea7;&:hover{color:#415058;}}}"],(function(e){
return e.theme.imock_sharing.menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr})),st=function(e){A()(n,e)
var t=N()(n)
function n(){return _()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.theme,i=e.simulatorDisplayType,a=e.onSharingModalClose
return Object(r.jsxs)(ot,{children:[Object(r.jsxs)("div",{className:"nav-header",children:[Object(r.jsxs)("div",{className:"nav-item",children:[I18N.imockSharing.tab_insertion,Object(r.jsx)("span",{className:"nav-underline"})]}),Object(r.jsx)("a",{className:"header-close",onClick:a,children:Object(r.jsx)(G.a,{className:"times-icon",name:"times"})})]}),Object(r.jsx)(ve,{project:t,simulatorDisplayType:i,theme:n})]})}}]),n}(i.PureComponent)
P()(st,"propTypes",{theme:F.a.string,simulatorDisplayType:F.a.string,project:F.a.object,onSharingModalClose:F.a.func})
var ct=n(134),lt=n.n(ct),ut=s.a.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-1u3un7c-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]),dt=Object(i.memo)((function(){return Object(r.jsx)(ut,{className:"sharing-loading",children:Object(r.jsx)(Ue.a,{className:"loading"})})})),pt=n(33),ht=s.a.div.withConfig({displayName:"styles__StyledSharingMenu",componentId:"u7lofo-0"
})(["display:flex;height:100%;font-size:12px;.svg-icon{fill:currentColor;}.svg-icon > *{fill:currentColor;}"]),ft=function(e){A()(i,e)
var t,n=N()(i)
function i(e){var t
return _()(this,i),t=n.call(this,e),P()(E()(t),"handleUpdateProjectShare",(function(e){var n=t.props,r=n.sharingAPI,i=n.sharingEventEmitter
t.setState({projectShare:e}),r.updateCurrentProjectShare(e),i.emit("imock:sharing:update-project-share",{updateProjectShare:e})})),P()(E()(t),"handleUpdateProject",(function(e){var n=e.name,r=e.value,i=t.props,a=i.sharingAPI,o=i.sharingEventEmitter,s=i.project
s[n]=r,"password"===n&&"private"!==s.access&&(s.access="private"),a.updateSharingProject(s),o.emit("imock:sharing:update-sharing-project",{updateSharingProject:s})})),P()(E()(t),"handleUpdateAccessToken",(function(){var e=Object(pt.getRandomCid)()
t.handleUpdateProject({name:"access_token",value:e}),t.handleToggleUnreadSignal()})),P()(E()(t),"handleToggleUnreadSignal",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
t.setState({isShoWUnreadSignal:e})})),P()(E()(t),"handleUpdateSimulatorType",(function(e){var n=e.simulatorDisplayType
t.setState({simulatorDisplayType:n})})),P()(E()(t),"handleUpdateStickyShow",(function(e){var n=e.isStickyShow
t.setState({isStickyShow:n})})),P()(E()(t),"handleSharingModalClose",(function(){(0,t.props.onClose)()})),t.state={projectShare:null,isLoading:!0,isGuestMode:e.isGuestMode,isShoWUnreadSignal:!1,simulatorDisplayType:"",isStickyShow:"",screenMetaList:[]},t.clipboard=null,t}return k()(i,[{key:"componentDidMount",value:(t=S()(w.a.mark((function e(){var t,n,r,i,a,o,s,c,l,u,d,p,h,f,m,g,v,b,y
return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.sharingAPI,r=t.sharingEventEmitter,i=t.screenMetaList,a=t.project,o=this.state.isGuestMode,s=a.cid,c=a.access,e.next=5,n.requestProjectShare(s)
case 5:if(l=e.sent,u=l.projectShare,d="public"===c,p=o,h=i,o){e.next=15
break}return e.next=13,n.checkSharingPermission(s,d)
case 13:f=e.sent,p=!f
case 15:if(p||h.length){e.next=21
break}return e.next=18,n.requestProjectBasicScreenMetaList(s)
case 18:m=e.sent,g=m.screenMetaList,h=g
case 21:v=ce(a,u.view_prd),b=v.simulatorType,y=v.stickyShow,this.setState({isGuestMode:p,isLoading:!1,projectShare:u,simulatorDisplayType:b,isStickyShow:y,screenMetaList:h}),setTimeout((function(){r.emit("imock:sharing:did-mount")}),700),this.clipboard=new lt.a(".imock-sharing .copy")
case 25:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.className,n=e.sharingEventEmitter,i=e.theme,a=e.project,o=e.extraInfo,s=this.state,c=s.projectShare,l=s.isGuestMode,u=s.isLoading,d=s.simulatorDisplayType,p=s.isStickyShow,h=s.isShoWUnreadSignal,f=s.screenMetaList,m=o.canUploadToSquare,g=o.isWonderShare
return Object(r.jsx)(ht,{className:X()("imock-sharing","imock_guide-sharingmenu",t),children:u?Object(r.jsx)(dt,{}):Object(r.jsxs)(r.Fragment,{children:[g?Object(r.jsx)(at,{project:a,projectShare:c,simulatorDisplayType:d,isStickyShow:p,isGuestMode:l,canUploadToSquare:m,isShoWUnreadSignal:h,sharingEventEmitter:n,onUpdateAccessToken:this.handleUpdateAccessToken,onToggleUnreadSignal:this.handleToggleUnreadSignal}):Object(r.jsx)(Ke,{project:a,projectShare:c,simulatorDisplayType:d,isStickyShow:p,isGuestMode:l,
canUploadToSquare:m,isShoWUnreadSignal:h,sharingEventEmitter:n,onUpdateAccessToken:this.handleUpdateAccessToken,onToggleUnreadSignal:this.handleToggleUnreadSignal}),l?Object(r.jsx)(st,{theme:i,project:a,simulatorDisplayType:d,onSharingModalClose:this.handleSharingModalClose}):Object(r.jsx)(Fe,{theme:i,simulatorDisplayType:d,isStickyShow:p,project:a,projectShare:c,screenMetaList:f,onUpdateProject:this.handleUpdateProject,onUpdateProjectShare:this.handleUpdateProjectShare,
onUpdateSimulatorType:this.handleUpdateSimulatorType,onUpdateStickyShow:this.handleUpdateStickyShow,onToggleUnreadSignal:this.handleToggleUnreadSignal,onSharingModalClose:this.handleSharingModalClose})]})})}}]),i}(i.PureComponent)
P()(ft,"propTypes",{extraInfo:F.a.object,project:F.a.object,className:F.a.string,theme:F.a.string,screenMetaList:F.a.array,isGuestMode:F.a.bool,sharingAPI:F.a.object,sharingEventEmitter:F.a.object,onClose:F.a.func}),P()(ft,"defaultProps",{isGuestMode:!1,screenMetaList:[]})
var mt=Object(c.createEventEmitter)()
window.SharingEventEmitter=mt
var gt=function(e){var t=e.sharingProject,n=e.isGuestMode,i=e.screenMetaList,a=e.theme,s=e.className,c=e.extraInfo,l=e.onClose
return m(c),Object(r.jsx)(o.ThemeProvider,{theme:y[a],children:Object(r.jsx)(ft,{className:s,theme:a,sharingAPI:g.a,project:t,screenMetaList:i,isGuestMode:n,sharingEventEmitter:mt,extraInfo:c,onClose:l})})}},,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r={ARTICLE__SQUARE_LIBRARY:["https://modao.cc/square","https://mockittapp.wondershare.com/square"],ARTICLE__BUSINESS_FONT_STATE:["https://modao.kf5.com/hc/kb/article/1399856/","https://modao.kf5.com/hc/kb/article/1399856/"],ARTICLE__MY_WIDGETS_INTRO:["https://modao.kf5.com/hc/kb/article/1399872/","https://mockitt.wondershare.com/guide/my-widgets.html"],ARTICLE__ORG_WIDGETS_INTRO:["https://modao.kf5.com/hc/kb/article/1411710/","https://mockitt.wondershare.com/guide/my-widgets.html"],
ARTICLE__MIN_FONT_TIP:["https://modao.kf5.com/hc/kb/article/1399873/","https://modao.kf5.com/hc/kb/article/1399873/"],ARTICLE__LIBRARY_INTRO:["https://modao.kf5.com/hc/kb/article/1305846/","https://mockitt.wondershare.com/guide/manage-libraries.html"],ARTICLE__MASTER_INTRO:["https://modao.kf5.com/hc/kb/article/1305842/","https://mockitt.wondershare.com/guide/batch-modify-widgets-with-master.html"],
GUIDE_VERSION_HISTORY:["https://modao.kf5.com/hc/kb/article/1365542/","https://mockitt.wondershare.com/guide/version-history-management.html"],SQUARE_ICON_GROUP:["https://modao.cc/square?type=icon_group","https://mockittapp.wondershare.com/square"],UPGRADE_ENTERPRISE:["/enterprise","https://mockitt.wondershare.com/enterprise.html"],DOWNLOAD_CLIENT:["/downloads","https://mockitt.wondershare.com/download.html"],DOWNLOAD_CLIENT_DMG:["","https://download.wondershare.com/mac-mockitt_full8039.dmg"],
DOWNLOAD_CLIENT_EXE:["","https://download.wondershare.com/mockitt_full8040.exe"],THEME_GUIDE_LIGHT:["https://cdn.modao.cc/theme_lightx2.png","https://cdn.modao.cc/theme_lightx2.png"],THEME_GUIDE_DARK:["https://cdn.modao.cc/theme_darkx2.png","https://cdn.modao.cc/theme_darkx2.png"],PRICE_SHARE:["/pricing","https://mockitt.wondershare.com/pricing.html"],TOOLBAR_LOGO_LINK:["","https://mockitt.wondershare.com/"],GUIDE_KF:["https://modao.kf5.com/hc",""],
FEATURE_UPDATE:["https://modao.cc/app/changelog","https://mockitt.wondershare.com/whats-new.html"],BASE_ADDRES:["https://modao.kf5.com/kchat/1039121",""]}},,function(e,t,n){"use strict"
e.exports=function(e){return e instanceof Date?o(e):"string"==typeof e?o(a(e)):"number"==typeof e?o(new Date(e)):void 0}
var r={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},i=r.strings
function a(e){if(e){var t=e.trim()
return t=(t=(t=(t=t.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}}function o(e){return i.inWords(function(e){return(new Date).getTime()-e.getTime()}(e))}e.exports.settings=r,i.inWords=function(e){var t=i.prefixAgo,n=i.suffixAgo
r.allowFuture&&e<0&&(t=i.prefixFromNow,n=i.suffixFromNow)
var a=Math.abs(e)/1e3,o=a/60,s=o/60,c=s/24,l=c/365
function u(t,n){var r="function"==typeof t?t(n,e):t,a=i.numbers&&i.numbers[n]||n
return r.replace(/%d/i,a)}var d=a<45&&u(i.seconds,Math.round(a))||a<90&&u(i.minute,1)||o<45&&u(i.minutes,Math.round(o))||o<90&&u(i.hour,1)||s<24&&u(i.hours,Math.round(s))||s<48&&u(i.day,1)||c<30&&u(i.days,Math.floor(c))||c<60&&u(i.month,1)||c<365&&u(i.months,Math.floor(c/30))||l<2&&u(i.year,1)||u(i.years,Math.floor(l)),p=i.wordSeparator||""
return void 0===i.wordSeparator&&(p=" "),[t,d,n].join(p).toString().trim()},i.parse=a},function(e,t,n){"use strict"
!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){
for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){
for(r=0;r<e.length;r++)a[n[0][r]]=e[r]
return a}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e){return new Promise(function(n,i){var a=function(){this.off("change",a),n()}.bind(this)
this.on("change",a)
var o=(e=e||t.documentElement)[r.requestFullscreen]()
o instanceof Promise&&o.then(a).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this)
this.on("change",i)
var a=t[r.exitFullscreen]()
a instanceof Promise&&a.then(i).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e]
r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e]
r&&t.removeEventListener(r,n,!1)},raw:r}
r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},,function(e,t,n){"use strict"
var r=n(430)
e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";(function(e){var r=n(17)(n(23)),i=n(176),a="object"==(0,r.default)(t)&&t&&!t.nodeType&&t,o=a&&"object"==(0,r.default)(e)&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,c=s?s.allocUnsafe:void 0
e.exports=function(e,t){if(t)return e.slice()
var n=e.length,r=c?c(n):new e.constructor(n)
return e.copy(r),r}}).call(this,n(206)(e))},function(e,t,n){"use strict"
e.exports=function(e,t){var n=-1,r=e.length
for(t||(t=Array(r));++n<r;)t[n]=e[n]
return t}},function(e,t,n){"use strict"
var r=n(228)
e.exports=function(e,t){var n=t?r(e.buffer):e.buffer
return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){"use strict"
var r=n(445),i=n(227),a=n(369)
e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},function(e,t,n){"use strict"
var r=n(365),i=n(456)
e.exports=function e(t,n,a,o,s){var c=-1,l=t.length
for(a||(a=i),s||(s=[]);++c<l;){var u=t[c]
n>0&&a(u)?n>1?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){"use strict"
e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a
return-1}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(23),i=n.n(r),a=n(22),o=n.n(a),s=n(32),c=n(337),l=function(e){var t=e.isWonderShare,n=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var a=o()(t,2),s=a[0],c=a[1]
Array.isArray(c)?r[s]=c[n]:"object"===i()(c)&&(r[s]=e(c,n))})),r}(c.a,t?1:0)
Object(s.b)({MB_LINK:n})}},function(e,t,n){"use strict"
var r=n(0),i=n(1),a=n.n(i),o=n(5),s=n(14),c=n(31),l=Object(o.memo)((function(e){var t=e.className,n=e.viewMode,i=e.onViewModeChange
return Object(r.jsx)(c.b,{content:I18N.ScreenList.list_thumbnail_view,direction:"up",children:Object(r.jsxs)("div",{className:t,onClick:function(e){e.stopPropagation(),"literal"===n?i("thumbnail"):"thumbnail"===n&&i("literal")},children:["literal"===n&&Object(r.jsx)(s.a,{name:"design/screen/thumbnail",className:"view-mode-icon"}),"thumbnail"===n&&Object(r.jsx)(s.a,{name:"design/screen/literal",className:"view-mode-icon"})]})})}))
l.propTypes={className:a.a.string,viewMode:a.a.string,onViewModeChange:a.a.func},t.a=l},function(e,t,n){"use strict"
n.d(t,"a",(function(){return E}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(13),x=n.n(y),w=n(14),j=n(148),S=n(75),C=n(241),_=n(78),O=n(175),k=[{value:"100",label:"1x"},{value:"200",label:"2x"}],M=[{label:"...",value:"..."}],E=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return i()(this,n),r=t.call(this),f()(c()(r),"handleHide",(function(){r.setState({isOpen:!1})})),f()(c()(r),"handleClick",(function(){var e=r.props,t=e.isMultiSelect,n=e.exportSvgIconList,i=e.onExport
if(!(0,e.onCheck)()){var a=r.state.isOpen
t||a?i(n):r.setState({isOpen:!0})}})),f()(c()(r),"handleRatio",(function(e){r.setState({ratio:e})})),r.state={isOpen:!1},r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.exportSvgIconList,n=e.isLogin,r=e.isMultiSelect
if(0===t.length)return null
var i=this.state.isOpen,a=t[0],o=a.icon,s="fa5"===o.slice(0,o.indexOf("-"))?Object(_.d)(o):o
return Object(m.jsxs)("div",{className:"svg-icon-export",children:[Object(m.jsx)(O.b,{className:x()({"is-open":i}),children:Object(m.jsxs)("div",{className:x()("export-panel",{"is-open":i}),children:[Object(m.jsxs)("div",{className:"export-header",children:[Object(m.jsx)("label",{className:"label",children:I18N.SvgIconExport.export_icon}),Object(m.jsx)("span",{className:"icons",onClick:this.handleHide,children:Object(m.jsx)(w.a,{className:"times-icon",name:"times"})})]}),Object(m.jsxs)("div",{
className:"export-settings",children:[Object(m.jsxs)("div",{className:"export-state svg-export-label",children:[Object(m.jsx)("div",{className:"svg-name-label",children:I18N.SvgIconExport.icon}),Object(m.jsxs)("div",{className:"panel-icon-size",children:[Object(m.jsx)(C.b,{view_box:a.view_box,path:a.path}),Object(m.jsx)("span",{className:"panel-icon-content",children:s})]})]}),Object(m.jsxs)("div",{className:"export-second",children:[Object(m.jsxs)("div",{className:"ratio",children:[Object(m.jsx)(S.d,{
className:"select",isDisabled:!0,value:"100",optionList:k,onChange:this.handleRatio}),Object(m.jsx)("span",{children:I18N.SvgIconExport.times})]}),Object(m.jsxs)("div",{className:"suffix",children:[Object(m.jsx)(S.d,{isDisabled:!0,className:"suffix-select",value:"...",optionList:M}),Object(m.jsx)("span",{children:I18N.SvgIconExport.prefix_suffix})]}),Object(m.jsxs)("div",{className:"format",children:[Object(m.jsx)(j.b,{size:"small",value:"SVG",readOnly:!0}),Object(m.jsx)("span",{
children:I18N.SvgIconExport.format})]})]})]})]})}),Object(m.jsx)(O.a,{children:Object(m.jsx)("a",{onClick:this.handleClick,children:n?r?I18N.SvgIconExport.download_selected_icon:I18N.SvgIconExport.download_current_icon:I18N.SvgIconExport.download_icon_after_login})})]})}}]),n}(b.PureComponent)
f()(E,"propTypes",{isMultiSelect:v.a.bool,isLogin:v.a.bool,exportSvgIconList:v.a.array,onExport:v.a.func,onCheck:v.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return _}))
var r=n(4),i=n.n(r),a=n(40),o=n.n(a),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),h=n(8),f=n.n(h),m=n(9),g=n.n(m),v=n(2),b=n.n(v),y=n(0),x=n(1),w=n.n(x),j=n(5),S=MB.config.SCALES[0],C=MB.config.SCALES[MB.config.SCALES.length-1],_=function(e){f()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"setElementRef",(function(t){return e.$elem=t})),b()(p()(e),"handleWheel",(function(t){t.preventDefault()
var n=e.props,r=n.x,i=n.y,a=n.scale,o=n.isDisabled,s=n.onOffsetChange
if(!o){var c=Math.max(-1,Math.min(t.deltaY,1))
if(t.ctrlKey||t.metaKey){var l=e.$elem.getBoundingClientRect(),u=l.top,d=(l.left+l.right)/2,p=(u+l.bottom)/2,h=a<=100?a-5*c:a-a*c*.05,f=t.pageX-d,m=t.pageY-p
e.handleZoom(h,f,m)}else s(r-t.deltaX,i-t.deltaY)}})),e}return u()(n,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"handleZoom",value:function(e,t,n){var r=this.props,i=r.x,a=r.y,o=r.scale,s=r.onOffsetChange,c=r.onScaleChange,l=(e=Math.min(Math.max(e,S),C))/o
1!==l&&(s(t+l*(i-t),n+l*(a-n)),c(e))}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.scale,a=e.children,s=(e.onOffsetChange,e.onScaleChange,e.isDisabled),c=(e.otherProps,e.isToolBarTextShow,o()(e,["x","y","scale","children","onOffsetChange","onScaleChange","isDisabled","otherProps","isToolBarTextShow"]))
return Object(y.jsx)("div",i()(i()({},c),{},{ref:this.setElementRef,children:a.map((function(e){return"function"==typeof e?e(t,n,r,s):e}))}))}}]),n}(j.PureComponent)
b()(_,"propTypes",{x:w.a.number,y:w.a.number,isDisabled:w.a.bool,scale:w.a.number,children:w.a.array,otherProps:w.a.object,isToolBarTextShow:w.a.bool,onScaleChange:w.a.func,onOffsetChange:w.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(44),i=n.n(r),a=n(11)
function o(){
var e=i()(["\n  .animated {\n    animation-duration: 1s;\n    animation-fill-mode: backwards;\n  }\n  \n  .animated.infinite {\n    animation-iteration-count: infinite;\n  }\n  \n  .animated.bounceIn {\n    animation-duration: .75s;\n  }\n  \n  @keyframes bounce {\n    from, 20%, 53%, 80%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n      transform: translate3d(0, 0, 0);\n    }\n    40%, 43% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -30px, 0);\n    }\n    70% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -15px, 0);\n    }\n    90% {\n      transform: translate3d(0, -4px, 0);\n    }\n  }\n  \n  .bounce {\n    animation-name: bounce;\n    transform-origin: center bottom;\n  }\n  \n  @keyframes flash {\n    from, 50%, to {\n      opacity: 1;\n    }\n    25%, 75% {\n      opacity: 0;\n    }\n  }\n  \n  .flash {\n    animation-name: flash;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes pulse {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    50% {\n      transform: scale3d(1.05, 1.05, 1.05);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .pulse {\n    animation-name: pulse;\n  }\n  \n  @keyframes rubberBand {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    30% {\n      transform: scale3d(1.25, 0.75, 1);\n    }\n    40% {\n      transform: scale3d(0.75, 1.25, 1);\n    }\n    50% {\n      transform: scale3d(1.15, 0.85, 1);\n    }\n    65% {\n      transform: scale3d(.95, 1.05, 1);\n    }\n    75% {\n      transform: scale3d(1.05, .95, 1);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .rubberBand {\n    animation-name: rubberBand;\n  }\n  \n  @keyframes shake {\n    from, to {\n      transform: translate3d(0, 0, 0);\n    }\n    10%, 30%, 50%, 70%, 90% {\n      transform: translate3d(-10px, 0, 0);\n    }\n    20%, 40%, 60%, 80% {\n      transform: translate3d(10px, 0, 0);\n    }\n  }\n  \n  .shake {\n    animation-name: shake;\n  }\n  \n  @keyframes swing {\n    20% {\n      transform: rotate3d(0, 0, 1, 15deg);\n    }\n    40% {\n      transform: rotate3d(0, 0, 1, -10deg);\n    }\n    60% {\n      transform: rotate3d(0, 0, 1, 5deg);\n    }\n    80% {\n      transform: rotate3d(0, 0, 1, -5deg);\n    }\n    to {\n      transform: rotate3d(0, 0, 1, 0deg);\n    }\n  }\n  \n  .swing {\n    transform-origin: top center;\n    animation-name: swing;\n  }\n  \n  @keyframes tada {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    10%, 20% {\n      transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);\n    }\n    30%, 50%, 70%, 90% {\n      transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\n    }\n    40%, 60%, 80% {\n      transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .tada {\n    animation-name: tada;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes wobble {\n    from {\n      transform: none;\n    }\n    15% {\n      transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);\n    }\n    30% {\n      transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);\n    }\n    45% {\n      transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);\n    }\n    60% {\n      transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);\n    }\n    75% {\n      transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .wobble {\n    animation-name: wobble;\n  }\n  \n  @keyframes jello {\n    from, 11.1%, to {\n      transform: none;\n    }\n    22.2% {\n      transform: skewX(-12.5deg) skewY(-12.5deg);\n    }\n    33.3% {\n      transform: skewX(6.25deg) skewY(6.25deg);\n    }\n    44.4% {\n      transform: skewX(-3.125deg) skewY(-3.125deg);\n    }\n    55.5% {\n      transform: skewX(1.5625deg) skewY(1.5625deg);\n    }\n    66.6% {\n      transform: skewX(-0.78125deg) skewY(-0.78125deg);\n    }\n    77.7% {\n      transform: skewX(0.390625deg) skewY(0.390625deg);\n    }\n    88.8% {\n      transform: skewX(-0.1953125deg) skewY(-0.1953125deg);\n    }\n  }\n  \n  .jello {\n    animation-name: jello;\n    transform-origin: center;\n  }\n  \n  @keyframes bounceIn {\n    from, 20%, 40%, 60%, 80%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n    20% {\n      transform: scale3d(1.1, 1.1, 1.1);\n    }\n    40% {\n      transform: scale3d(.9, .9, .9);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(1.03, 1.03, 1.03);\n    }\n    80% {\n      transform: scale3d(.97, .97, .97);\n    }\n    to {\n      opacity: 1;\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .bounceIn {\n    animation-name: bounceIn;\n  }\n  \n  @keyframes bounceInDown {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: translate3d(0, -3000px, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(0, 25px, 0);\n    }\n    75% {\n      transform: translate3d(0, -10px, 0);\n    }\n    90% {\n      transform: translate3d(0, 5px, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInDown {\n    animation-name: bounceInDown;\n  }\n  \n  @keyframes bounceInLeft {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: translate3d(-3000px, 0, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(25px, 0, 0);\n    }\n    75% {\n      transform: translate3d(-10px, 0, 0);\n    }\n    90% {\n      transform: translate3d(5px, 0, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInLeft {\n    animation-name: bounceInLeft;\n  }\n  \n  @keyframes bounceInRight {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    from {\n      opacity: 0;\n      transform: translate3d(3000px, 0, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(-25px, 0, 0);\n    }\n    75% {\n      transform: translate3d(10px, 0, 0);\n    }\n    90% {\n      transform: translate3d(-5px, 0, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInRight {\n    animation-name: bounceInRight;\n  }\n  \n  @keyframes bounceInUp {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    from {\n      opacity: 0;\n      transform: translate3d(0, 3000px, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(0, -20px, 0);\n    }\n    75% {\n      transform: translate3d(0, 10px, 0);\n    }\n    90% {\n      transform: translate3d(0, -5px, 0);\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .bounceInUp {\n    animation-name: bounceInUp;\n  }\n  \n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  \n  .fadeIn {\n    animation-name: fadeIn;\n  }\n  \n  \n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n  \n  .fadeOut {\n    animation-name: fadeOut;\n  }\n  \n  \n  @keyframes flipInX {\n    from {\n      transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n      animation-timing-function: ease-in;\n      opacity: 0;\n    }\n    40% {\n      transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n      animation-timing-function: ease-in;\n    }\n    60% {\n      transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n      opacity: 1;\n    }\n    80% {\n      transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    }\n    to {\n      transform: perspective(400px);\n    }\n  }\n  \n  .flipInX {\n    backface-visibility: visible !important;\n    animation-name: flipInX;\n  }\n  \n  @keyframes flipInY {\n    from {\n      transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n      animation-timing-function: ease-in;\n      opacity: 0;\n    }\n    40% {\n      transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n      animation-timing-function: ease-in;\n    }\n    60% {\n      transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n      opacity: 1;\n    }\n    80% {\n      transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n    }\n    to {\n      transform: perspective(400px);\n    }\n  }\n  \n  .flipInY {\n    backface-visibility: visible !important;\n    animation-name: flipInY;\n  }\n  \n  @keyframes spinning {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(359deg);\n    }\n  }\n  \n  @keyframes spinning-reverse {\n    0% {\n      transform: rotate(359deg);\n    }\n    100% {\n      transform: rotate(0deg);\n    }\n  }\n  \n  .spinning {\n    animation-name: spinning;\n    animation-timing-function: linear;\n  }\n  \n  .spinning-reverse {\n    animation-name: spinning-reverse;\n    animation-timing-function: linear;\n  }\n  \n  @keyframes rotateIn {\n    from {\n      transform-origin: center;\n      transform: rotate3d(0, 0, 1, -200deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: center;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateIn {\n    animation-name: rotateIn;\n  }\n  \n  @keyframes rotateInDownLeft {\n    from {\n      transform-origin: left bottom;\n      transform: rotate3d(0, 0, 1, -45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: left bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInDownLeft {\n    animation-name: rotateInDownLeft;\n  }\n  \n  @keyframes rotateInDownRight {\n    from {\n      transform-origin: right bottom;\n      transform: rotate3d(0, 0, 1, 45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: right bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInDownRight {\n    animation-name: rotateInDownRight;\n  }\n  \n  @keyframes rotateInUpLeft {\n    from {\n      transform-origin: left bottom;\n      transform: rotate3d(0, 0, 1, 45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: left bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInUpLeft {\n    animation-name: rotateInUpLeft;\n  }\n  \n  @keyframes rotateInUpRight {\n    from {\n      transform-origin: right bottom;\n      transform: rotate3d(0, 0, 1, -90deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: right bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInUpRight {\n    animation-name: rotateInUpRight;\n  }\n  \n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes rollIn {\n    from {\n      opacity: 0;\n      transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);\n    }\n    to {\n      opacity: 1;\n      transform: none;\n    }\n  }\n  \n  .rollIn {\n    animation-name: rollIn;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  \n  \n  @keyframes zoomIn {\n    from {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n    50% {\n      opacity: 1;\n    }\n  }\n  \n  .zoomIn {\n    animation-name: zoomIn;\n  }\n  \n  @keyframes zoomInDown {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInDown {\n    animation-name: zoomInDown;\n  }\n  \n  @keyframes zoomInLeft {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInLeft {\n    animation-name: zoomInLeft;\n  }\n  \n  @keyframes zoomInRight {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInRight {\n    animation-name: zoomInRight;\n  }\n  \n  @keyframes zoomInUp {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInUp {\n    animation-name: zoomInUp;\n  }\n  \n  \n  @keyframes slideInDown {\n    from {\n      transform: translate3d(0, -100%, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInDown {\n    animation-name: slideInDown;\n  }\n  \n  @keyframes slideInLeft {\n    from {\n      transform: translate3d(-100%, 0, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInLeft {\n    animation-name: slideInLeft;\n  }\n  \n  @keyframes slideInRight {\n    from {\n      transform: translate3d(100%, 0, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInRight {\n    animation-name: slideInRight;\n  }\n  \n  @keyframes slideInUp {\n    from {\n      transform: translate3d(0, 100%, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInUp {\n    animation-name: slideInUp;\n  }\n\n  @keyframes lightSpeedIn {\n  from {\n    transform: translate3d(100%, 0, 0) skewX(-30deg);\n    opacity: 0;\n  }\n\n  60% {\n    transform: skewX(20deg);\n    opacity: 1;\n  }\n\n  80% {\n    transform: skewX(-5deg);\n    opacity: 1;\n  }\n\n  to {\n    transform: none;\n    opacity: 1;\n  }\n}\n\n.lightSpeedIn {\n  animation-name: lightSpeedIn;\n  animation-timing-function: ease-out;\n}\n"])
return o=function(){return e},e}var s=Object(a.createGlobalStyle)(o())},function(e,t,n){"use strict"
var r=n(21),i=n(16),a=n(7),o=n.n(a),s=n(6),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(5),v=n(1),b=n.n(v),y=n(22),x=n.n(y),w={info:{name:"lisankebook",desc:"李三科送给你的专属福利，现在注册墨刀即可享受一个月个人版会员",successTip:"注册成功，恭喜你获得墨刀一个月个人版会员"},checker:function(){return function(){var e=location.search
0===e.indexOf("?")&&(e=e.substr(1))
var t={}
return e.split("&").forEach((function(e){var n=e.split("="),r=x()(n,2),i=r[0],a=r[1]
i&&(t[i]=!a||decodeURIComponent(a))})),t}().utm_source===w.info.name}},j=[w]
var S=n(210),C=n(214),_=n(291),O=n(289),k=n(288),M=n(153),E=n(20),T=n(3),A=n.n(T),D=n(129),N=n.n(D),I=n(14),P=n(11),L=n.n(P),F=L.a.div.withConfig({displayName:"styles__StyledSharingSetting",componentId:"mej7fj-0"
})(["flex:1;display:flex;flex-grow:1;flex-direction:column;.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:25px;width:11px;}}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.sharingBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 24px 0 0;.sharingIconUp{border-radius:10px;height:56px;width:56px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;margin-top:4px;&.wechat{background-color:#57BA40;}&.circle{background-color:#5CC0A5;}.blockIconUp{height:36px;width:36px;}}.sharingIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;border:1px solid #F2F2F2;.icon-color{stroke:rgb(91,107,115);}.blockIcon{height:36px;width:36px;}}.sharingName{font-size:12px;color:#7D8694;}}}"]),B=function(e){
u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"circleIcon",(function(e,t,n,r,i){return Object(m.jsxs)("div",{className:"sharingBlock",onClick:i,children:[Object(m.jsx)("div",{className:"sharingIconUp ".concat(r),children:Object(m.jsx)(I.a,{name:n,className:"blockIconUp"})}),Object(m.jsx)("div",{className:"sharingName",children:e})]})})),f()(A()(e),"shareToWX",(function(){MB.messageBucket.send("shareToWX")})),f()(A()(e),"shareToWXMoments",(function(){MB.messageBucket.send("shareToWXMoments")})),
f()(A()(e),"copyLinkAddress",(function(){MB.messageBucket.send("copyLinkAddress")})),f()(A()(e),"otherIcon",(function(t,n,r){return Object(m.jsxs)("div",{className:"sharingBlock",onClick:e.copyLinkAddress,children:[Object(m.jsx)("div",{className:"sharingIcon",children:Object(m.jsx)(I.a,{name:r,className:"blockIcon"})}),Object(m.jsx)("div",{className:"sharingName",children:t})]})})),f()(A()(e),"shareHeader",(function(){var t=e.props.onBack
return Object(m.jsxs)("div",{className:"theHeader",children:[Object(m.jsx)("div",{className:"backBtn","data-value":"",onClick:t,children:Object(m.jsx)(I.a,{name:"preview/menu/back",className:"backIcon"})}),Object(m.jsxs)("div",{className:"headerTitle",children:[Object(m.jsx)("div",{className:"headerName",children:I18N.pPreview.mobileMenu.share}),Object(m.jsx)("div",{className:"headerIntro",children:I18N.pPreview.mobileMenu.shareTo})]})]})})),e}return c()(n,[{key:"render",value:function(){
var e=this.props,t=e.isOnPremises,n=e.isWonderShare
return Object(m.jsxs)(F,{children:[this.shareHeader(),!t&&!n&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"contentItem",children:[this.circleIcon(I18N.pPreview.mobileMenu.weChat,null,"preview/menu/wechat","wechat",this.shareToWX),this.circleIcon(I18N.pPreview.mobileMenu.moments,null,"preview/menu/circle","circle",this.shareToWXMoments)]}),Object(m.jsx)("div",{className:"line"})]}),Object(m.jsx)("div",{className:"contentItem",
children:this.otherIcon(I18N.pPreview.mobileMenu.copyUrl,null,"preview/menu/share_link")})]})}}]),n}(g.PureComponent)
f()(B,"propTypes",{isOnPremises:b.a.bool,isWonderShare:b.a.bool,onBack:b.a.func})
var R=n(13),U=n.n(R),z=n(161),H=n(50),G=n(168),V=n(29),W=n(47),Y=L.a.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-2s278r-0"
})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #dbdbdb;margin-left:12px;.choosed{height:14px;min-width:14px;margin-right:16px;}.expander{height:18px;width:18px;margin-left:-16px;.arrow-icon{height:18px;width:18px;color:#8d9ea7;&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;height:100%;.screen-item-icon{width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:6px;.icon{width:20px;height:20px;}.svg-icon{color:#5d6b73;}.sm-folder-icon{.main{fill:",";}.secondary{fill:",";}}}.editable-span{font-size:18px;color:#415058;height:26px;",";}}"],(function(e){
return e.theme.screen_panel.folder_icon.main}),(function(e){return e.theme.screen_panel.folder_icon.secondary}),W.e),q=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"setElementRef",(function(t){return e.$elem=t})),f()(A()(e),"handleExpand",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onExpand)(r)})),f()(A()(e),"handleClick",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onSelect)(t,r)})),e}return c()(n,[{key:"componentDidMount",value:function(){if(!Object(H.g)(this.$elem)){if(!this.$elem.classList.contains("active"))return
var e=document.querySelector(".rn-content-body")
if(!e)return
var t=e.getBoundingClientRect(),n=this.$elem.getBoundingClientRect().bottom
e.scrollTop+=n-t.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.depth,r=e.isExpand,i=e.isActive,a=e.showExpander,o=14*(n+1),s=Object(V.a)(t),c=t.cid,l=t.name
return Object(m.jsxs)(Y,{ref:this.setElementRef,"data-cid":c,onClick:this.handleClick,style:{paddingLeft:o},className:U()("rn-list-item",{active:i,folder:s}),children:[a&&Object(m.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:Object(m.jsx)(I.a,{className:U()("arrow-icon",{"is-expand":r}),name:"new/arrow"})}),Object(m.jsxs)("div",{className:"screen-name",children:[Object(m.jsx)("div",{className:"screen-item-icon",children:Object(m.jsx)(G.a,{isActive:!1,
isFolder:s,isExpand:r})}),Object(m.jsx)(z.a,{className:"editable-span",children:Object(H.k)(l)})]}),i&&Object(m.jsx)(I.a,{name:"preview/menu/choose",className:"choosed"})]})}}]),n}(g.PureComponent)
f()(q,"propTypes",{depth:b.a.number,screenMeta:b.a.object,isActive:b.a.bool,isExpand:b.a.bool,showExpander:b.a.bool,actionProps:b.a.object})
var Z=n(217),X=L.a.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"zxoopv-0"
})(["flex:1;width:100%;.theHeader{position:absolute;width:100%;top:0;display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:25px;width:11px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.screen-list{position:absolute;top:68px;width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}.when-ws .choosed path{fill:#4257ff;}"]),J=function(e){
u()(n,e)
var t=p()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),f()(A()(r),"handleSelectScreenMeta",(function(e,t){var n=r.props,i=n.activeCid,a=n.dispatch
Object(V.a)(t)||(i===t.cid?r.handleScreenMetaExpand(t):a({type:"entry:sync-runner:set-screen",payload:{cid:t.cid}}))})),f()(A()(r),"handleScreenMetaExpand",(function(e){var t=e.cid,n=r.state.collapseKeySet,i=new Set(n)
n.has(t)?i.delete(t):i.add(t),r.setState({collapseKeySet:i})})),f()(A()(r),"backHeader",(function(e,t){return Object(m.jsxs)("div",{className:"theHeader",children:[Object(m.jsx)("div",{className:"backBtn","data-value":"",onClick:t,children:Object(m.jsx)(I.a,{name:"preview/menu/back",className:"backIcon"})}),Object(m.jsx)("div",{className:"headerTitle",children:Object(m.jsx)("div",{className:"headerName",children:e})})]})})),f()(A()(r),"renderScreenMetaItem",(function(e){
var t=e.depth,n=e.screenMeta,i=e.hasScreenMetaChildren,a=e.collapseScreenMetaCidSet,o=e.activeScreenMetaCid,s=n.cid,c=o===s,l=!a.has(s),u=i||Object(V.a)(n)
return Object(m.jsx)(q,{depth:t,screenMeta:n,isActive:c,isExpand:l,showExpander:u,actionProps:r.literalActionProps})})),r.state={collapseKeySet:new Set},r.literalActionProps={onExpand:r.handleScreenMetaExpand,onSelect:r.handleSelectScreenMeta},r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.activeCid,n=e.screenTreeData,r=e.onBack,i=e.projectName,a=e.isWonderShare,o=this.state.collapseKeySet
return Object(m.jsxs)(X,{children:[this.backHeader(i,r),Object(m.jsx)("div",{className:U()("screen-list",{"when-ws":a}),children:Object(m.jsx)(Z.a,{collapseScreenMetaCidSet:o,activeScreenMetaCid:t,isExpandTree:!1,screenTreeData:n,renderScreenMetaItem:this.renderScreenMetaItem})})]})}}]),n}(g.PureComponent)
f()(J,"propTypes",{isWonderShare:b.a.bool,activeCid:b.a.string,screenTreeData:b.a.object,dispatch:b.a.func,onBack:b.a.func,projectName:b.a.string})
var K=Object(E.createSelector)([i.H,i.g],(function(e,t){return{screenTreeData:e,activeCid:t.cid}})),Q=Object(r.connect)((function(e){return K(e)}))(J),$=n(36),ee=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return o()(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return c()(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return Object($.createPortal)(this.props.children,this.el)}}]),n}(g.PureComponent)
f()(ee,"propTypes",{children:b.a.element})
var te=n(113),ne=L.a.div.withConfig({displayName:"styles__StyledPreviewMask",componentId:"sc-1jnirfk-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;"]),re=L.a.div.withConfig({displayName:"styles__StyledPreviewSetting",componentId:"sc-1jnirfk-1"
})(["position:absolute;bottom:-363px;display:flex;flex-direction:column;z-index:6;height:363px;width:100%;background-color:#f7f7f7;transition:bottom 0.3s ease-in-out;&.is-open{bottom:0;}.theContent{display:flex;flex-grow:1;flex-direction:column;.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.menuBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 12px 0 0;.menuBlockIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;border:1px solid #f2f2f2;display:flex;align-items:center;justify-content:center;.blockIcon{height:36px;width:36px;}}.menuBlockName{display:flex;align-items:center;font-size:12px;color:#84817a;.redDot{width:4px;height:4px;background:#eb5648;border-radius:50%;margin-right:2px;}}}}.highlight-blue{.menuBlockIcon .link-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.offline-blue{.menuBlockIcon .download-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.highlight-red{.menuBlockIcon .link-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.offline-red{.menuBlockIcon .download-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;padding-left:16px;color:#415058;border-bottom:1px solid #dbdbdb;.headerIcon{height:40px;width:40px;margin-right:12px;border-radius:6px;img{height:40px;width:40px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-weight:bold;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#415058;text-align:left;width:300px;}.headerIntro{margin-top:4px;color:#8d9ea7;font-size:12px;font-weight:none;text-align:left;}}}}.theFooter{display:flex;align-items:center;justify-content:center;height:50px;background-color:#fff;font-size:18px;color:#415058;border-top:1px solid #dbdbdb;}@supports (bottom:env(safe-area-inset-bottom)){&.is-open{margin-bottom:env(safe-area-inset-bottom);}}"]),ie=L.a.div.withConfig({
displayName:"styles__StyledProgressBar",componentId:"sc-1jnirfk-2"
})(["position:absolute;height:100vh;width:100vw;z-index:6;display:flex;justify-content:center;align-items:center;.progress-box{display:flex;justify-content:center;align-items:center;flex-direction:column;width:240px;height:120px;background:#fff;box-shadow:0 2px 6px 0 rgba(0,0,0,0.18);border-radius:4px;}.splash-loading{width:70px;height:70px;}.sliderName{margin-top:10px;font-size:14px;color:#415058;letter-spacing:0;text-align:center;}"]),ae=n(37),oe=n.n(ae),se=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),f()(A()(r),"handleClickScreenSeeting",(function(){(0,r.props.onUpdateSetting)("screen")})),f()(A()(r),"handleClickSharingSeeting",(function(){(0,r.props.onUpdateSetting)("sharing")})),f()(A()(r),"refreshRenderTitle",(function(){var e=r.props,t=e.isAppOffline,n=e.isAppCacheNeedUpToDate
return t&&n?Object(m.jsx)("div",{className:"redDot"}):null})),r.isDemo="a1162497883172b3a4f79d1eb0f4b949"===e.project.access_token,r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.isWonderShare,n=e.isDummyApk,r=e.isAppOffline,i=e.isAppCacheNeedUpToDate,a=e.project,o=e.isHighlight,s=e.isHTMLZip,c=e.onPreviewExit,l=e.onShowModal,u=e.onProjectPreviewReload,d=e.onUpdateProjectHighlight,p=a.name,h=a.model,f=a.screens_count,g=a.icon,v=g?"".concat(s?".":"").concat(g):"/images/app_icon.svg"
return Object(m.jsxs)("div",{className:"theContent",children:[Object(m.jsxs)("div",{className:"theHeader",children:[Object(m.jsx)("div",{className:"headerIcon",children:Object(m.jsx)("img",{src:v})}),Object(m.jsxs)("div",{className:"headerTitle",children:[Object(m.jsx)("div",{className:"headerName",children:p}),Object(m.jsx)("div",{className:"headerIntro",children:"".concat(I18N.pPreview.mobileMenu[h]).concat(I18N.pPreview.mobileMenu.project,", ").concat(f).concat(I18N.pPreview.mobileMenu.unitScreen)})]})]
}),Object(m.jsxs)("div",{className:"contentItem",children:[!this.isDemo&&Object(m.jsx)(ce,{className:r?t?"offline-blue":"offline-red":"",name:I18N.pPreview.mobileMenu.download,icon:"preview/menu/download",onClick:l}),Object(m.jsx)(ce,{name:I18N.pPreview.mobileMenu.refresh,icon:"preview/menu/refresh",isAppCacheNeedUpToDate:i,renderName:this.refreshRenderTitle,onClick:u}),Object(m.jsx)(ce,{className:o?t?"highlight-blue":"highlight-red":"",name:I18N.pPreview.mobileMenu.viewLink,icon:"preview/menu/link",
onClick:d}),Object(m.jsx)(ce,{name:I18N.pPreview.mobileMenu.screenList,icon:"preview/menu/list",onClick:this.handleClickScreenSeeting})]}),Object(m.jsx)("div",{className:"line"}),Object(m.jsxs)("div",{className:"contentItem",children:[Object(m.jsx)(ce,{name:I18N.pPreview.mobileMenu.share,icon:"preview/menu/share",onClick:this.handleClickSharingSeeting}),!n&&Object(m.jsx)(ce,{name:I18N.pPreview.mobileMenu.exitPreview,icon:"preview/menu/exit",onClick:c})]})]})}}]),n}(g.PureComponent)
f()(se,"propTypes",{isWonderShare:b.a.bool,isDummyApk:b.a.bool,isHighlight:b.a.bool,isHTMLZip:b.a.bool,isAppOffline:b.a.bool,isAppCacheNeedUpToDate:b.a.bool,project:b.a.object,onPreviewExit:b.a.func,onUpdateSetting:b.a.func,onShowModal:b.a.func,onProjectPreviewReload:b.a.func,onUpdateProjectHighlight:b.a.func})
var ce=Object(g.memo)((function(e){var t=e.icon,n=e.name,r=e.onClick,i=e.renderName,a=e.className
return Object(m.jsxs)("div",{className:U()("menuBlock",a),onClick:r,children:[Object(m.jsx)("div",{className:"menuBlockIcon",children:Object(m.jsx)(I.a,{name:t,className:"blockIcon"})}),Object(m.jsxs)("div",{className:"menuBlockName",children:[i&&i(),Object(m.jsx)("p",{className:"name",children:n||""})]})]})}))
ce.propTypes={className:b.a.string,icon:b.a.string,name:b.a.string,renderName:b.a.func,onClick:b.a.func}
var le=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),f()(A()(r),"setElementRef",(function(e){return r.$elem=e})),f()(A()(r),"handleBackPreviewSetting",(function(){r.setState({currentMenuType:""})})),f()(A()(r),"handleClosePreviewSetting",(function(){r.setState({isOpen:!1,currentMenuType:""}),MB.messageBucket.send("closePreviewSettingMenu")})),f()(A()(r),"handleUpdateProjectHighlight",(function(){var e=r.props,t=e.isHighlight;(0,e.dispatch)({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!t}}),
MB.messageBucket.send("setDisplayLinkOK",{isHighlight:!t})})),f()(A()(r),"handleProjectPreviewReload",(function(){r.props.isShowOfflineModal||MB.messageBucket.send("refreshPreview")})),f()(A()(r),"handlePreviewExit",(function(){MB.messageBucket.send("exitAppPreview")})),f()(A()(r),"handleUpdateSetting",(function(e){r.setState({currentMenuType:e})})),f()(A()(r),"handleShowModal",(function(){MB.messageBucket.send("toggleOffline")})),f()(A()(r),"onClickOutside",(function(e){var t=e.target
r.$elem.contains(t)||r.handleClosePreviewSetting()})),r.state={isOpen:!1,currentMenuType:""},r}return c()(n,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("#workspace"),n=new N.a.Manager(t)
n.add(new N.a.Tap({event:"doubletap",pointers:2})),n.on("doubletap",(function(t){e.setState({isOpen:!0}),MB.messageBucket.send("openPreviewSettingMenu")}))}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.isWonderShare,r=e.isShowOfflineModal,i=e.isHTMLZip,a=e.isOnPremises,o=e.isHighlight,s=e.isAppOffline,c=e.isAppCacheNeedUpToDate,l=e.isDummyApk,u=this.state,d=u.isOpen,p=u.currentMenuType,h="sharing"===p,f="screen"===p,g=""===p
return Object(m.jsxs)(m.Fragment,{children:[d&&Object(m.jsx)(ne,{className:"mask"}),Object(m.jsxs)(re,{className:U()({"is-open":d}),ref:this.setElementRef,children:[g&&Object(m.jsx)(se,{project:t,isWonderShare:n,isHTMLZip:i,isHighlight:o,isAppOffline:s,isDummyApk:l,isAppCacheNeedUpToDate:c,onUpdateSetting:this.handleUpdateSetting,onPreviewExit:this.handlePreviewExit,onProjectPreviewReload:this.handleProjectPreviewReload,onUpdateProjectHighlight:this.handleUpdateProjectHighlight,
onShowModal:this.handleShowModal}),h&&Object(m.jsx)(B,{isOnPremises:a,isWonderShare:n,onBack:this.handleBackPreviewSetting}),f&&Object(m.jsx)(Q,{onBack:this.handleBackPreviewSetting,projectName:t.name,isWonderShare:n}),r&&Object(m.jsx)(de,{}),Object(m.jsx)(ue,{onClose:this.handleClosePreviewSetting}),d&&Object(m.jsx)(oe.a,{target:document,onClick:Object(ae.withOptions)(this.onClickOutside,{capture:!0})})]})]})}}]),n}(g.PureComponent)
f()(le,"propTypes",{isDummyApk:b.a.bool,isHighlight:b.a.bool,isHTMLZip:b.a.bool,isOnPremises:b.a.bool,isAppOffline:b.a.bool,isWonderShare:b.a.bool,isAppCacheNeedUpToDate:b.a.bool,isShowOfflineModal:b.a.bool,project:b.a.object,dispatch:b.a.func})
var ue=Object(g.memo)((function(e){var t=e.onClose
return Object(m.jsx)("div",{className:"theFooter",onClick:t,children:I18N.pPreview.mobileMenu.cancel})}))
ue.propTypes={onClose:b.a.func}
var de=Object(g.memo)((function(){return Object(m.jsx)(ee,{children:Object(m.jsx)(ie,{children:Object(m.jsxs)("div",{className:"progress-box",children:[Object(m.jsx)(te.a,{className:"splash-loading"}),Object(m.jsx)("div",{className:"sliderName",children:I18N.pPreview.mobile_menu_downloading_Project})]})})})}))
de.propTypes={}
var pe=Object(E.createSelector)([i.c,i.u,i.k,i.j,i.n,i.D,i.i,i.l],(function(e,t,n,r,i,a,o,s){return{project:e,isHighlight:i,isHTMLZip:a.isHTMLZip,isOnPremises:o.isOnPremises,isShowOfflineModal:t,isAppOffline:n,isAppCacheNeedUpToDate:r,isDummyApk:s,isWonderShare:o.isWonderShare}})),he=Object(r.connect)((function(e){return pe(e)}))(le),fe=n(202),me=n(10),ge=n.n(me),ve=n(15),be=n.n(ve),ye=n(31),xe=n(28),we=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"handleShare",be()(ge.a.mark((function t(){var n,r,i,a,o,s,c,l,u
return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!MB.global.experienceLoginModalHelper||!MB.global.experienceLoginModalHelper("isSave")){t.next=2
break}return t.abrupt("return")
case 2:n=e.props,r=n.theme,i=n.isHTMLZip,a=n.isOnPremises,o=n.isWonderShare,s=MB.currentProject,c=MB.getIsInNewGuide&&MB.getIsInNewGuide(),l=!(s.is_org_project||a||c||o),u={isOnPremises:a,isInNewGuide:c,canUploadToSquare:l,isWonderShare:o},MB.global.popupHelper.sharingAsync({theme:r,project:s,isGuestMode:i,onUpdateProject:e.handleUpdateProject,extraInfo:u}),MB.event("preview","工具栏: 点击分享按钮"),MB.event("zhuge",Object(xe.d)()?"Preview_click_share":"LinkPreview_click_share"),MB.event("zhuge","SharePopup_enter",{
From:Object(xe.d)()?"Preview":"Linkpreview"})
case 11:case"end":return t.stop()}}),t)})))),f()(A()(e),"handleUpdateProject",(function(t){MB.currentProject=t,e.forceUpdate()})),e}return c()(n,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(ye.a,{direction:"down",content:I18N.pPreviewToolbar.share,children:Object(m.jsx)("div",{className:"share-menu-wrapper",children:Object(m.jsx)(I.a,{type:"dora",name:"design/share/new",className:"share-icon",onClick:this.handleShare})})})})}}]),n}(g.PureComponent)
f()(we,"propTypes",{isOnPremises:b.a.bool,isHTMLZip:b.a.bool,isWonderShare:b.a.bool,theme:b.a.string})
var je=we,Se=L.a.div.withConfig({displayName:"styles__StyledFullScreenMode",componentId:"sc-1ozym1e-0"})(["&{height:100%;display:flex;justify-content:center;align-items:center;}.fullscreen{position:relative;display:flex;justify-content:center;font-size:15px;width:28px;height:28px;border-radius:50%;background:",";cursor:pointer;.svg-icon{color:",";}&:hover .svg-icon{color:",";}}"],(function(e){return e.theme.preview.toolbar.fullScreen.bg}),(function(e){return e.theme.preview.toolbar.fullScreen.icon.cr
}),(function(e){return e.theme.preview.toolbar.fullScreen.icon.hover})),Ce=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"handleFullScreen",(function(){MB.event("zhuge",Object(xe.d)()?"Preview_enter_FullScreen":"LinkPreview_enter_FullScreen"),MB.event("preview","工具栏: 全屏模式开启"),e.props.dispatch({type:"entry:enter:full-screen-mode"})})),e}return c()(n,[{key:"render",value:function(){return Object(m.jsx)(Se,{children:Object(m.jsx)(ye.a,{direction:"down",content:I18N.pPreviewToolbar.fullscreen,children:Object(m.jsx)("div",{className:"fullscreen-wrapper",
children:Object(m.jsx)("div",{className:"fullscreen",onClick:this.handleFullScreen,children:Object(m.jsx)(I.a,{name:"design/fullscreen"})})})})})}}]),n}(g.PureComponent)
f()(Ce,"propTypes",{dispatch:b.a.func})
var _e=L.a.a.withConfig({displayName:"styles__StyledToolBarItem",componentId:"sc-1imaxnq-0"
})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:44px;color:",';border-top:2px solid transparent;cursor:pointer;&.preview{.svg-icon{width:24px;height:21px;}}&.inspect{.svg-icon{width:20px;height:21px;}}&.comment{.svg-icon{width:22px;height:21px;}}[type="tip"]{margin-top:4px;font-size:12px;white-space:nowrap;color:',";}&.active{background:",";border-top:2px solid ",";.svg-icon{color:",';}[type="tip"]{color:',";}}&:not(.active):hover{color:",";background:",';[type="tip"]{color:',";}}"],(function(e){
return e.theme.preview.toolbar.icon.cr}),(function(e){return e.theme.common.text_6.cr}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.preview.toolbar.item_border}),(function(e){return e.theme.preview.toolbar.icon.active}),(function(e){return e.theme.preview.toolbar.icon.active}),(function(e){return e.theme.common.text_6.hover}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.common.text_6.hover})),Oe=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"handleClick",(function(t){var n=e.props,r=n.type;(0,n.onClick)(r)})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.name,r=e.iconName,i=e.isActive
return Object(m.jsx)(ye.a,{content:n,direction:"down",children:Object(m.jsxs)(_e,{className:U()({active:i},t,"toolbar-item"),onClick:this.handleClick,children:[Object(m.jsx)(I.a,{name:r}),Object(m.jsx)("span",{type:"tip",children:n})]})})}}]),n}(g.PureComponent)
f()(Oe,"propTypes",{isActive:b.a.bool,iconName:b.a.string,name:b.a.string,type:b.a.string,onClick:b.a.func})
var ke=n(79),Me=n(55),Ee=L.a.header.withConfig({displayName:"styles__StyledPreviewToolbar",componentId:"sc-1bbkeox-0"
})(["&{display:flex;align-items:center;z-index:1000;background:",";height:",";width:100%;box-shadow:1px 0 6px 0 rgba(39,54,78,0.12);padding:0 28px;transition:all 0.3s ease-in-out;color:",";.toolbar-right{font-size:18px;display:flex;align-items:center;justify-content:flex-end;height:100%;.preview-seeting{width:21px;height:22px;}.share-menu-wrapper{display:flex;align-items:center;height:100%;.share-icon{width:16px;height:16px;cursor:pointer;color:",";}&:hover .share-icon{color:",";}}a,.svg-icon{&:active,&.active{cursor:pointer;}}label.Dropdown:not(:global(.is-disabled)){&:hover{.svg-icon{color:#415058;}}}span.share-icon:hover{color:",";}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;> span{color:#c8cdd0 !important;}}}.back-icon{display:flex;width:44px;height:100%;justify-content:center;align-items:center;margin-left:-28px;margin-right:7px;color:",";font-size:16px;cursor:pointer;transition:all 0.1s linear;&:hover{color:",";background:",";}.svg-icon{height:12px;}}.line{height:20px;width:1px;background:",";margin:0 25px;}.toolbar-left,.toolbar-right{flex-basis:240px;flex-shrink:0;}.toolbar-left{position:relative;display:flex;height:100%;align-items:center;.project-name{width:160px;font-size:14px;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.toolbar-main{position:relative;height:100%;padding:0 100px;display:flex;justify-content:center;flex:1;}.preview-toolbar-nav{display:flex;height:100%;background:#fff;border-bottom:none;justify-content:space-between;.nav-icon{.svg-icon{width:28px;height:28px;color:#8d9ea7;}&:hover{color:#415058;}}.active .nav-icon,.active .nav-label{color:#f55d54;transition:none;.svg-icon{color:",";}}> li{width:260px;font-size:14px;border-bottom:2px solid transparent;&:not(.active){&:hover{overflow:visible;.icon{color:#415058;}}}}.background-cube{border:none;height:calc(100% + 1px);&::after{content:'';position:absolute;left:18px;bottom:-1px;width:52px;border-top:2px solid #f55d54;}}}.toolbar-main-wrapper{position:relative;display:flex;justify-content:space-around;width:200px;height:100%;}&:not(.hide-text){.toolbar-main{.toolbar-main-wrapper{.toolbar-item{&:lang(en){width:60px;}}}}}&.hide-text{height:44px;.toolbar-main{.toolbar-main-wrapper{span[type=\"tip\"]{display:none;}}}}&.is-fullscreen-mode{position:absolute;opacity:0;pointer-events:none;}}@media only screen and (max-width:985px){.toolbar-left{flex-basis:unset;.project-name{max-width:140px;}}.toolbar-right{flex-basis:140px;label.Dropdown:first-child,span.line:nth-child(2){display:none;}}}"],(function(e){
return e.theme.common.bg.preview_menu_bg}),(function(e){return e.theme.preview.toolbar.height}),(function(e){return e.theme.preview.toolbar.tc}),(function(e){return e.theme.preview.toolbar.icon.cr}),(function(e){return e.theme.preview.toolbar.icon.hover}),(function(e){return e.theme.common.icon_15.hover}),(function(e){return e.theme.toolbar.icon_color.cr}),(function(e){return e.theme.toolbar.icon_color.hover}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.preview.toolbar.line_bg
}),(function(e){return e.theme.toolbar.app_name}),(function(e){return e.theme.palette.active_color})),Te=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"handleTabChange",(function(t){(0,e.props.dispatch)({type:"entry:preview:select",payload:{toolbarActiveItem:t}})})),e}return c()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.toolbarActiveItem!==this.props.toolbarActiveItem&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1,isSelectLayer:!1}})}},{key:"render",value:function(){
var e=this.props,t=e.project,n=e.dispatch,r=e.toolbarActiveItem,i=e.isHTMLZip,a=e.isProjectMain,o=e.isFullScreenMode,s=e.showToolBarText,c=e.theme,l=e.isOnPremises,u=e.isWonderShare
if(!a)return Object(m.jsx)(fe.a,{})
var d=t.name||""
return Object(m.jsxs)(Ee,{className:U()("preview-toolbar",{"hide-text":!s,"is-fullscreen-mode":o}),children:[Object(m.jsxs)("div",{className:"toolbar-left",children:[Object(xe.d)()&&Object(m.jsx)("a",{className:"back-icon",title:I18N.pPreviewToolbar.back,onClick:Ae,children:Object(m.jsx)(I.a,{name:"angle_bracket_left"})}),Object(m.jsx)("span",{className:"project-name",children:Object(H.f)(d)})]}),Object(m.jsxs)("div",{className:"toolbar-main",children:[Object(m.jsx)(fe.a,{}),Object(m.jsxs)("div",{
className:"toolbar-main-wrapper",children:[Object(m.jsx)(Oe,{type:"preview",name:I18N.pPreviewToolbar.preview,iconName:"design/preview/play",isActive:"preview"===r,onClick:this.handleTabChange}),Object(m.jsx)(Oe,{type:"inspect",name:I18N.pPreviewToolbar.developer_mode,iconName:"design/preview/handoff",isActive:"inspect"===r,onClick:this.handleTabChange}),!i&&Object(m.jsx)(Oe,{type:"comment",name:I18N.pPreviewToolbar.comment,iconName:"design/preview/comment",isActive:"comment"===r,
onClick:this.handleTabChange})]})]}),Object(m.jsxs)("div",{className:"toolbar-right",children:[!i&&Object(m.jsx)(je,{dispatch:n,isHTMLZip:i,theme:c,isOnPremises:l,isWonderShare:u}),!i&&Object(m.jsx)("span",{className:"line"}),Object(m.jsx)(Ce,{dispatch:n})]})]})}}]),n}(g.PureComponent)
f()(Te,"propTypes",{project:b.a.object,isOnPremises:b.a.bool,isHTMLZip:b.a.bool,isProjectMain:b.a.bool,isFullScreenMode:b.a.bool,toolbarActiveItem:b.a.string,showToolBarText:b.a.bool,theme:b.a.string,isWonderShare:b.a.bool,dispatch:b.a.func})
var Ae=function(){Object(xe.d)()&&(MB.action&&MB.action("entry:activate:screen",{screenCid:MB.currentScreen.cid}),MB.backDesign(),MB.action("reducer:flag:update-state",{isInPreview:!1}),Object(ke.a)(12),Object(Me.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Back",from:Object(Me.a)()}),Object(Me.c)()&&Object(Me.d)())},De=Object(E.createSelector)([i.D,i.y,i.b,i.c,i.r,i.m,i.N,i.i],(function(e,t,n,r,i,a,o,s){return{project:r,isHTMLZip:e.isHTMLZip,isProjectMain:i,isFullScreenMode:a,toolbarActiveItem:n,
showToolBarText:t,theme:o,isOnPremises:s.isOnPremises,isWonderShare:s.isWonderShare}})),Ne=Object(r.connect)((function(e){return De(e)}))(Te),Ie=n(4),Pe=n.n(Ie),Le=n(90),Fe=n.n(Le),Be=n(98),Re=n.n(Be),Ue=n(70),ze=n.n(Ue),He=n(406),Ge=n.n(He),Ve=n(408),We=n(66),Ye=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"state",{formData:{name:"",email:"",pwd:""},submitErrMsg:"",submitted:!1}),f()(A()(e),"handleFormDataChange",(function(t){return function(n){return e.setState({formData:Pe()(Pe()({},e.state.formData),{},f()({},t,n))})}})),f()(A()(e),"handleEmailChange",(function(t){return e.setState({formData:Pe()(Pe()({},e.state.formData),{},{email:t})})})),f()(A()(e),"resetSubmitErrMsg",(function(){return e.setState({submitErrMsg:""})})),
f()(A()(e),"verifyEmail",(function(e){return Ve.a.test(e)})),f()(A()(e),"handleSignUp",(function(){var t=e.props.event,n=e.state.formData,r=n.name,i=n.email,a=n.pwd
if(e.resetSubmitErrMsg(),!e.verifyEmail(i))return e.setState({submitErrMsg:I18N.dModals.verify_email_address})
Object(We.b)("/events/sign_up.json",{username:r,email:i,password:a,locale:"zh-CN",event:t.name}).then((function(){return Object(We.b)("/sessions.json",{email:i,password:a}).then((function(){return e.setState({submitted:!0})}))}),(function(t){return e.setState({submitErrMsg:t.detail})}))})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.inMobile,n=e.isOpen,r=e.event,i=this.state,a=i.formData,o=a.name,s=a.email,c=a.pwd,l=i.submitErrMsg,u=i.submitted,d=!!o&&!!s&&!!c
return Object(m.jsx)(Fe.a,{className:"sign-up-modal ".concat(t?"modal-in-mobile":""),maskClassName:"modal-mask",title:I18N.dModals.register_account,isOpen:n,children:u?Object(m.jsxs)("div",{className:"award-view",children:[Object(m.jsx)("img",{className:"award",src:"/mb-workspace/images/event/award.png"}),Object(m.jsx)("p",{className:"success-tip",children:r.successTip})]}):Object(m.jsxs)("div",{className:"sign-up-view",children:[Object(m.jsx)("p",{className:"event-desc",children:r.desc
}),Object(m.jsxs)("div",{className:"input-entry",children:[Object(m.jsx)(I.b,{className:"icon",type:"mb",name:"user"}),Object(m.jsx)(Re.a,{className:"input",placeholder:I18N.dModals.user_name,defaultValue:o,onChange:this.handleFormDataChange("name")})]}),Object(m.jsxs)("div",{className:"input-entry",children:[Object(m.jsx)(I.b,{className:"icon",type:"mb",name:"mail"}),Object(m.jsx)(Ge.a,{className:"input",placeholder:I18N.dModals.user_email,onChange:this.handleEmailChange})]}),Object(m.jsxs)("div",{
className:"input-entry",children:[Object(m.jsx)(I.b,{className:"icon",type:"mb",name:"lock"}),Object(m.jsx)(Re.a,{className:"input",placeholder:I18N.dModals.user_password,type:"password",defaultValue:c,onChange:this.handleFormDataChange("pwd")})]}),!!l&&Object(m.jsx)("p",{className:"error-msg",children:"* ".concat(l)}),Object(m.jsx)(ze.a,{className:"primary-button",type:"primary",isDisabled:!d,onClick:this.handleSignUp,children:I18N.dModals.sign_up}),Object(m.jsxs)("p",{className:"agree-terms",
children:[I18N.dModals.click_register_meant_agree,Object(m.jsx)("a",{href:"/tos",target:"_blank",children:I18N.dModals.terms_of_service})]})]})})}}]),n}(g.PureComponent)
Ye.propTypes={event:b.a.object,isOpen:b.a.bool,inMobile:b.a.bool}
var qe=n(39),Ze=function(e){u()(n,e)
var t=p()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.event,r=e.loggedIn,i=e.inMobile,a=e.dispatch
return Object(m.jsx)("div",{children:t&&!r&&Object(m.jsx)(Ye,{inMobile:i,event:n,isOpen:t,onClose:function(){return a("event-sign-up:close:modal")}})})}}]),n}(g.PureComponent)
Ze.propTypes={open:b.a.bool,inMobile:b.a.bool,event:b.a.object,loggedIn:b.a.bool,dispatch:b.a.func}
var Xe=Object(r.connect)((function(e){return Pe()(Pe()({},e.container.eventSignUpModal),{},{loggedIn:!!e.model.user.id,inMobile:Object(qe.j)()})}))(Ze),Je=n(290),Ke=function(e){var t=e.layout
return e.isShow?Object(m.jsxs)(Qe,{className:t,href:"/",target:"_blank",children:[Object(m.jsx)("img",{className:"zh",src:"/mb-workspace/images/preview/watermark_zh.svg",alt:I18N.pPreview.powered_by_modao}),Object(m.jsx)("img",{className:"en",src:"/mb-workspace/images/preview/watermark_en.svg",alt:I18N.pPreview.powered_by_modao})]}):null}
Ke.propTypes={isShow:b.a.bool,layout:b.a.string}
var Qe=L.a.a.withConfig({displayName:"WaterMark__StyledWaterMark",componentId:"pgy9fr-0"})(["position:fixed;bottom:10px;z-index:1000;&.classic{left:10px;}&.recommend{right:10px;}:lang(zh) .en,:lang(en) .zh{display:none;}"]),$e=Object(r.connect)((function(e){var t=Object(i.A)(e),n=Object(i.c)(e),r="ai@mockingbot.com"===n.owner_email,a=MB.user.id!==n.owner_id&&n.expired
return{isShow:r||a,layout:t}}))(Ke),et=n(32),tt=n(27),nt=function(){var e=Object(g.useState)("true"!==Object(tt.b)("close_client_load_tip")),t=x()(e,2),n=t[0],r=t[1]
if(!n)return null
var i=I18N.pPreview.client_load_a,a=I18N.pPreview.client_load_tip
return Object(m.jsxs)("div",{className:"download-client-tip",children:[Object(m.jsx)(I.b,{type:"fa",name:"info-circle",className:"download-client-tip-icon"}),Object(m.jsxs)("span",{className:"download-text",children:[Object(m.jsx)("a",{href:et.a.MB_LINK.DOWNLOAD_CLIENT,rel:"noopener noreferrer",target:"_blank",children:i})," ",a]}),Object(m.jsx)(I.b,{type:"dora",name:"times_fc",className:"download-client-close-icon",onClick:function(){r(!1),Object(tt.e)("close_client_load_tip","true")}})]})
},rt=Object(g.memo)(nt),it=n(251),at=n.n(it),ot=function(e){u()(n,e)
var t=p()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),f()(A()(e),"state",{isOpen:!0}),e}return c()(n,[{key:"componentDidMount",value:function(){var e=this
setTimeout((function(){e.setState({isOpen:!1}),Object(tt.e)(ct,!0)}),4e3)}},{key:"render",value:function(){var e=this.state.isOpen
return Object(m.jsx)(at.a,{className:"commercial-font-tip",isOpen:e,noCloseBtn:!0,guide:I18N.pPreview.commercial_font_tip_preview,X:"center",Y:"top"})}}]),n}(g.Component)
function st(e){return Object(tt.b)(ct)?null:Object(m.jsx)(ot,Pe()({},e))}var ct="commercialFontTipShownInPreview",lt=n(138),ut=n(52),dt=L.a.div.withConfig({displayName:"styles__StyledApp",componentId:"b1c1rf-0"
})(["&{width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}&.full-screen{#preview_scrollBar_viewport{transition:opacity 0.5s ease-in-out;top:52px;}#simulator-container,#preview_scrollBar_viewport,#mb-preview-leftpane{top:52px;}}.download-client-tip{display:flex;justify-content:space-around;align-items:center;position:absolute;left:50%;bottom:26px;transform:translate(-50%);padding:0 12px 0 10px;height:34px;border-radius:22px;background:#fff;box-shadow:0 -2px 30px 0 rgba(39,54,78,0.11);.download-text{color:#415058;margin:0 10px;}span{color:#415058;a{color:",";}}.download-client-tip-icon{font-size:22px;color:",";}.download-client-close-icon{cursor:pointer;color:#c8cdd0;&:hover{color:#8d9ea7;}}}.marign-top-20{margin-top:20px;}&.is-offline-mode{.screen-actions .viewmode,.download-client-tip{display:none;}.event-gift{display:none;}.preview-sub-toolbar{.mode{min-width:initial;.picker{display:none;}}.param{margin-left:0;}}}&.is-uichina{header{background:transparent;.toolbar-main{order:1;flex:unset;flex-basis:240px;.toolbar-main-wrapper{display:none;flex:unset;}}.toolbar-left{flex:1;order:2;justify-content:center;.project-name{text-align:center;margin-left:0;}}.toolbar-right{order:3;}}}@media only screen and (max-width:985px){&.is-uichina{header{.toolbar-main{flex-basis:140px;padding:0;}}}}}"],(function(e){
return e.theme.preview.bg}),(function(e){return e.theme.preview.panel.footer_client_cr}),(function(e){return e.theme.preview.comment.layer.select_border})),pt=function(e){u()(n,e)
var t=p()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){var e=function(){var e=j.find((function(e){return(0,e.checker)()}))
return e?e.info:null}()
if(e){var t={open:!0,event:e}
this.props.dispatch({type:"event-sign-up:set:event",payload:t})}}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"entry:preview:clear"})}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.previewOptions,n=e.previewSetting,r=e.dispatch,i=e.isWonderShare,a=t.isMobile,o=t.isEmbedV1,s=t.isHTMLZip,c=t.isUIChina,l=t.isForum,u=t.isElectron
if(a||o){var d=n.appVeresion,p=Boolean(d)
return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M.a,{}),Object(m.jsx)(Xe,{}),p&&Object(m.jsx)(he,{})]})}var h=n.toolbarActiveItem,f=n.isFullScreenMode,g=h===ut.c,v=h===ut.b,b=!u&&!s&&v,y=c||g,x=U()("preview-app",{"is-offline-mode":s,"is-uichina":c||l,"full-screen":f})
return Object(m.jsxs)(dt,{className:x,onContextMenu:this.preventDefault,children:[Object(m.jsx)(Ne,{}),f&&Object(m.jsx)(Je.a,{}),Object(m.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[Object(m.jsx)(C.a,{}),Object(m.jsx)(k.a,{}),Object(m.jsx)(O.a,{}),Object(m.jsx)(_.a,{})]}),y&&Object(m.jsx)($e,{}),b&&Object(m.jsx)(rt,{isWonderShare:i}),g&&Object(m.jsx)(st,{}),Object(m.jsx)(Xe,{}),Object(m.jsx)(S.a,{dispatch:r}),Object(m.jsx)(lt.b,{})]})}}]),n}(g.PureComponent)
f()(pt,"propTypes",{previewOptions:b.a.object,previewSetting:b.a.object,dispatch:b.a.func,isWonderShare:b.a.bool})
t.a=Object(r.connect)((function(e){var t=Object(i.E)(e)
return{previewOptions:Object(i.D)(e),previewSetting:t,isWonderShare:Object(i.i)(e).isWonderShare}}))(pt)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return P}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(0),p=n(5),h=n.n(p),f=n(1),m=n.n(f),g=n(4),v=n.n(g),b=n(22),y=n.n(b),x=n(3),w=n.n(x),j=n(2),S=n.n(j),C=n(56),_=function(e,t){if(Object(C.b)(e,t))return{top:e.top-t.top,right:t.left+t.width-(e.left+e.width),bottom:t.top+t.height-(e.top+e.height),left:e.left-t.left}
var n={},r=function(e,t){var n=[],r=Object(C.d)(e,t)
if(r.width<e.width+t.width)n[0]=null
else{var i=r.width-(e.width+t.width),a=t.left>e.left
n[0]=a?i:-i}if(r.height<e.height+t.height)n[1]=null
else{var o=r.height-(e.height+t.height),s=t.top>e.top
n[1]=s?o:-o}return n}(e,t)
return r[0]>0?n.right=r[0]:r[0]<0&&(n.left=Math.abs(r[0])),r[1]>0?n.bottom=r[1]:r[1]<0&&(n.top=Math.abs(r[1])),n},O=function(e){return"".concat(100*e,"%")},k=function(e){c()(n,e)
var t=u()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),S()(w()(e),"getDistanceMarksStyle",(function(e,t){return{top:O(e.top/t.height),left:O(e.left/t.width),width:O(e.width/t.width),height:O(e.height/t.height)}})),S()(w()(e),"mapDistanceMarks",(function(t,n){var r,i=y()(t,2),a=i[0],o=i[1],s=e.props,c=s.style,l=s.renderValue,u=s.isWonderShare,p=c.showStartAndEndBoundary,f=c.colorForLines,m=c.colorForText,g=c.backgroundColorForText,b=c.dashed,x=e.getMarkStyle(a,o),w=Math.abs(o)
return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"distance-line ".concat(a),style:v()(v()({},x.line),{},(r={},S()(r,["top","bottom"].includes(a)?"borderLeftStyle":"borderTopStyle",b?"dashed":"solid"),S()(r,"borderColor",u?f[1]:f[0]),r))}),l?l({value:w,style:x.value,customClassName:"distance-value ".concat(a)}):Object(d.jsx)("span",{className:"distance-value ".concat(a),style:v()(v()({},x.value),{},{color:m,backgroundColor:g}),children:w}),p&&Object(d.jsxs)(h.a.Fragment,{
children:[Object(d.jsx)("div",{className:"distance-mark-start-boundary ".concat(a),style:{borderColor:f}}),Object(d.jsx)("div",{className:"distance-mark-end-boundary ".concat(a),style:v()(v()({},x.endBoundary),{},{borderColor:f})})]})]},"".concat(n,"-").concat(o))})),S()(w()(e),"getMarkStyle",(function(t,n){var r,i=e.props.baseRect,a={line:{},value:{},endBoundary:{}},o=["right","left"],s=o.includes(t)?n/i.width:n/i.height
return a.line=(r={},S()(r,t,n<0?0:O(-s)),S()(r,o.includes(t)?"width":"height",O(Math.abs(s))),r),a.endBoundary=S()({},t,O(-s)),a.value=S()({},o.includes(t)?"left":"top",["right","bottom"].includes(t)?O(1+s/2):O(-s/2)),a})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.baseRect,n=e.refRect,r=e.screen,i=_(t,n),a=this.getDistanceMarksStyle(t,r)
return Object(d.jsx)("div",{className:"distance-marks",style:a,children:Object.entries(i).map(this.mapDistanceMarks)})}}]),n}(p.PureComponent)
S()(k,"propTypes",{baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,style:m.a.object,renderValue:m.a.func,isWonderShare:m.a.bool})
var M=function(e){var t=e.refRect,n=e.screen,r=e.style,i=r.dashed,a=r.colorForLines
return Object(d.jsx)("div",{style:{position:"absolute",pointerEvents:"none",width:O(t.width/n.width),height:O(t.height/n.height),left:O(t.left/n.width),top:O(t.top/n.height),border:"1px ".concat(i?"dashed":"solid"," ").concat(a)}})}
M.propTypes={refRect:m.a.object,screen:m.a.object,style:m.a.object}
var E=M,T=function(e){c()(n,e)
var t=u()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),S()(w()(e),"genLines",(function(t,n){var r=e.props,i=r.style,a=r.isWonderShare,o=[]
return t.top>0&&o.push(Object(d.jsx)("div",{className:"line top",style:{width:O(t.left/n.width),borderTopStyle:"".concat(i.dashed?"dashed":"solid"),borderTopColor:a?i.colorForLines[1]:i.colorForLines[0],top:O(t.top/n.height)}},"top")),t.left+t.width<n.width&&o.push(Object(d.jsx)("div",{className:"line right",style:{borderLeftStyle:"".concat(i.dashed?"dashed":"solid"),borderLeftColor:a?i.colorForLines[1]:i.colorForLines[0],left:O((t.left+t.width)/n.width)}},"right")),
t.top+t.height<n.height&&o.push(Object(d.jsx)("div",{className:"line bottom",style:{borderTopStyle:"".concat(i.dashed?"dashed":"solid"),borderTopColor:a?i.colorForLines[1]:i.colorForLines[0],width:O(t.left/n.width),top:O((t.top+t.height)/n.height)}},"bottom")),t.left>0&&o.push(Object(d.jsx)("div",{className:"line left",style:{borderLeftStyle:"".concat(i.dashed?"dashed":"solid"),borderLeftColor:a?i.colorForLines[1]:i.colorForLines[0],left:O(t.left/n.width)}},"left")),o})),e}return o()(n,[{key:"render",
value:function(){var e=this.props,t=e.refRect,n=e.screen
return Object(d.jsx)("div",{className:"verbose-auxiliary-lines",children:this.genLines(t,n)})}}]),n}(h.a.Component)
T.propTypes={refRect:m.a.object,screen:m.a.object,style:m.a.object,isWonderShare:m.a.bool}
var A=function(e){c()(n,e)
var t=u()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),S()(w()(e),"getAuxiliaryLinesStyle",(function(e,t){return{top:O(e.top/t.height),left:O(e.left/t.width),width:O(e.width/t.width),height:O(e.height/t.height)}})),S()(w()(e),"getAuxiliaryLinesLength",(function(){var t={},n=e.props,r=n.baseRect,i=n.refRect,a=Object(C.d)(r,i),o=a.width-i.width
a.height-(r.height+i.height)>0&&o>r.width/2&&(t.horizontal=o)
var s=a.height-i.height
return a.width-(r.width+i.width)>0&&s>r.height/2&&(t.vertical=s),t})),S()(w()(e),"getLineStyle",(function(t,n){var r=e.props,i=r.baseRect,a=r.refRect,o=i.left>a.left,s=i.top>a.top,c={}
if(t){var l,u=t/a.width
c.horizontal=(l={},S()(l,s?"bottom":"top",0),S()(l,o?"right":"left",O(-u)),S()(l,"width",O(u)),l)}if(n){var d,p=n/a.height
c.vertical=(d={},S()(d,o?"right":"left",0),S()(d,s?"bottom":"top",O(-p)),S()(d,"height",O(p)),d)}return c})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.refRect,n=e.screen,r=e.style,i=this.getAuxiliaryLinesLength(),a=i.horizontal,o=i.vertical
if(!a&&!o)return null
var s=this.getAuxiliaryLinesStyle(t,n),c=this.getLineStyle(a,o)
return Object(d.jsxs)("div",{className:"smart-auxiliary-lines",style:s,children:[a&&Object(d.jsx)("div",{className:"line horizontal",style:v()(v()({},c.horizontal),{},{borderTopStyle:"".concat(r.dashed?"dashed":"solid"),borderTopColor:r.colorForLines})}),o&&Object(d.jsx)("div",{className:"line vertical",style:v()(v()({},c.vertical),{},{borderLeftStyle:"".concat(r.dashed?"dashed":"solid"),borderLeftColor:r.colorForLines})})]})}}]),n}(h.a.Component)
A.propTypes={baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,style:m.a.object}
var D=n(11),N=n.n(D).a.div.withConfig({displayName:"styles__StyledDistanceMeasurement",componentId:"u3ofv4-0"
})(["width:100%;height:100%;pointer-events:none;.distance-marks{position:absolute;pointer-events:none;.distance-line{position:absolute;width:1px;height:1px;&.top,&.bottom{left:50%;border-left:1px solid black;}&.left,&.right{top:50%;border-top:1px solid black;}}.distance-value{position:absolute;&.top,&.bottom{left:calc(50% + 6px);transform:translateY(-50%);}&.left,&.right{top:calc(50% - 6px);transform:translate(-50%,-100%);}}.distance-mark-start-boundary{&.top{top:0;}&.right{right:0;}&.bottom{bottom:0;}&.left{left:0;}}.distance-mark-start-boundary,.distance-mark-end-boundary{position:absolute;&.top,&.bottom{left:50%;transform:translateX(-4px);width:9px;height:1px;border-top:1px solid black;}&.left,&.right{top:50%;transform:translateY(-4px);width:1px;height:9px;border-left:1px solid black;}}}.smart-auxiliary-lines{position:absolute;pointer-events:none;.line{position:absolute;width:1px;height:1px;&.horizontal{border-top:1px solid black;}&.vertical{border-left:1px solid black;}}}.verbose-auxiliary-lines{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;.line{position:absolute;&.top,&.bottom{width:100%;height:1px;border-top:1px solid black;}&.bottom{transform:translateY(-1px);}&.left,&.right{width:1px;height:100%;border-left:1px solid black;}&.right{transform:translateX(-1px);}}}"]),I={
design:{distanceMarks:{showStartAndEndBoundary:!1,dashed:!1,colorForLines:["#eb5648","#eb5648"],colorForText:"#eb5648"},refRectBorder:{dashed:!1,colorForLines:"#eb5648"},verboseAuxiliaryLines:!1,auxiliaryLines:{dashed:!0,colorForLines:["#eb5648","#eb5648"]}},preview:{distanceMarks:{showStartAndEndBoundary:!0,dashed:!0,colorForLines:["#ff7100","#FF3333"]},refRectBorder:{dashed:!0,colorForLines:"#1e98ea"},verboseAuxiliaryLines:!0,auxiliaryLines:{dashed:!0,colorForLines:["#1e98ea","#4257FF"]}}},P=function(e){
c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"shouldComponentUpdate",value:function(e){return!(Object(C.c)(e.baseRect,this.props.baseRect)&&Object(C.c)(e.refRect,this.props.refRect)&&Object(C.c)(e.screen,this.props.screen)&&e.theme===this.props.theme)}},{key:"render",value:function(){var e=this.props,t=e.baseRect,n=e.refRect,r=e.screen,i=e.theme,a=e.renderValue,o=e.isWonderShare,s=I[i].verboseAuxiliaryLines
return Object(d.jsxs)(N,{className:"distance-measurement-container",children:[Object(d.jsx)(k,{baseRect:t,refRect:n,screen:r,style:I[i].distanceMarks,renderValue:a,isWonderShare:o}),s?Object(d.jsx)(T,{refRect:n,screen:r,style:I[i].auxiliaryLines,isWonderShare:o}):Object(d.jsx)(A,{baseRect:t,refRect:n,screen:r,style:I[i].auxiliaryLines}),Object(d.jsx)(E,{refRect:n,screen:r,style:I[i].refRectBorder})]})}}]),n}(h.a.Component)
P.propTypes={baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,theme:m.a.string,renderValue:m.a.func,isWonderShare:m.a.bool}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return P}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(215),x=n(4),w=n.n(x),j=n(13),S=n.n(j),C=n(158),_=n(31),O=n(11),k=n.n(O),M=n(47),E=k.a.li.withConfig({displayName:"styles__StyledThumbnail",componentId:"sc-5y2qzq-0"
})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:90px;position:relative;margin-right:10px;margin-bottom:10px;cursor:pointer;.image-wrapper{width:100%;height:93px;padding:2px;background-color:",";border:",";border-radius:2px;display:flex;justify-content:center;align-items:center;transition:all 0.2s ease-out;img{max-width:100%;max-height:100%;pointer-events:none;}.actions{display:none;position:absolute;z-index:1;top:4px;right:4px;height:24px;justify-content:space-around;align-items:center;&.is-hover{display:flex;}}&:hover,&.hover{border-width:2px;border-color:",";padding:1px;.actions{display:flex;}}}.screen-name{height:26px;max-width:100%;line-height:26px;",";}&.select,&.active{.image-wrapper{border-width:1px;border:",";padding:2px;box-shadow:0 0 1px 0 rgba(34,162,237,0.66);}}&.select{.screen-name{color:inherit;}}&.active{.screen-name{color:",";}}&:not(.active):not(.select):hover .image-wrapper{border:",";}"],(function(e){
return e.theme.thumbnail.bg}),(function(e){return e.theme.thumbnail.imgWrap.border.cr}),(function(e){return e.theme.common.border.border_blue}),M.e,(function(e){return e.theme.thumbnail.imgWrap.border.active}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.thumbnail.imgWrap.border.hover})),T=n(30),A=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return i()(this,n),r=t.call(this,e),f()(c()(r),"setElementRef",(function(e){return r.$elem=e})),f()(c()(r),"updateIsVisible",(function(){r.setState({isVisible:r.isInBoundingClientRect()})})),f()(c()(r),"handleClick",(function(e){e.stopPropagation()
var t=r.props,n=t.screenMeta;(0,t.thumbnailActionProps.onClick)(e,n)})),f()(c()(r),"handleDown",(function(e){e.stopPropagation()
var t=r.props,n=t.screenMeta,i=t.thumbnailActionProps.onContextMenu
2===e.button&&i&&i(e,n)})),f()(c()(r),"onShowTipsByTarget",(function(e,t){var n=t.querySelector(".screen-name")
return n.offsetWidth<n.scrollWidth})),f()(c()(r),"handleHover",(function(e){r.setState({hoverCid:e})})),r.state={isVisible:!1,hoverCid:""},r}return o()(n,[{key:"componentDidMount",value:function(){this.props.containerRect&&this.updateIsVisible()}},{key:"componentDidUpdate",value:function(e,t){var n=this.isInBoundingClientRect()
if(!e.containerRect&&this.props.isActive&&!n){var r=this.$elem.getBoundingClientRect()
this.props.onScrollIntoView(r)}this.updateIsVisible()}},{key:"isInBoundingClientRect",value:function(){var e=this.props.containerRect
if(!e||!this.$elem)return!1
var t=this.$elem.getBoundingClientRect()
return t.bottom>e.top&&t.top<e.bottom}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.isEditing,r=e.isActive,i=e.isSelect,a=e.renderScreenMetaItem,o=a.renderItem,s=a.renderSpan,c=void 0===s?D:s,l=e.screenTimestampMap,u=e.designOptions,d=e.experienceSnapshotUrlMap,p=this.state,h=p.hoverCid,f=p.isVisible,g=t.cid,v=t.project_meta_cid,b=h===g,y=l[g],x=!u.isDesign&&d.get(g)
return Object(m.jsx)(_.b,{content:t.name,direction:"bottom",onMouseEvent:"onClick",isShowTipsByTarget:this.onShowTipsByTarget,children:Object(m.jsxs)(E,{className:S()("thumbnail-item",{active:r,select:i}),onClick:this.handleClick,onMouseDown:this.handleDown,children:[Object(m.jsxs)("div",{ref:this.setElementRef,className:S()("image-wrapper",{hover:b}),children:[o&&o(t,this.handleHover),x?Object(m.jsx)("img",{src:x}):Object(m.jsx)(C.a,w()({},{screenMetaCid:g,projectMetaCid:v,screenStateCid:T.a,isVisible:f,
cacheTag:y}))]}),c(t,n)]})})}}]),n}(b.PureComponent)
f()(A,"propTypes",{isSelect:v.a.bool,isActive:v.a.bool,isEditing:v.a.bool,screenMeta:v.a.object,containerRect:v.a.object,screenTimestampMap:v.a.object,thumbnailActionProps:v.a.object,designOptions:v.a.object,experienceSnapshotUrlMap:v.a.object,renderScreenMetaItem:v.a.object,onScrollIntoView:v.a.func}),f()(A,"defaultProps",{renderScreenMetaItem:{}})
var D=function(e){return Object(m.jsx)("span",{className:"screen-name",children:e.name})},N=n(29),I=k.a.div.withConfig({displayName:"styles__StyledThumbnailList",componentId:"sc-1pag365-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;.thumbnail-list{display:flex;flex-wrap:wrap;width:calc(100% + 15px);color:",";}"],(function(e){return e.theme.common.text_15.cr})),P=function(e){u()(n,e)
var t=p()(n)
function n(e){var r
return i()(this,n),r=t.call(this,e),f()(c()(r),"setContainerRef",(function(e){return r.$container=e})),f()(c()(r),"updateContainerRect",(function(){return r.setState({containerRect:r.$container.getBoundingClientRect()})})),f()(c()(r),"handleScroll",(function(){return r.updateContainerRect()})),f()(c()(r),"handleResize",(function(){return r.updateContainerRect()})),f()(c()(r),"handleScrollIntoView",(function(e){var t=r.state.containerRect
r.$container.scrollTop+=e.top-t.top})),r.state={containerRect:null},r}return o()(n,[{key:"componentDidMount",value:function(){this.updateContainerRect()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeScreenMetaCid,r=t.editingScreenMetaCid,i=t.screenMetaList,a=t.screenSelection,o=t.thumbnailActionProps,s=t.screenTimestampMap,c=t.designOptions,l=t.experienceSnapshotUrlMap,u=t.renderScreenMetaItem,d=this.state.containerRect
return Object(m.jsxs)(I,{ref:this.setContainerRef,onScroll:this.handleScroll,children:[Object(m.jsx)("ol",{className:"thumbnail-list",children:i.map((function(t){if(Object(N.a)(t))return null
var i=t.cid,p=i===r,h=i===n
return Object(m.jsx)(A,{screenMeta:t,isEditing:p,isActive:h,isSelect:a.includes(t.cid),containerRect:d,screenTimestampMap:s,experienceSnapshotUrlMap:l,designOptions:c,thumbnailActionProps:o,renderScreenMetaItem:u,onScrollIntoView:e.handleScrollIntoView},t.cid)}))}),Object(m.jsx)(y.a,{onResize:this.handleResize})]})}}]),n}(b.PureComponent)
f()(P,"propTypes",{screenMetaList:v.a.array,editingScreenMetaCid:v.a.string,activeScreenMetaCid:v.a.string,thumbnailActionProps:v.a.object,screenSelection:v.a.array,screenTimestampMap:v.a.object,designOptions:v.a.object,experienceSnapshotUrlMap:v.a.object,renderScreenMetaItem:v.a.object}),f()(P,"defaultProps",{screenTimestampMap:{},designOptions:{isDesign:!0},experienceSnapshotUrlMap:new Map,screenSelection:[]})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(11),x=n.n(y).a.div.withConfig({displayName:"styles__StyledScrollBar",componentId:"sc-104cnhq-0"
})(["position:absolute;top:",";left:",";right:0;bottom:0;z-index:4;pointer-events:none;.track{position:absolute;background:",";pointer-events:auto;.handler{position:absolute;cursor:pointer;.thumb{position:absolute;pointer-events:none;border-radius:4px;transition:background 0.2s ease-in-out;}}}.x-track{left:0;right:11px;bottom:0;height:12px;.handler{bottom:2px;height:10px;.thumb{bottom:0;width:100%;height:6px;background:",";}}}.y-track{top:0;bottom:11px;right:0;width:12px;.handler{right:2px;width:10px;.thumb{right:0;height:100%;width:6px;background:",";}}}.x-track .handler:hover .thumb{background:",";}.y-track .handler:hover .thumb{background:",";}"],"17px","17px",(function(e){
return e.theme.scrollbar.track.bg}),(function(e){return e.theme.scrollbar.thumb.x_bg}),(function(e){return e.theme.scrollbar.thumb.y_bg}),(function(e){return e.theme.scrollbar.thumb.x_hover_bg}),(function(e){return e.theme.scrollbar.thumb.y_hover_bg})),w=function(e){u()(n,e)
var t=p()(n)
function n(){var e
return i()(this,n),e=t.call(this),f()(c()(e),"handleScroll",(function(t){t.stopPropagation()
var n=t.target.dataset.axis,r=t.clientX,i=t.clientY,a=e.props,o=a.canvasOffset,s=o.x,c=o.y,l=a.viewportHeight,u=a.viewportWidth,d=a.canvasRange,p=a.onScroll,h="x"===n?u:l,f=function(e){var t=e.clientY,a=e.clientX,o="x"===n?a-r:t-i
o=o/(h-h/d[n]*h)*d[n],p("x"===n?{x:s-o,y:c}:{x:s,y:c-o})}
document.addEventListener("mousemove",f),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",e)}))})),f()(c()(e),"handleClickTrack",(function(t){var n=t.target.dataset.axis,r=t.clientX,i=t.clientY,a=e.props,o=a.onScroll,s=a.canvasRange,c=a.viewportHeight,l=a.viewportWidth,u=e.scrollbarX.getBoundingClientRect(),d=u.top,p=u.bottom,h=u.left,f=u.right,m="x"===n?e.scrollbarX:e.scrollbarY,g="x"===n?l:c,v=function(){
var t=m.getBoundingClientRect(),a=t.top,c=t.bottom,l=t.left,u=t.right,d=e.props.canvasOffset,p=d.x,h=d.y,f="x"===n?r>u:i>c,v="x"===n?r<l:i<a,b=(v?-1:f?1:0)*Math.min(s[n]/10,g);(f||v)&&o("x"===n?{x:p-b,y:h}:{x:p,y:h-b})};(("x"===n?r>f:i>p)||("x"===n?r<h:i<d))&&(m.style.transition="all 0.1s linear",v(),e.timer=setTimeout((function(){return e.timeInterval=setInterval(v,100)}),500))
document.addEventListener("mouseup",(function t(n){m.style.transition="",clearTimeout(e.timer),clearInterval(e.timeInterval),document.removeEventListener("mouseup",t)}))})),e.setRefY=function(t){return e.scrollbarY=t},e.setRefX=function(t){return e.scrollbarX=t},e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.canvasOffset,r=n.x,i=n.y,a=e.canvasRange,o=e.viewportWidth,s=e.viewportHeight,c=e.showRuler,l=o/a.x,u=(a.x/2-r)*(a.x-o)/(a.x*a.x)
u=Math.min(Math.max(u,0),(a.x-o)/a.x)
var d=s/a.y,p=(a.y/2-i)*(a.y-s)/(a.y*a.y)
p=Math.min(Math.max(p,0),(a.y-s)/a.y)
var h={width:"".concat(100*l,"%"),left:"".concat(100*u,"%")},f={height:"".concat(100*d,"%"),top:"".concat(100*p,"%")},g=c?null:{left:0},v=c?null:{top:0}
return Object(m.jsxs)(x,{className:t,children:[Object(m.jsx)("div",{"data-axis":"x",className:"track x-track",style:g,onMouseDown:this.handleClickTrack,children:Object(m.jsx)("div",{ref:this.setRefX,className:"handler","data-axis":"x",onMouseDown:this.handleScroll,style:h,children:Object(m.jsx)("div",{className:"thumb"})})}),Object(m.jsx)("div",{"data-axis":"y",className:"track y-track",style:v,onMouseDown:this.handleClickTrack,children:Object(m.jsx)("div",{ref:this.setRefY,className:"handler y-handler",
"data-axis":"y",onMouseDown:this.handleScroll,style:f,children:Object(m.jsx)("div",{className:"thumb"})})})]})}}]),n}(b.PureComponent)
f()(w,"propTypes",{className:v.a.string,canvasOffset:v.a.object,canvasRange:v.a.object,viewportWidth:v.a.number,viewportHeight:v.a.number,showRuler:v.a.bool,onScroll:v.a.func}),f()(w,"defaultProps",{showRuler:!1})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return C}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),h=n(2),f=n.n(h),m=n(0),g=n(1),v=n.n(g),b=n(5),y=n(11),x=n.n(y).a.div.withConfig({displayName:"styles__StyledImageExportCanvas",componentId:"sc-1skqwpp-0"})(["position:fixed;top:-2000px;left:-2000px;border:1px solid;pointer-events:none;"]),w=n(96),j=n(73),S=n(175),C=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
return e=t.call.apply(t,[this].concat(a)),f()(c()(e),"download",(function(t){var n=t.width,r=t.height,i=t.ro,a=t.cid,o=t.image_rect,s=o.ro,c=o.width,l=o.height,u=e.getWidgetBoundingRect(t),d=document.getElementById("imageCanvas-".concat(a))
d.width=u.width,d.height=u.height
var p=d.getContext("2d")
p.save()
var h=e.getWidgetTopLeftPoint(t),f=h.x-u.left,m=h.y-u.top
if("circular"!==t.clip_type){p.translate(f+n/2,m+r/2)
var g=i*Math.PI/180
p.rotate(g)
var v=Object(j.h)({widget:t,ratio:1,offset:{left:-n/2-u.left-f,top:-r/2-u.top-m}}).rectPath,b=new Path2D(v)
p.fill(b)}else p.beginPath(),p.arc(n/2,r/2,n/2,0,2*Math.PI),p.fill()
p.restore(),p.globalCompositeOperation="source-in"
var y=Object(j.i)(t)
p.globalAlpha=t.o/100,"transparent"!==y&&(p.save(),p.fillStyle=y,p.fillRect(0,0,u.width,u.height),p.restore(),p.globalCompositeOperation="source-atop")
var x=new Image,w=e.getImageOffset(t,u)
x.onload=function(){p.save(),"transparent"!==y&&(p.globalAlpha=1),p.translate(w.x+c/2,w.y+l/2)
var e=s*Math.PI/180
p.rotate(e),p.drawImage(x,-c/2,-l/2,c,l),p.restore()
var n="image/png",r=d.toDataURL(n),i=document.createElement("a")
i.download=t.display_name,i.href=r,i.dataset.downloadurl=[n,i.download,i.href].join(":"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},x.src=t.image,x.setAttribute("crossorigin","anonymous")})),f()(c()(e),"onExport",(function(){var t=e.props,n=t.exportImageList;(0,t.onCheck)()||n.forEach((function(t){e.download(t)}))})),f()(c()(e),"getWidgetTopLeftPoint",(function(e){return{x:e.left,y:e.top}})),f()(c()(e),"getImageOffset",(function(e,t){
var n=e.image_rect,r=n.center_x,i=n.center_y,a=n.width,o=i-n.height/2
return{x:r-a/2-t.left,y:o-t.top}})),f()(c()(e),"getWidgetBoundingRect",(function(e){var t=e.width,n=e.height,r={x:e.left+t/2,y:e.top+n/2}
return Object(w.b)(r.x,r.y,t,n,e.ro)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.exportImageList,n=e.isLogin,r=e.isMultiSelect
return 0===t.length?null:Object(m.jsxs)("div",{className:"svg-icon-export",children:[Object(m.jsx)(x,{children:t.map((function(e){var t=e.cid
return Object(m.jsx)("canvas",{id:"imageCanvas-".concat(t)},t)}))}),Object(m.jsx)(S.b,{}),Object(m.jsx)(S.a,{children:Object(m.jsx)("a",{onClick:this.onExport,children:n?r?I18N.ImageExport.download_selected_picture:I18N.ImageExport.download_current_picture:I18N.ImageExport.download_after_login})})]})}}]),n}(b.PureComponent)
f()(C,"propTypes",{isMultiSelect:v.a.bool,isLogin:v.a.bool,exportImageList:v.a.array,onCheck:v.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(7),i=n.n(r),a=n(6),o=n.n(a),s=n(8),c=n.n(s),l=n(9),u=n.n(l),d=n(2),p=n.n(d),h=n(0),f=n(1),m=n.n(f),g=n(5),v=n(14),b=n(31),y=n(11),x=n.n(y).a.div.withConfig({displayName:"styles__StyledFoldButton",componentId:"sc-6pp9zd-0"})(["display:flex;align-items:center;justify-content:center;font-size:14px;cursor:pointer;"]),w=function(e){c()(n,e)
var t=u()(n)
function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.hasFoldedScreen,r=e.onClick
return Object(h.jsx)(b.b,{content:n?I18N.ScreenList.expand_screens:I18N.ScreenList.collapse_screens,direction:"up",children:Object(h.jsx)(x,{className:t,onClick:r,children:Object(h.jsx)(v.a,{name:n?"design/expand":"design/fold"})})})}}]),n}(g.PureComponent)
p()(w,"propTypes",{className:m.a.string,hasFoldedScreen:m.a.bool,onClick:m.a.func})},,,,,,,,,,function(e,t,n){"use strict"
var r=n(462)
e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){"use strict"
e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0
return!1}},,,function(e,t,n){"use strict"
e.exports=function(e){var t=null==e?0:e.length
return t?e[t-1]:void 0}},,,,,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(247),i=n(280)
e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){"use strict"
e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(702),a=n(705),o=n(248),s=n(69),c=n(709)
e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==(0,r.default)(e)?s(e)?a(e[0],e[1]):i(e):c(e)}},function(e,t,n){"use strict"
var r=n(99)
e.exports=function(e){return e==e&&!r(e)}},function(e,t,n){"use strict"
e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){"use strict"
var r=n(713)
e.exports=function(e){var t=r(e),n=t%1
return t==t?n?t-n:t:0}},function(e,t,n){"use strict"
var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n))
return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]))
return t.join("")}}}
e.exports=r},,function(e,t,n){"use strict"
var r=n(694),i=n(699)((function(e,t,n){r(e,t,n)}))
e.exports=i},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(81).compose
t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"===(0,r.default)(arguments[0])?i:i.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict"
var r=n(530)
e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict"
e.exports=function(e){var t={begin:/([*]\s?)?(?:[A-Z_.\-\\]+|--[a-zA-Z0-9_-]+)\s*(\/\*\*\/)?:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{
className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]}
return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*"},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9_+()"'.-]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{
className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:/\{/,end:/\}/,illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,{begin:/;/},t]}]}}},function(e,t,n){"use strict"
e.exports=function(e){var t="([\\w-]+|@\\{[\\w-]+\\})",n=[],r=[],i=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},a=function(e,t,n){return{className:e,begin:t,relevance:n}},o={begin:"\\(",end:"\\)",contains:r,relevance:0}
r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,i("'"),i('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},a("number","#[0-9A-Fa-f]+\\b"),o,a("variable","@@?[\\w-]+",10),a("variable","@\\{[\\w-]+\\}"),a("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},{className:"meta",begin:"!important"})
var s=r.concat({begin:/\{/,end:/\}/,contains:n}),c={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(r)},l={begin:t+"\\s*:",returnBegin:!0,end:"[;}]",relevance:0,contains:[{className:"attribute",begin:t,end:":",excludeEnd:!0,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:r}}]},u={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",returnEnd:!0,contains:r,
relevance:0}},d={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:s}},p={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:t,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c,a("keyword","all\\b"),a("variable","@\\{[\\w-]+\\}"),a("selector-tag",t+"%?",0),a("selector-id","#"+t),a("selector-class","\\."+t,0),a("selector-tag","&",0),{
className:"selector-attr",begin:"\\[",end:"\\]"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9_\-+()"'.]+/},{begin:"\\(",end:"\\)",contains:s},{begin:"!important"}]}
return n.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u,d,l,p),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:n}}},function(e,t,n){"use strict"
e.exports=function(e){var t={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},n={className:"number",begin:"#[0-9A-Fa-f]+"}
return e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"selector-attr",begin:"\\[",end:"\\]",illegal:"$"},{className:"selector-tag",
begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",
relevance:0},{className:"selector-pseudo",begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{className:"selector-pseudo",
begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{className:"attribute",
begin:"\\b(src|z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",
illegal:"[^\\s]"},{
begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"
},{begin:":",end:";",contains:[t,n,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"meta",begin:"!important"}]},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:"and or not only",contains:[{begin:"@[a-z-]+",className:"keyword"},t,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n,e.CSS_NUMBER_MODE]}]}}},function(e,t,n){"use strict"
e.exports=function(e){var t={className:"variable",begin:"\\$"+e.IDENT_RE},n={className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"}
return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,])",className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,])",className:"selector-id"},{
begin:"\\b("+["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"].join("|")+")(?=[.\\s\\n[:,])",
className:"selector-tag"},{begin:"&?:?:\\b("+["after","before","first-letter","first-line","active","first-child","focus","hover","lang","link","visited"].join("|")+")(?=[.\\s\\n[:,])"},{begin:"@("+["charset","css","debug","extend","font-face","for","import","include","media","mixin","page","warn","while"].join("|")+")\\b"},t,e.CSS_NUMBER_MODE,e.NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",
begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[n,t,e.APOS_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.QUOTE_STRING_MODE]}]},{className:"attribute",
begin:"\\b("+["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-ligatures","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse().join("|")+")\\b",
starts:{end:/;|$/,contains:[n,t,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.C_BLOCK_COMMENT_MODE],illegal:/\./,relevance:0}}]}}},function(e,t,n){"use strict"
e.exports=function(e){var t={$pattern:/[\w#]+/,
keyword:"#available #colorLiteral #column #else #elseif #endif #file #fileLiteral #function #if #imageLiteral #line #selector #sourceLocation _ __COLUMN__ __FILE__ __FUNCTION__ __LINE__ Any as as! as? associatedtype associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set some static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",
literal:"true false nil",
built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c compactMap contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"
},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r={className:"subst",begin:/\\\(/,end:"\\)",keywords:t,contains:[]},i={className:"string",contains:[e.BACKSLASH_ESCAPE,r],variants:[{begin:/"""/,end:/"""/},{begin:/"/,end:/"/}]},a={className:"number",relevance:0,variants:[{begin:"\\b(".concat("([0-9]_*)+",")(\\.(").concat("([0-9]_*)+","))?")+"([eE][+-]?(".concat("([0-9]_*)+","))?\\b")},{
begin:"\\b0x(".concat("([0-9a-fA-F]_*)+",")(\\.(").concat("([0-9a-fA-F]_*)+","))?")+"([pP][+-]?(".concat("([0-9]_*)+","))?\\b")},{begin:/\b0o([0-7]_*)+\b/},{begin:/\b0b([01]_*)+\b/}]}
return r.contains=[a],{name:"Swift",keywords:t,contains:[i,e.C_LINE_COMMENT_MODE,n,{className:"type",begin:"\\b[A-Z][\\wÀ-ʸ']*[!?]"},{className:"type",begin:"\\b[A-Z][\\wÀ-ʸ']*",relevance:0},a,{className:"function",beginKeywords:"func",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{begin:/</,end:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,contains:["self",a,i,e.C_BLOCK_COMMENT_MODE,{begin:":"}],illegal:/["']/}],illegal:/\[|%/},{
className:"class",beginKeywords:"struct protocol class extension enum",keywords:t,end:"\\{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{className:"meta",
begin:"(@discardableResult|@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@objcMembers|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain|@dynamicMemberLookup|@propertyWrapper|@main)\\b"},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,n],relevance:0}]}}},function(e,t,n){"use strict"
function r(e){return e?"string"==typeof e?e:e.source:null}function i(e){return a("(?=",e,")")}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var i=t.map((function(e){return r(e)})).join("")
return i}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var i="("+t.map((function(e){return r(e)})).join("|")+")"
return i}e.exports=function(e){var t=a(/[A-Z_]/,a("(",/[A-Z0-9_.-]+:/,")?"),/[A-Z0-9_.-]*/),n={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},r={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},s=e.inherit(r,{begin:"\\(",end:"\\)"}),c=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",
relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]}
return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[r,l,c,s,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[r,s,l,c]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<!\\[CDATA\\[",end:"\\]\\]>",relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",
keywords:{name:"style"},contains:[u],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:a(/</,i(a(t,o(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:u}]},{className:"tag",begin:a(/<\//,i(a(t,/>/))),contains:[{className:"name",
begin:t,relevance:0},{begin:/>/,relevance:0}]}]}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(4)),a=r(n(7)),o=r(n(6)),s=r(n(3)),c=r(n(8)),l=r(n(9)),u=r(n(2)),d=n(0),p=n(5),h=r(n(1)),f=r(n(37)),m=r(n(59)),g=n(35),v=function(e){return/^@/.test(e)||/@\./.test(e)||/\s+[\w@]/.test(e)||/@\w*\.\w*/.test(e)||/@\w*@/.test(e)},b=function(e){(0,c.default)(n,e)
var t=(0,l.default)(n)
function n(){var e;(0,a.default)(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),(0,u.default)((0,s.default)(e),"state",{prevProps:e.props,value:e.props.value,isActive:!1,isValid:!0,isFinishedTyping:v(e.props.value)}),(0,u.default)((0,s.default)(e),"onChange",(function(t){var n=t.target.value
e.setState({value:n,isFinishedTyping:v(n)},(function(){var r=e.props.onChange
e.checkValidity(),r(n.trim(),t)}))})),(0,u.default)((0,s.default)(e),"checkValidity",(function(){var t=e.state,n=t.value,r=t.isFinishedTyping,i=""===n||!r||g.EMAIL_REGEX.test(n)
e.setState({isValid:i})})),(0,u.default)((0,s.default)(e),"setActive",(function(){return e.setState({isActive:!0})})),(0,u.default)((0,s.default)(e),"setInactive",(function(){return e.setState({isActive:!1})})),(0,u.default)((0,s.default)(e),"onClickOutside",(function(t){t.target.closest("label")||e.setInactive()})),e}return(0,o.default)(n,[{key:"render",value:function(){
var e=this.props,t=e.className,n=e.size,r=e.theme,a=e.unstyled,o=e.readOnly,s=e.placeholder,c=e.onFocus,l=this.state,u=l.value,p=l.isActive,h=l.isValid,m=this.props.isDisabled||this.props.disabled,v=(0,g.trimList)(["core"===r?"CoreInput CoreInputEmail":"Input InputEmail",n,a&&"unstyled",t,p&&!m&&!o&&"is-active",m&&"is-disabled",o&&"is-readonly",h?"is-valid":"isnt-valid"])
return(0,d.jsxs)("label",{className:v,onMouseDown:this.setActive,children:[(0,d.jsx)("input",(0,i.default)({type:"email",value:u,placeholder:s,disabled:m,readOnly:o,onChange:this.onChange,onFocus:c},(0,g.getOtherProps)(this.constructor,this.props))),p&&(0,d.jsx)(f.default,{target:document,onClick:this.onClickOutside})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,m.default)(n,e)?null:{prevProps:e,value:e.value}}}]),n}(p.PureComponent);(0,u.default)(b,"propTypes",{size:h.default.oneOf(["regular","small"]),theme:h.default.oneOf(["core","plain"]),unstyled:h.default.bool,value:h.default.oneOfType([h.default.string,h.default.number]),placeholder:h.default.oneOfType([h.default.string,h.default.number]),isDisabled:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onChange:h.default.func.isRequired,onFocus:h.default.func,className:h.default.string}),
(0,u.default)(b,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",placeholder:"",isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null}})
var y=b
t.default=y},,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(282)),a=r(n(156)),o=r(n(136)),s=(r(n(1)),r(n(419))),c=r(n(421)),l=r(n(5)),u=r(n(225)),d=(n(299),function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,c.default)(e,t)}))}),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]
t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter"
t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter"
t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0]
t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0]
t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0]
t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e]
return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,o.default)(t,e)
var n=t.prototype
return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName
"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done
this.appliedClasses[t]={},r&&d(e,r),i&&d(e,i),a&&d(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,a.default)(e,["classNames"]))
return l.default.createElement(u.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.default.Component)
p.defaultProps={classNames:""},p.propTypes={}
var h=p
t.default=h},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}
var i=r(n(420))},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}},function(e,t,n){"use strict"
function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(156)),a=r(n(136)),o=(r(n(1)),r(n(5))),s=r(n(36)),c=r(n(300)),l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExited",1,n)},t}(0,a.default)(t,e)
var n=t.prototype
return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,a=o.default.Children.toArray(i)[t]
if(a.props[e]&&(r=a.props)[e].apply(r,n),this.props[e]){var c=a.props.nodeRef?void 0:s.default.findDOMNode(this)
this.props[e](c)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=(0,i.default)(e,["children","in"]),a=o.default.Children.toArray(t),s=a[0],l=a[1]
return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,o.default.createElement(c.default,r,n?o.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):o.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(o.default.Component)
l.propTypes={}
var u=l
t.default=u},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),c=a(t,s)
return Object.keys(c).forEach((function(i){var a=c[i]
if((0,r.isValidElement)(a)){var l=i in t,u=i in s,d=t[i],p=(0,r.isValidElement)(d)&&!d.props.in
!u||l&&!p?u||!l||p?u&&l&&(0,r.isValidElement)(d)&&(c[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):c[i]=(0,r.cloneElement)(a,{in:!1}):c[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),c}
var r=n(5)
function i(e,t){var n=Object.create(null)
return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{}
var r,i=Object.create(null),a=[]
for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o)
var s={}
for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r]
s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r])
return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.modes=void 0
var i,a,o=r(n(136)),s=r(n(5)),c=(r(n(1)),n(225)),l=r(n(226))
var u={out:"out-in",in:"in-out"}
t.modes=u
var d=function(e,t,n){return function(){var r
e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},p=((i={})[u.out]=function(e){var t=e.current,n=e.changeState
return s.default.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(c.ENTERING,null)}))})},i[u.in]=function(e){var t=e.current,n=e.changeState,r=e.children
return[t,s.default.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(c.ENTERING)}))})]},i),h=((a={})[u.out]=function(e){var t=e.children,n=e.changeState
return s.default.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(c.ENTERED,s.default.cloneElement(t,{in:!0}))}))})},a[u.in]=function(e){var t=e.current,n=e.children,r=e.changeState
return[s.default.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(c.ENTERED,s.default.cloneElement(n,{in:!0}))}))}),s.default.cloneElement(n,{in:!0})]},a),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).state={status:c.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,o.default)(t,e)
var n=t.prototype
return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===c.ENTERING&&e.mode===u.in?{status:c.ENTERING}:!t.current||(n=t.current,r=e.children,n===r||s.default.isValidElement(n)&&s.default.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:s.default.cloneElement(e.children,{in:!0})}:{status:c.EXITING}
var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,a=i.status,o=i.current,u={children:n,current:o,changeState:this.changeState,status:a}
switch(a){case c.ENTERING:e=h[r](u)
break
case c.EXITING:e=p[r](u)
break
case c.ENTERED:e=o}return s.default.createElement(l.default.Provider,{value:{isMounting:!this.appeared}},e)},t}(s.default.Component)
f.propTypes={},f.defaultProps={mode:u.out}
var m=f
t.default=m},,function(e,t,n){!function(t){var n,r={},i={16:!1,18:!1,17:!1,91:!1},a="all",o={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98
},c=function(e){return s[e]||e.toUpperCase().charCodeAt(0)},l=[]
for(n=1;n<20;n++)s["f"+n]=111+n
function u(e,t){for(var n=e.length;n--;)if(e[n]===t)return n
return-1}function d(e,t){if(e.length!=t.length)return!1
for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1
return!0}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"}
function h(e){for(n in i)i[n]=e[p[n]]}function f(e,t,n){var i,a
i=g(e),void 0===n&&(n=t,t="all")
for(var o=0;o<i.length;o++)a=[],(e=i[o].split("+")).length>1&&(a=v(e),e=[e[e.length-1]]),e=e[0],(e=c(e))in r||(r[e]=[]),r[e].push({shortcut:i[o],scope:t,method:n,key:i[o],mods:a})}for(n in o)f[n]=!1
function m(){return a||"all"}function g(e){var t
return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function v(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=o[t[n]]
return t}function b(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}b(document,"keydown",(function(e){!function(e){var t,n,a,s,c,d
if(t=e.keyCode,-1==u(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in i)for(a in i[t]=!0,o)o[a]==t&&(f[a]=!0)
else if(h(e),f.filter.call(this,e)&&t in r)for(d=m(),s=0;s<r[t].length;s++)if((n=r[t][s]).scope==d||"all"==n.scope){for(a in c=n.mods.length>0,i)(!i[a]&&u(n.mods,+a)>-1||i[a]&&-1==u(n.mods,+a))&&(c=!1);(0!=n.mods.length||i[16]||i[18]||i[17]||i[91])&&!c||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),b(document,"keyup",(function(e){var t,n=e.keyCode,r=u(l,n)
if(r>=0&&l.splice(r,1),93!=n&&224!=n||(n=91),n in i)for(t in i[n]=!1,o)o[t]==n&&(f[t]=!1)})),b(window,"focus",(function(){for(n in i)i[n]=!1
for(n in o)f[n]=!1}))
var y=t.key
t.key=f,t.key.setScope=function(e){a=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,n,i
for(t in r)for(n=r[t],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName
return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=c(e)),-1!=u(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key
return t.key=y,e},t.key.unbind=function(e,t){var n,i,a,o,s,l=[]
for(n=g(e),o=0;o<n.length;o++){if((i=n[o].split("+")).length>1&&(l=v(i)),e=i[i.length-1],e=c(e),void 0===t&&(t=m()),!r[e])return
for(a=0;a<r[e].length;a++)(s=r[e][a]).scope===t&&d(s.mods,l)&&(r[e][a]={})}},e.exports=f}(window)},function(e,t,n){"use strict"
var r=n(428),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[]
return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}))
e.exports=o},function(e,t,n){"use strict"
var r=n(429)
e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache
return t}},function(e,t,n){"use strict"
var r=n(525)
function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function")
var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache
if(a.has(i))return a.get(i)
var o=e.apply(this,r)
return n.cache=a.set(i,o)||a,o}
return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){"use strict"
var r=n(222),i=n(208),a=n(69),o=n(188),s=r?r.prototype:void 0,c=s?s.toString:void 0
e.exports=function e(t){if("string"==typeof t)return t
if(a(t))return i(t,e)+""
if(o(t))return c?c.call(t):""
var n=t+""
return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict"
var r=n(208),i=n(432),a=n(450),o=n(187),s=n(125),c=n(453),l=n(454),u=n(304),d=l((function(e,t){var n={}
if(null==e)return n
var l=!1
t=r(t,(function(t){return t=o(t,e),l||(l=t.length>1),t})),s(e,u(e),n),l&&(n=i(n,7,c))
for(var d=t.length;d--;)a(n,t[d])
return n}))
e.exports=d},function(e,t,n){"use strict"
var r=n(296),i=n(433),a=n(301),o=n(434),s=n(435),c=n(343),l=n(344),u=n(438),d=n(439),p=n(543),h=n(304),f=n(266),m=n(440),g=n(441),v=n(346),b=n(69),y=n(367),x=n(446),w=n(99),j=n(448),S=n(223),C=n(157),_={}
_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,
_["[object Error]"]=_["[object Function]"]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,O,k,M,E){var T,A=1&n,D=2&n,N=4&n
if(O&&(T=M?O(t,k,M,E):O(t)),void 0!==T)return T
if(!w(t))return t
var I=b(t)
if(I){if(T=m(t),!A)return l(t,T)}else{var P=f(t),L="[object Function]"==P||"[object GeneratorFunction]"==P
if(y(t))return c(t,A)
if("[object Object]"==P||"[object Arguments]"==P||L&&!M){if(T=D||L?{}:v(t),!A)return D?d(t,s(T,t)):u(t,o(T,t))}else{if(!_[P])return M?t:{}
T=g(t,P,A)}}E||(E=new r)
var F=E.get(t)
if(F)return F
E.set(t,T),j(t)?t.forEach((function(r){T.add(e(r,n,O,r,t,E))})):x(t)&&t.forEach((function(r,i){T.set(i,e(r,n,O,i,t,E))}))
var B=I?void 0:(N?D?h:p:D?C:S)(t)
return i(B||t,(function(r,i){B&&(r=t[i=r]),a(T,i,e(r,n,O,i,t,E))})),T}},function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict"
var r=n(125),i=n(223)
e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){"use strict"
var r=n(125),i=n(157)
e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){"use strict"
var r=n(99),i=n(369),a=n(437),o=Object.prototype.hasOwnProperty
e.exports=function(e){if(!r(e))return a(e)
var t=i(e),n=[]
for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s)
return n}},function(e,t,n){"use strict"
e.exports=function(e){var t=[]
if(null!=e)for(var n in Object(e))t.push(n)
return t}},function(e,t,n){"use strict"
var r=n(125),i=n(366)
e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){"use strict"
var r=n(125),i=n(303)
e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){"use strict"
var r=Object.prototype.hasOwnProperty
e.exports=function(e){var t=e.length,n=new e.constructor(t)
return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,n){"use strict"
var r=n(228),i=n(442),a=n(443),o=n(444),s=n(345)
e.exports=function(e,t,n){var c=e.constructor
switch(t){case"[object ArrayBuffer]":return r(e)
case"[object Boolean]":case"[object Date]":return new c(+e)
case"[object DataView]":return i(e,n)
case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n)
case"[object Map]":return new c
case"[object Number]":case"[object String]":return new c(e)
case"[object RegExp]":return a(e)
case"[object Set]":return new c
case"[object Symbol]":return o(e)}}},function(e,t,n){"use strict"
var r=n(228)
e.exports=function(e,t){var n=t?r(e.buffer):e.buffer
return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t,n){"use strict"
var r=/\w*$/
e.exports=function(e){var t=new e.constructor(e.source,r.exec(e))
return t.lastIndex=e.lastIndex,t}},function(e,t,n){"use strict"
var r=n(222),i=r?r.prototype:void 0,a=i?i.valueOf:void 0
e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){"use strict"
var r=n(99),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{}
if(i)return i(t)
e.prototype=t
var n=new e
return e.prototype=void 0,n}}()
e.exports=a},function(e,t,n){"use strict"
var r=n(447),i=n(281),a=n(368),o=a&&a.isMap,s=o?i(o):r
e.exports=s},function(e,t,n){"use strict"
var r=n(266),i=n(109)
e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){"use strict"
var r=n(449),i=n(281),a=n(368),o=a&&a.isSet,s=o?i(o):r
e.exports=s},function(e,t,n){"use strict"
var r=n(266),i=n(109)
e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict"
var r=n(187),i=n(374),a=n(451),o=n(164)
e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},function(e,t,n){"use strict"
var r=n(245),i=n(452)
e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){"use strict"
e.exports=function(e,t,n){var r=-1,i=e.length
t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0
for(var a=Array(i);++r<i;)a[r]=e[r+t]
return a}},function(e,t,n){"use strict"
var r=n(246)
e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){"use strict"
var r=n(455),i=n(305),a=n(306)
e.exports=function(e){return a(i(e,void 0,r),e+"")}},function(e,t,n){"use strict"
var r=n(347)
e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){"use strict"
var r=n(222),i=n(297),a=n(69),o=r?r.isConcatSpreadable:void 0
e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},function(e,t,n){"use strict"
e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t)
case 1:return e.call(t,n[0])
case 2:return e.call(t,n[0],n[1])
case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){"use strict"
var r=n(459),i=n(302),a=n(248),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a
e.exports=o},function(e,t,n){"use strict"
e.exports=function(e){return function(){return e}}},function(e,t,n){"use strict"
var r=Date.now
e.exports=function(e){var t=0,n=0
return function(){var i=r(),a=16-(i-n)
if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0
return e.apply(void 0,arguments)}}},,function(e,t,n){"use strict"
var r=n(348),i=n(463),a=n(464)
e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},function(e,t,n){"use strict"
e.exports=function(e){return e!=e}},function(e,t,n){"use strict"
e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r
return-1}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.createEventEmitter=t.createEventTarget=t.createHub=void 0
t.createHub=function(){var e=new Set
return{clear:function(){return e.clear()},subscribe:function(t){e.add(t)},unsubscribe:function(t){e.delete(t)},send:function(t){return e.forEach((function(e){return e(t)}))}}}
var r=function(){var e=new Map
return{setMap:e,clear:function(){return e.clear()},on:function(t,n){var r=e.get(t)
r?r.add(n):e.set(t,new Set([n]))},off:function(t,n){var r=e.get(t)
r&&r.delete(n),r&&0===r.size&&e.delete(t)}}}
t.createEventTarget=function(){var e=r(),t=e.setMap
return{clear:e.clear,dispatchEvent:function(e){var n=t.get(e.type)
n&&n.forEach((function(t){return t(e)}))},addEventListener:e.on,removeEventListener:e.off}}
t.createEventEmitter=function(){var e=r(),t=e.setMap,n=e.clear,i=e.on,a=e.off
return{clear:n,emit:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i]
var a=t.get(e)
a&&a.forEach((function(e){return e.apply(void 0,r)}))},on:i,off:a,addListener:i,removeListener:a,removeAllListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
n.length?n.forEach((function(e){return t.delete(e)})):t.clear()}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createDummyAutoSaver=void 0
var i=r(n(10)),a=r(n(15)),o=n(177),s=n(229)
t.createDummyAutoSaver=function(e){var t=e.name,n=void 0===t?"saver:dummy":t,r=e.onSaverError,c=e.beforeSave,l=e.afterSave,u=e.autoSaveDelay
console.warn("!!! using DummyAutoSaver !!!")
var d,p=[],h=(0,s.createSaver)({name:n,doSave:(d=(0,a.default)(i.default.mark((function e(t){var n
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p,p=[],console.log("[Dummy|doSave] drop ".concat(n.length," and wait 1000ms")),t({dummy:"start",savingQueue:n}),e.next=6,(0,o.setTimeoutAsync)(1e3)
case 6:t({dummy:"end",savingQueue:n}),console.log("[Dummy|doSave] wait end"),0===p.length&&w()
case 9:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),onSaverError:r,beforeSave:c,afterSave:l,autoSaveDelay:u}),f=h.getIsSaving,m=h.getSavingState,g=h.getSavingPromise,v=h.getIsActive,b=h.getAutoSaveDelay,y=h.setAutoSaveDelay,x=h.startTimer,w=h.stopTimer,j=h.triggerSave
return{name:n,getState:function(){return{name:n,isActive:v(),isEmpty:0===p.length&&!f(),isSaving:f(),pendingLength:p.length,savingState:m(),autoSaveDelay:b()}},getSavingPromise:g,afterCurrentSave:function(e){return g().then(e)},setAutoSaveDelay:y,startTimer:x,stopTimer:w,triggerSave:j,add:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
console.log("[Dummy|add]",t),p.push(t),x()}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironment=t.getGlobal=void 0
var n,r,i=function(){return void 0!==n?n:n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0}
t.getGlobal=i
t.getEnvironment=function(){if(void 0===r){var e=i(),t=e.process,n=e.window,a=e.document,o=void 0!==t&&void 0!==t.versions&&t.versions.node,s=void 0!==n&&void 0!==a
r={isNode:o,isBrowser:s,environmentName:o?"node":s?"browser":"unknown"}}return r}}).call(this,n(195))},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createRailsFetchAutoSaver=void 0
var i=r(n(22)),a=r(n(10)),o=r(n(15)),s=n(165),c=n(229),l=n(310),u=window.fetch
t.createRailsFetchAutoSaver=function(e){var t=e.urlRailsFetchBatchSave,n=e.onSaveChunkErrorAsync,r=e.name,d=void 0===r?"saver:rails-fetch":r,p=e.onSaverError,h=e.beforeSave,f=e.afterSave,m=e.autoSaveDelay
if(!t)throw new Error("expect urlRailsFetchBatchSave")
if(!n)throw new Error("expect onSaveChunkErrorAsync()")
var g,v,b=(0,l.createSaveChunkWithRetry)({type:"save:rails-fetch",saveChunkAsync:(g=(0,o.default)(a.default.mark((function e(n,r){var i,o,s
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{method:"POST",body:JSON.stringify(n),credentials:"same-origin"})
case 2:if((i=e.sent).ok){e.next=6
break}throw o=r.attempt,s=r.timeout,Object.assign(new Error("[save:rails-fetch] status error (".concat(o,"/").concat(s,")")),{status:i.status})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),onSaveChunkErrorAsync:n,describeData:function(e){var t=(0,i.default)(e,3),n=t[0],r=t[1],a=t[2]
return"[".concat(r,"|").concat(n,"] ").concat(a.cid)}}),y=[],x=(0,c.createSaver)({name:d,doSave:(v=(0,o.default)(a.default.mark((function e(t){var n,r
return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y,y=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=[]
return e.forEach((function(e){var r=(0,i.default)(e,3),a=r[1],o=r[2],s="".concat(a,"|").concat(o.cid)
void 0===t[s]&&(t[s]=n.length),n[t[s]]=e})),n}(n),e.next=5,b({chunkList:(0,s.arraySplitChunk)(r,64),dataIndexMax:r.length,setSavingState:t})
case 5:0===y.length&&M()
case 6:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)}),onSaverError:p,beforeSave:h,afterSave:f,autoSaveDelay:m}),w=x.getIsSaving,j=x.getSavingState,S=x.getSavingPromise,C=x.getIsActive,_=x.getAutoSaveDelay,O=x.setAutoSaveDelay,k=x.startTimer,M=x.stopTimer,E=x.triggerSave
return{name:d,getState:function(){return{name:d,isActive:C(),isEmpty:0===y.length&&!w(),isSaving:w(),pendingLength:y.length,savingState:j(),autoSaveDelay:_()}},getSavingPromise:S,afterCurrentSave:function(e){return S().then(e)},setAutoSaveDelay:O,startTimer:k,stopTimer:M,triggerSave:E,add:function(e,t,n){y.push([e,t,n]),k()}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createProjectExchangeAutoSaver=void 0
var i=r(n(10)),a=r(n(15)),o=n(165),s=n(229),c=n(310)
t.createProjectExchangeAutoSaver=function(e){var t=e.projectExchange,n=e.socketStore,r=e.getFromUser,l=e.onSaveChunkErrorAsync,u=e.name,d=void 0===u?"saver:project-exchange":u,p=e.onSaverError,h=e.beforeSave,f=e.afterSave,m=e.autoSaveDelay
if(!t)throw new Error("expect projectExchange")
if(!n)throw new Error("expect socketStore")
if(!r)throw new Error("expect getFromUser()")
if(!l)throw new Error("expect onSaveChunkErrorAsync()")
var g,v,b,y=(0,c.createSaveChunkWithRetry)({type:"save:socket:json-save-queue",saveChunkAsync:(g=(0,a.default)(i.default.mark((function e(t,a){var o,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t[0].projectMetaCid,s=r()){e.next=4
break}throw new Error("expect fromUser")
case 4:return e.next=6,n.requestProjectMetaJsonSaveQueue({jsonSaveQueue:t,projectMetaCid:o,fromUser:s})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),onSaveChunkErrorAsync:l,describeData:function(e){var t=e.projectMetaCid,n=e.data
return"[save:socket:json-save-queue|".concat(t,"] size: ").concat(n?n.length:0)}}),x=(0,c.createSaveChunkWithRetry)({type:"save:socket:buffer-save-queue",saveChunkAsync:(v=(0,a.default)(i.default.mark((function e(t,a){var o,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t[0].projectMetaCid,s=r()){e.next=4
break}throw new Error("expect fromUser")
case 4:return e.next=6,n.requestProjectMetaBufferSaveQueue({bufferSaveQueue:t,projectMetaCid:o,fromUser:s})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),onSaveChunkErrorAsync:l,describeData:function(e){var t=e.projectMetaCid,n=e.data
return"[save:socket:buffer-save-queue|".concat(t,"] size: ").concat(n?n.length:0)}}),w=(0,s.createSaver)({name:d,doSave:(b=(0,a.default)(i.default.mark((function e(n){var r,a,s,c,l
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateSaveQueueAsync()
case 2:return r=e.sent,a=r.jsonSaveQueue,s=r.bufferSaveQueue,c=r.applyServer,l=a.length+s.length,e.next=9,y({chunkList:(0,o.arraySplitChunk)(a,1),dataIndexMax:a.length,saveQueueLength:l,setSavingState:n})
case 9:return e.next=11,x({chunkList:(0,o.arraySplitChunk)(s,1),dataIndexMax:s.length,saveQueueLength:l,setSavingState:n})
case 11:c()
case 12:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)}),onSaverError:p,beforeSave:h,afterSave:f,autoSaveDelay:m}),j=w.getIsSaving,S=w.getSavingState,C=w.getSavingPromise,_=w.getIsActive,O=w.getAutoSaveDelay,k=w.setAutoSaveDelay,M=w.startTimer,E=w.stopTimer,T=w.triggerSave
return{name:d,getState:function(){var e=t.hasSaveQueue()
return{name:d,isActive:_(),isEmpty:!e&&!j(),isSaving:j(),pendingLength:e?t.countSaveQueue():0,savingState:S(),autoSaveDelay:O()}},getSavingPromise:C,afterCurrentSave:function(e){return C().then(e)},setAutoSaveDelay:k,startTimer:M,stopTimer:E,triggerSave:T,add:function(){throw new Error("[ProjectExchange] unexpected add")}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyJsonDataDumpPatchMutate=t.walkJsonDataChangeMap=t.createJsonDataStore=t.createJsonDataReducerMap=void 0
var i=r(n(22)),a=r(n(26)),o=r(n(24)),s=r(n(2)),c=n(268),l=n(132),u=n(686),d=n(283)
t.createJsonDataReducerMap=function(e){var t=function(e,t){return function(n){return(n=t(n)).mtime=(0,l.roundTimestamp)(e()),n}}
return{"json-v3:project-meta:delete":function(){},"json-v3:project-meta:update":function(n,r,i){var a=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryProjectMeta
return t(e,r)}(i)(a)},"json-v3:screen-glue:delete":function(){},"json-v3:screen-glue:update":function(n,r,i){var a=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryScreenGlue
return t(e,r)}(i)(a)},"json-v3:screen-meta:delete":function(){},"json-v3:screen-meta:update":function(n,r,i){var a=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryScreenMeta
return t(e,r)}(i)(a)}}}
t.createJsonDataStore=function(e){var t=e.dataName,n=void 0===t?"":t,r=e.onLocalDataDelete,i=void 0===r?function(e){}:r,l=e.onServerDataDelete,d=void 0===l?function(e){}:l,p=e.JSON_DATA_REDUCER_MAP,h=new Map,f=new Map,m=function(e){var t=h.get(e)
if(void 0!==t)return h.delete(e),i(t),(0,s.default)({},e,[void 0,t])},g=function(e){var t,n=!1,r={},a=(0,o.default)(h.values())
try{for(a.s();!(t=a.n()).done;){var s=t.value
e(s)||(h.delete(s.cid),i(s),n=!0,r[s.cid]=[void 0,s])}}catch(e){a.e(e)}finally{a.f()}return n?r:void 0},v=function(){for(var e=!1,t={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
for(var a=0,o=r;a<o.length;a++){var s=o[a],c=s.cid,l=h.get(c)
l!==s&&(h.set(c,s),e=!0,t[c]=[s,l])}return e?t:void 0},b=function(e){var t,n=!1,r={},a=new Set(h.keys()),s=(0,o.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value,l=c.cid,u=h.get(l)
a.delete(l),c!==u&&(h.set(l,c),n=!0,r[l]=[c,u])}}catch(e){s.e(e)}finally{s.f()}var d,p=(0,o.default)(a)
try{for(p.s();!(d=p.n()).done;){var f=d.value,m=h.get(f)
h.delete(f),i(m),n=!0,r[f]=[void 0,m]}}catch(e){p.e(e)}finally{p.f()}return n?r:void 0},y=function(){return(0,u.hasPatch)(new Map(h),(0,a.default)(f.values()))},x=function(){var e,t=(0,u.generatePatch)(new Map(h),(0,a.default)(f.values())),n=t.deleteList,r=t.updateList,i=[],s=(0,o.default)(h.keys())
try{for(s.s();!(e=s.n()).done;){var c=e.value
!f.has(c)&&i.push(c)}}catch(e){s.e(e)}finally{s.f()}return n.length||r.length?{deleteList:n,updateList:r,createCidList:i}:void 0}
return{dataName:n,hasLocal:function(e){return h.has(e)},hasServer:function(e){return f.has(e)},getLocal:function(e){return h.get(e)},getLocalList:function(){return(0,a.default)(h.values())},getLocalCidList:function(){return(0,a.default)(h.keys())},filterMapLocalList:function(e){var t,n=[],r=(0,o.default)(h.values())
try{for(r.s();!(t=r.n()).done;){var i=e(t.value)
i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n},unloadLocalByCid:m,unloadLocalWithFilter:g,unloadServerByCid:function(e){var t=f.get(e)
return void 0!==t&&(f.delete(e),d(t)),m(e)},unloadServerWithFilter:function(e){var t,n=(0,o.default)(f.values())
try{for(n.s();!(t=n.n()).done;){var r=t.value
e(r)||(f.delete(r.cid),d(r))}}catch(e){n.e(e)}finally{n.f()}return g(e)},loadLocal:v,loadServer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
for(var r=0,i=t;r<i.length;r++){var a=i[r]
f.set(a.cid,a)}return v.apply(void 0,t)},generateLocalDump:function(e){var t=(0,a.default)(h.values())
return e&&t.sort((function(e,t){return e.cid.localeCompare(t.cid)})),t},resetLocalWithDump:b,resetServerWithDump:function(e){var t,n=new Set(f.keys()),r=(0,o.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.cid
n.delete(a),f.set(a,i)}}catch(e){r.e(e)}finally{r.f()}var s,c=(0,o.default)(n)
try{for(c.s();!(s=c.n()).done;){var l=s.value,u=f.get(l)
f.delete(l),d(u)}}catch(e){c.e(e)}finally{c.f()}return b(e)},previewResetLocalWithDump:function(e){var t,n=[],r=[],i=new Set(h.keys()),a=(0,o.default)(e)
try{for(a.s();!(t=a.n()).done;){var s=t.value,c=s.cid,l=h.get(c)
i.delete(c),s!==l&&n.push(c)}}catch(e){a.e(e)}finally{a.f()}var u,d=(0,o.default)(i)
try{for(d.s();!(u=d.n()).done;){var p=u.value
r.push(p)}}catch(e){d.e(e)}finally{d.f()}return{updateCidList:n,deleteCidList:r}},hasLocalPatch:y,countLocalPatch:function(){return(0,u.countPatch)(new Map(h),(0,a.default)(f.values()))},generateLocalPatch:x,applyServerPatch:function(e){var t=e.deleteList,n=e.updateList,r=e.createCidList,o=!1,s={},c=new Set(r),l=(0,a.default)(h.values()),p=(0,a.default)(f.values())
return h.clear(),f.clear(),(0,u.applyPatch)(t,n,l,(function(e,t){void 0===e?(e=void 0,i(t)):(t||c.has(e.cid))&&h.set(e.cid,e),e!==t&&(o=!0,s[(e||t).cid]=[e,t])})),(0,u.applyPatch)(t,n,p,(function(e,t){void 0===e?d(t):(t||c.has(e.cid))&&f.set(e.cid,e)})),o?s:void 0},reduceLocalUpdateActionList:function(e,t){var n,r=!1,a={},s=(0,o.default)(e)
try{for(s.s();!(n=s.n()).done;){var c=n.value,l=c.payload.cid,u=h.get(l),d=p[c.type](u,c,t)
d!==u&&(void 0===d?(h.delete(l),i(u)):h.set(l,d),r=!0,a[l]=[d,u])}}catch(e){s.e(e)}finally{s.f()}return r?a:void 0},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("  - [".concat(n,"] local cid:"),(0,a.default)(h.keys()).sort(),"dataMap:",h),e("  - [".concat(n,"] server cid:"),(0,a.default)(f.keys()).sort(),"dataMap:",f),y()&&e("  - [".concat(n,"] patch:"),x())},verify:function(){if(!(0,c.isCompactArrayShallowEqual)((0,a.default)(h.keys()).sort(),(0,a.default)(f.keys()).sort()))throw new Error("[verify] ".concat(n," cid mismatch"))}}}
t.walkJsonDataChangeMap=function(e,t,n){void 0!==e&&Object.keys(e).forEach((function(r){var a=(0,i.default)(e[r],2),o=a[0],s=a[1]
t(n,void 0===o?"delete":void 0===s?"create":"update",r,o,s)}))}
t.applyJsonDataDumpPatchMutate=function(e,t){var n=t.deleteList,r=t.updateList,i=t.createCidList,o=new Set(i),s=(0,a.default)(e)
e.length=0,(0,u.applyPatch)(n,r,s,(function(t,n){(n||o.has(t.cid))&&e.push(t)}))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyScreenRuntimeStateDumpPatchMutate=t.walkScreenRuntimeStateChangeMap=t.createScreenRuntimeStateStore=t.createRuntimeStateReducerMap=void 0
var i=r(n(26)),a=r(n(24)),o=r(n(2)),s=r(n(22)),c=n(472),l=n(268),u=n(132),d=n(283),p=n(182),h=n(476),f=n(687)
t.createRuntimeStateReducerMap=function(e){var t=function(t){var n=(0,d.createFilterEntryFunctionPack)(t).filterEntryScreenState
return m(e,n)},n=function(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var a=(0,s.default)(i[r],2),o=a[0],c=a[1]
n[o]=t(c)}return n}
return{"buffer-v3:screen-runtime-state:set":function(e,r,i){return function(e){var r=e.screenMetaCid,i=e.dataMap,a=e.itemListMap,o={screenMetaCid:r,dataMap:n(i,t),itemListMap:n(a,(function(e){return e.map((function(e){return t(e)}))}))}
return(0,p.verifyScreenRuntimeState)(o),o}(r.payload)},"buffer-v3:screen-state-data:delete":function(e,t,n){var r=t.payload
return(0,h.reducerScreenStateDataDelete)(e,r)},"buffer-v3:screen-state-data:update":function(e,n,r){var i=n.payload
return(0,h.reducerScreenStateDataUpdate)(e,t(r)(i))},"buffer-v3:screen-state-item:delete":function(e,t,n){var r=t.payload,i=t.stateCid
return(0,h.reducerScreenStateItemDelete)(e,i,r)},"buffer-v3:screen-state-item:update":function(t,n,r){var i=n.payload,a=n.stateCid
return(0,h.reducerScreenStateItemUpdate)(t,a,function(t){var n=(0,d.createFilterEntryFunctionPack)(t).filterEntryItem
return m(e,n)}(r)(i))}}}
t.createScreenRuntimeStateStore=function(e){var t=e.RUNTIME_STATE_REDUCER_MAP,n=new Map,r=new Map,u=function(e){var t=n.get(e)
if(void 0!==t)return n.delete(e),(0,o.default)({},e,[void 0,t.getState()])},d=function(e){var t,r=!1,i={},o=(0,a.default)(n.values())
try{for(o.s();!(t=o.n()).done;){var s=(0,t.value.getState)()
if(!e(s)){var c=s.screenMetaCid
n.delete(c),r=!0,i[c]=[void 0,s]}}}catch(e){o.e(e)}finally{o.f()}return r?i:void 0},h=function(){for(var e=!1,t={},r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
for(var o=0,s=i;o<s.length;o++){var l=s[o],u=l.screenMetaCid,d=n.get(u),p=d&&d.getState()
p!==l&&(void 0!==d?d.setState(l):n.set(u,(0,c.createStateStoreLite)(l)),e=!0,t[u]=[l,p])}return e?t:void 0},m=function(e){var t,r=!1,i={},o=new Set(n.keys()),s=(0,a.default)(e)
try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.screenMetaCid,d=n.get(u),p=d&&d.getState()
o.delete(u),l!==p&&(n.set(u,(0,c.createStateStoreLite)(l)),r=!0,i[u]=[l,p])}}catch(e){s.e(e)}finally{s.f()}var h,f=(0,a.default)(o)
try{for(f.s();!(h=f.n()).done;){var m=h.value,g=n.get(m).getState()
n.delete(m),r=!0,i[m]=[void 0,g]}}catch(e){f.e(e)}finally{f.f()}return r?i:void 0},g=function(e){var t,i=new Set(r.keys()),o=(0,a.default)(n.values())
try{for(o.s();!(t=o.n()).done;){var s=(0,t.value.getState)(),c=s.screenMetaCid,l=e(s,r.get(c),c)
if(l)return l
i.delete(c)}}catch(e){o.e(e)}finally{o.f()}var u,d=(0,a.default)(i)
try{for(d.s();!(u=d.n()).done;){var p=u.value,h=e(void 0,r.get(p),p)
if(h)return h}}catch(e){d.e(e)}finally{d.f()}},v=function(e,t,i){var o,s=!1,l={},u=(0,a.default)(e)
try{for(u.s();!(o=u.n()).done;){var d=o.value,p=d.screenMetaCid
if(void 0!==i){var h=r.get(p),f=i(h,d)
h!==f&&(void 0===f?r.delete(p):r.set(p,f))}var m=n.get(p),g=void 0===m?void 0:m.getState(),v=t(g,d)
g!==v&&(void 0===v?n.delete(p):void 0===m?n.set(p,(0,c.createStateStoreLite)(v)):m.setState(v),s=!0,l[p]=[v,g])}}catch(e){u.e(e)}finally{u.f()}return s?l:void 0},b=function(){return Boolean(g(f.hasScreenRuntimeStatePatch))},y=function(){var e=[]
return g((function(t,n,r){if(t){var i=(0,f.generateScreenRuntimeStatePatch)(t,n)
i.length&&e.push({screenMetaCid:r,statePatchList:i,isCreate:!n})}})),e.length?e:void 0}
return{hasLocal:function(e){return n.has(e)},hasServer:function(e){return r.has(e)},getLocalRuntimeState:function(e){var t=n.get(e)
return t&&t.getState()},getLocalRuntimeStateList:function(){var e,t=[],r=(0,a.default)(n.values())
try{for(r.s();!(e=r.n()).done;){var i=e.value
t.push(i.getState())}}catch(e){r.e(e)}finally{r.f()}return t},unloadLocalByCid:u,unloadLocalWithFilter:d,unloadServerByCid:function(e){return r.delete(e),u(e)},unloadServerWithFilter:function(e){var t,n=(0,a.default)(r.values())
try{for(n.s();!(t=n.n()).done;){var i=t.value
if(!e(i)){var o=i.screenMetaCid
r.delete(o)}}}catch(e){n.e(e)}finally{n.f()}return d(e)},loadLocal:h,loadServer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
for(var i=0,a=t;i<a.length;i++){var o=a[i],s=o.screenMetaCid
r.set(s,o)}return h.apply(void 0,t)},generateLocalDump:function(e){var t,r=[],i=(0,a.default)(n.values())
try{for(i.s();!(t=i.n()).done;){var o=t.value
r.push(o.getState())}}catch(e){i.e(e)}finally{i.f()}return e&&r.sort((function(e,t){return e.screenMetaCid.localeCompare(t.screenMetaCid)})),r},resetLocalWithDump:m,resetServerWithDump:function(e){var t,n=new Set(r.keys()),i=(0,a.default)(e)
try{for(i.s();!(t=i.n()).done;){var o=t.value,s=o.screenMetaCid
n.delete(s),r.set(s,o)}}catch(e){i.e(e)}finally{i.f()}var c,l=(0,a.default)(n)
try{for(l.s();!(c=l.n()).done;){var u=c.value
r.delete(u)}}catch(e){l.e(e)}finally{l.f()}return m(e)},previewResetLocalWithDump:function(e){var t,r=[],i=[],o=new Set(n.keys()),s=(0,a.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value,l=c.screenMetaCid,u=n.get(l),d=u&&u.getState()
o.delete(l),c!==d&&r.push(l)}}catch(e){s.e(e)}finally{s.f()}var p,h=(0,a.default)(o)
try{for(h.s();!(p=h.n()).done;){var f=p.value
i.push(f)}}catch(e){h.e(e)}finally{h.f()}return{updateCidList:r,deleteCidList:i}},hasLocalPatch:b,countLocalPatch:function(){var e=0
return g((function(t,n){e+=(0,f.countScreenRuntimeStatePatch)(t,n)})),e},generateLocalPatch:y,applyServerPatch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.existLocalBindData,r=void 0===n?function(e){return!0}:n,i=t.existServerBindData,a=void 0===i?function(e){return!0}:i
return v(e,(function(e,t){var n=t.screenMetaCid,i=t.statePatchList,a=t.isCreate
if((void 0===e||r(e))&&(void 0!==e||a))return(0,f.applyScreenRuntimeStatePatch)(e||(0,p.createScreenRuntimeState)(n),i)}),(function(e,t){var n=t.screenMetaCid,r=t.statePatchList,i=t.isCreate
if((void 0===e||a(e))&&(void 0!==e||i))return(0,f.applyScreenRuntimeStatePatch)(e||(0,p.createScreenRuntimeState)(n),r)}))},reduceLocalUpdateActionList:function(e,n){return v(e,(function(e,r){return t[r.type](e||(0,p.createScreenRuntimeState)(r.screenMetaCid),r,n)}))},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("  - [screenRuntimeState] local cid:",(0,i.default)(n.keys()).sort(),"runtimeState:",(0,i.default)(n).reduce((function(e,t){var n=(0,s.default)(t,2),r=n[0],i=n[1].getState
return e[r]=i(),e}),{})),e("  - [screenRuntimeState] server cid:",(0,i.default)(r.keys()).sort(),"runtimeState:",(0,i.default)(r).reduce((function(e,t){var n=(0,s.default)(t,2),r=n[0],i=n[1]
return e[r]=i,e}),{})),b()&&e("  - patch (saveQueue):",y())},verify:function(){if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(n.keys()).sort(),(0,i.default)(r.keys()).sort()))throw new Error("[verify] screenMetaCid mismatch")}}}
var m=function(e,t){return function(n){return(n=t(n)).mtime=(0,u.roundTimestamp)(e()),n}}
t.walkScreenRuntimeStateChangeMap=function(e,t){void 0!==e&&Object.keys(e).forEach((function(n){var r=(0,s.default)(e[n],2),i=r[0],o=r[1]
if(void 0===i)return t("screenRuntimeState","delete",n,i,o)
if(void 0===o)return t("screenRuntimeState","create",n,i,o)
var c=i.dataMap,l=i.itemListMap,u=o.dataMap,d=o.itemListMap
if(c!==u){for(var p=Object.keys(c),h=new Set(Object.keys(u)),f=0,m=p;f<m.length;f++){var g=m[f],v=c[g],b=u[g]
h.delete(g),t("screenRuntimeState:data",void 0===b?"create":"update",[n,g],v,b)}var y,x=(0,a.default)(h)
try{for(x.s();!(y=x.n()).done;){var w=y.value
t("screenRuntimeState:data","delete",[n,w],void 0,u[w])}}catch(e){x.e(e)}finally{x.f()}}if(l!==d){for(var j=Object.keys(l),S=new Set(Object.keys(d)),C=0,_=j;C<_.length;C++){var O=_[C],k=l[O],M=d[O]
S.delete(O),t("screenRuntimeState:itemList",void 0===M?"create":"update",[n,O],k,M)}var E,T=(0,a.default)(S)
try{for(T.s();!(E=T.n()).done;){var A=E.value
t("screenRuntimeState:itemList","delete",[n,A],void 0,d[A])}}catch(e){T.e(e)}finally{T.f()}}}))}
t.applyScreenRuntimeStateDumpPatchMutate=function(e,t){var n=new Map
e.forEach((function(e){return n.set(e.screenMetaCid,e)}))
var r,o=(0,a.default)(t)
try{for(o.s();!(r=o.n()).done;){var s=r.value,c=s.screenMetaCid,l=s.statePatchList,u=s.isCreate,d=n.get(c)
if(void 0!==d||u){var h=(0,f.applyScreenRuntimeStatePatch)(d||(0,p.createScreenRuntimeState)(c),l)
d!==h&&(void 0===h?n.delete(c):n.set(c,h))}}}catch(e){o.e(e)}finally{o.f()}e.length=0,e.push.apply(e,(0,i.default)(n.values()))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreStateSyncReducer=t.createEntryEnhancer=t.reducerFromMap=t.toReduxStore=t.createStateStoreEnhanced=t.createStateStoreLite=t.createStateStore=void 0
var i=r(n(4)),a=n(473),o=n(372),s=n(231),c=function(e){(0,a.basicObject)(e,"initialState should be basic Object")
var t=[]
return{subscribe:function(e){t=(0,s.arrayMatchPush)(t,e)},unsubscribe:function(e){t=(0,s.arrayMatchDelete)(t,e)},getState:function(){return e},setState:function(n){if((n=(0,o.objectMerge)(e,n))===e)return e
var r=e
return e=n,t.forEach((function(t){return t(e,r)})),e}}}
t.createStateStore=c
t.createStateStoreLite=function(e){return{getState:function(){return e},setState:function(t){return e=(0,i.default)((0,i.default)({},e),t)}}}
t.createStateStoreEnhanced=function(e){var t=e.initialState,n=e.enhancer,r=e.reducer;(0,a.basicFunction)(n,"enhancer function required"),(0,a.basicFunction)(r,"reducer function required")
var i=c(t),o=i.subscribe,s=i.unsubscribe,l=i.getState,u=i.setState,d=null,p=!1,h=function(){return p?d:l()},f=function(e){return p?function(e){n(m,e),d=r(d,e)}(e):function(e){d=l(),p=!0,n(m,e),p=!1,!0
var t=r(d,e)
!1,d=null,u(t)}(e)},m={getState:h,dispatch:f}
return{subscribe:o,unsubscribe:s,getState:h,dispatch:f}}
t.toReduxStore=function(e){var t=e.subscribe,n=e.unsubscribe
return(0,a.basicFunction)(t,"store.subscribe required"),(0,a.basicFunction)(n,"store.unsubscribe required"),(0,i.default)((0,i.default)({},e),{},{subscribe:function(e){return t(e),function(){return n(e)}}})}
t.reducerFromMap=function(e){var t=Object.keys(e),n=t.length
return function(r,i){for(var a={},o=!1,s=0;s<n;s++){var c=t[s],l=r[c],u=e[c](l,i)
a[c]=u,o=o||u!==l}return o?a:r}}
t.createEntryEnhancer=function(e){return function(t,n){var r=e[n.type]
return r&&r(t,n)}}
t.createStoreStateSyncReducer=function(e,t){var n=t.getState,r=t.setState
return function(t,i){var a=i.type,o=i.payload
return a===e&&r(o),n()}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.notStringifyEqual=t.stringifyEqual=t.notStrictEqual=t.strictEqual=t.doNotThrowAsync=t.doThrowAsync=t.doNotThrow=t.doThrow=t.oneOf=t.promiseAlike=t.basicFunction=t.arrayLength=t.basicArray=t.objectContain=t.objectKey=t.basicObject=t.objectAlike=t.arrayBuffer=t.regexp=t.integer=t.number=t.boolean=t.string=void 0
var i=r(n(10)),a=r(n(15)),o=n(474),s=n(475),c=function(e,t,n){throw new Error("[verify|".concat(e,"]").concat(t?" ".concat(t,";"):""," ").concat(n||""))},l=function(e,t){return function(n,r){return t(n)||c(e,r,"get: ".concat((0,s.describe)(n)))}},u=l("String",o.isString)
t.string=u
var d=l("Boolean",o.isBoolean)
t.boolean=d
var p=l("Number",o.isNumber)
t.number=p
var h=l("Integer",o.isInteger)
t.integer=h
var f=l("RegExp",o.isRegExp)
t.regexp=f
var m=l("ArrayBuffer",o.isArrayBuffer)
t.arrayBuffer=m
var g=l("ObjectAlike",o.isObjectAlike)
t.objectAlike=g
var v=l("BasicObject",o.isBasicObject)
t.basicObject=v
t.objectKey=function(e,t,n){return(0,o.isObjectKey)(e,t)||c("ObjectKey",n,"expect to have key: ".concat(t))}
t.objectContain=function(e,t,n){return(0,o.isObjectContain)(e,t)||c("ObjectContain",n,"expect to contain: ".concat((0,s.describe)(t)))}
var b=l("Array",o.isBasicArray)
t.basicArray=b
t.arrayLength=function(e,t,n){return(0,o.isArrayLength)(e,t)||c("ArrayLength",n,"expect length: ".concat(t,", get: ").concat((0,o.isBasicArray)(e)?e.length:(0,s.describe)(e)))}
var y=l("Function",o.isBasicFunction)
t.basicFunction=y
var x=l("PromiseAlike",o.isPromiseAlike)
t.promiseAlike=x
t.oneOf=function(e,t,n){return(0,o.isOneOf)(e,t)||c("OneOf",n,"expect one of: [".concat(t,"], get: ").concat((0,s.describe)(e)))}
t.doThrow=function(e,t){return(0,o.isFunctionThrow)(e)||c("DoThrow",t)}
t.doNotThrow=function(e,t){return(0,o.isFunctionThrow)(e)&&c("DoNotThrow",t)}
var w=function(){var e=(0,a.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.isFunctionThrowAsync)(t)
case 2:if(e.t0=e.sent,e.t0){e.next=5
break}e.t0=c("DoThrowAsync",n)
case 5:return e.abrupt("return",e.t0)
case 6:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()
t.doThrowAsync=w
var j=function(){var e=(0,a.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.isFunctionThrowAsync)(t)
case 2:if(e.t0=e.sent,!e.t0){e.next=5
break}e.t0=c("DoNotThrowAsync",n)
case 5:return e.abrupt("return",e.t0)
case 6:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()
t.doNotThrowAsync=j
var S=function(e,t){return"\nactual: ".concat((0,s.describe)(e),"\nexpect: ").concat((0,s.describe)(t))}
t.strictEqual=function(e,t,n){return(0,o.isStrictEqual)(e,t)||c("StrictEqual",n,S(e,t))}
t.notStrictEqual=function(e,t,n){return(0,o.isStrictEqual)(e,t)&&c("NotStrictEqual",n,S(e,t))}
t.stringifyEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"should stringify equal"
return(0,o.isStringifyEqual)(e,t)||c("StringifyEqual",n,S(e,t))}
t.notStringifyEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"should not stringify equal"
return(0,o.isStringifyEqual)(e,t)&&c("NotStringifyEqual",n,S(e,t))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.isStringifyEqual=t.isStrictEqual=t.isFunctionThrowAsync=t.isFunctionThrow=t.isOneOf=t.isPromiseAlike=t.isBasicFunction=t.isArrayLength=t.isBasicArray=t.isObjectContain=t.isObjectKey=t.isBasicObject=t.isObjectAlike=t.isArrayBuffer=t.isRegExp=t.isInteger=t.isNumber=t.isBoolean=t.isString=void 0
var i=r(n(10)),a=r(n(15)),o=r(n(22)),s=r(n(23))
t.isString=function(e){return"string"==typeof e}
t.isBoolean=function(e){return"boolean"==typeof e}
t.isNumber=function(e){return"number"==typeof e}
var c=Number.isInteger
t.isInteger=c
t.isRegExp=function(e){return e instanceof RegExp}
t.isArrayBuffer=function(e){return e instanceof ArrayBuffer}
var l=function(e){var t=(0,s.default)(e)
return"object"===t&&null!==e||"function"===t}
t.isObjectAlike=l
var u=function(e){return"object"==(0,s.default)(e)&&null!==e&&!Array.isArray(e)}
t.isBasicObject=u
t.isObjectKey=function(e,t){return u(e)&&Object.prototype.hasOwnProperty.call(e,t)}
t.isObjectContain=function(e,t){return u(e)&&Object.entries(t).every((function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1]
return e[r]===i}))}
var d=Array.isArray
t.isBasicArray=d
t.isArrayLength=function(e,t){return d(e)&&e.length===t}
t.isBasicFunction=function(e){return"function"==typeof e}
t.isPromiseAlike=function(e){return Boolean(e&&"function"==typeof e.then)}
t.isOneOf=function(e,t){return t.includes(e)}
t.isFunctionThrow=function(e){try{return e()&&!1}catch(e){return!0}}
var p=function(){var e=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t()
case 3:if(e.t0=e.sent,!e.t0){e.next=6
break}e.t0=!1
case 6:return e.abrupt("return",e.t0)
case 9:return e.prev=9,e.t1=e.catch(0),e.abrupt("return",!0)
case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))
return function(t){return e.apply(this,arguments)}}()
t.isFunctionThrowAsync=p
t.isStrictEqual=function(e,t){return Object.is(e,t)}
t.isStringifyEqual=function(e,t){return!!Object.is(e,t)||!(!l(e)||!l(t))&&JSON.stringify(e)===JSON.stringify(t)}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.prettyStringifyConfigObject=t.prettyStringifyJSON=t.padTable=t.binary=t.time=t.decimal=t.mediaTime=t.percent=t.describe=t.typeNameOf=void 0
var i=r(n(23)),a=function(e){return Object.prototype.toString.call(e).slice(8,-1)}
t.typeNameOf=a
var o=function(e){return JSON.stringify(e).slice(1,-1)},s=function(e,t){return"String"===e?JSON.stringify(t):"Object"===e?"{".concat(o(Object.keys(t)),"}"):"Array"===e?t.length<=8?"[".concat(t.map(c).join(", "),"]"):"[#".concat(t.length,"]"):"RegExp"===e?String(t):e.endsWith("Function")?t.name||"anonymous":o(String(t))},c=function(e){var t=a(e)
return"<".concat(t,"> ").concat(s(t,e))}
t.describe=c
t.percent=function(e){return"".concat((100*e).toFixed(2),"%")}
var l=function(e){return String(Math.floor(e)).padStart(2,"0")}
t.mediaTime=function(e){var t=Math.abs(e)
return"".concat(e<0?"-":"").concat(l(t/60),":").concat(l(t%60))}
t.decimal=function(e){var t=.75*Math.abs(e)
return 0===t?"0":t<1e-9?"".concat((e/1e-12).toFixed(2),"pico"):t<1e-6?"".concat((e/1e-9).toFixed(2),"nano"):t<.001?"".concat((e/1e-6).toFixed(2),"micro"):t<1?"".concat((e/.001).toFixed(2),"milli"):t<1e3?"".concat((e/1).toFixed(2)):t<1e6?"".concat((e/1e3).toFixed(2),"kilo"):t<1e9?"".concat((e/1e6).toFixed(2),"mega"):t<1e12?"".concat((e/1e9).toFixed(2),"giga"):t<1e15?"".concat((e/1e12).toFixed(2),"tera"):t<1e18?"".concat((e/1e15).toFixed(2),"peta"):"".concat((e/1e18).toFixed(2),"exa")}
t.time=function(e){var t=.75*Math.abs(e)
return t<1e3?"".concat(Math.floor(e),"ms"):t<6e4?"".concat((e/1e3).toFixed(2),"s"):t<36e5?"".concat((e/6e4).toFixed(2),"m"):t<864e5?"".concat((e/36e5).toFixed(2),"h"):"".concat((e/864e5).toFixed(2),"d")}
t.binary=function(e){var t=.75*Math.abs(e)
return t<1024?"".concat(Math.floor(e)):t<1048576?"".concat((e/1024).toFixed(2),"Ki"):t<1073741824?"".concat((e/1048576).toFixed(2),"Mi"):t<1099511627776?"".concat((e/1073741824).toFixed(2),"Gi"):"".concat((e/1099511627776).toFixed(2),"Ti")}
t.padTable=function(e){var t=e.table,n=e.padFuncList,r=void 0===n?[]:n,i=e.cellPad,a=void 0===i?" | ":i,o=e.rowPad,s=void 0===o?"\n":o,c=e.widthMaxList,l=void 0===c?t.reduce((function(e,t){return t.forEach((function(t,n){e[n]=Math.max(String(t).length,e[n]||0)})),e}),[]):c
return t.map((function(e){return e.map((function(e,t){var n=String(e),i=r[t],a=l[t]
return i&&"L"!==i?"R"===i?n.padStart(a):i(n,a):n.padEnd(a)})).join(a)})).join(s)}
t.prettyStringifyJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"  ",r=function(e,t,n,r){if(n>=1&&t){if(Array.isArray(t))return o(e,t,n,r)
if("object"==(0,i.default)(t))return a(e,t,n,r)}var s=JSON.stringify(t),c=void 0===s
return!c&&e.push(s),c},a=function(e,t,i,a){var o=Object.keys(t)
e.push("{\n")
for(var s=e.length,c=i-1,l="".concat(a).concat(n),u=0,d=o.length;u<d;u++){var p=o[u],h=t[p],f=e.length
e.push(""),r(e,h,c,l)?e.length--:(e[f]="".concat(l).concat(JSON.stringify(p),": "),e.push(",\n"))}e[e.length-1]=e.length===s?"{}":"\n".concat(a,"}")},o=function(e,t,i,a){e.push("[\n")
for(var o=e.length,s=i-1,c="".concat(a).concat(n),l=0,u=t.length;l<u;l++){var d=t[l]
e.push(c),r(e,d,s,c)&&e.push("null"),e.push(",\n")}e[e.length-1]=e.length===o?"[]":"\n".concat(a,"]")},s=[]
return r(s,e,Math.max(t,0)||0,""),s.join("")}
t.prettyStringifyConfigObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:""
if("string"!=typeof t||t.length<2)throw new Error("invalid pad: ".concat(String(t)))
var r=function(e){var t=e[e.length-1]
return": "===t||"- "===t},i=function(e,t,n){var r=a(t)
return"Array"===r?l(e,t,n):"Object"===r?c(e,t,n):void e.push(r.endsWith("Function")?r:s(r,t),"\n")},c=function(e,n,a){var s=Object.keys(n)
if(0===s.length)return e.push("{}","\n")
r(e)&&e.push("\n")
for(var c=0,l=s.length;c<l;c++){var u=s[c],d=n[u]
e.push(a,o(u),": "),i(e,d,"".concat(a).concat(t))}},l=function(e,n,a){if(0===n.length)return e.push("[]","\n")
r(e)&&e.push("\n")
for(var o=0,s=n.length;o<s;o++){var c=n[o]
e.push(a,"- "),i(e,c,"".concat(a).concat(t))}},u=[]
return i(u,e,n),u.length--,u.join("")}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.reducerScreenStateItemUpdate=t.reducerScreenStateItemDelete=t.reducerScreenStateDataUpdate=t.reducerScreenStateDataDelete=void 0
var r=n(372),i=n(231)
t.reducerScreenStateDataDelete=function(e,t){var n=e,i=n.dataMap,a=n.itemListMap
return i=(0,r.objectDelete)(i,t.cid),a=(0,r.objectDelete)(a,t.cid),e=(0,r.objectSet)(e,"dataMap",i),(0,r.objectSet)(e,"itemListMap",a)}
t.reducerScreenStateDataUpdate=function(e,t){var n=e,i=n.dataMap,a=n.itemListMap
return i=(0,r.objectSet)(i,t.cid,t),void 0===a[t.cid]&&(a=(0,r.objectSet)(a,t.cid,[])),e=(0,r.objectSet)(e,"dataMap",i),(0,r.objectSet)(e,"itemListMap",a)}
t.reducerScreenStateItemDelete=function(e,t,n){var a=e.itemListMap,o=a[t]
return o=(0,i.arrayFindDelete)(o,(function(e){return e.cid===n.cid})),a=(0,r.objectSet)(a,t,o),(0,r.objectSet)(e,"itemListMap",a)}
t.reducerScreenStateItemUpdate=function(e,t,n){var a=e.itemListMap,o=a[t]
return o=(0,i.arrayFindSetOrPush)(o,(function(e){return e.cid===n.cid}),n),a=(0,r.objectSet)(a,t,o),(0,r.objectSet)(e,"itemListMap",a)}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getReceiptForBufferSaveQueue=t.getFetchListForBufferSaveQueue=t.getFetchListForJsonSaveQueue=t.fromSaveQueueAsync=t.toSaveQueueAsync=t.PB_ACTION_BUFFER_PATCH=t.PB_ACTION_BUFFER_GET=t.P_ACTION_JSON_UPDATE=t.P_ACTION_JSON_DELETE=void 0
var i=r(n(10)),a=r(n(26)),o=r(n(15)),s=r(n(2)),c=r(n(24)),l=r(n(22)),u=n(231),d=n(249)
t.P_ACTION_JSON_DELETE="DELETE"
t.P_ACTION_JSON_UPDATE="UPDATE"
t.PB_ACTION_BUFFER_GET="project-buffer:get"
t.PB_ACTION_BUFFER_PATCH="project-buffer:patch"
var p={projectMetaPatch:"project-meta",screenGluePatch:"screen-glue",screenMetaPatch:"screen-meta"},h=Object.entries(p).reduce((function(e,t){var n=(0,l.default)(t,2),r=n[0]
return e[n[1]]=r,e}),{}),f=function(e){var t=[]
return{push:function(e,n){var r,i=e.deleteList,a=e.updateList,o=e.createCidList,s=p[n],l=new Set(o),u=(0,c.default)(i)
try{for(u.s();!(r=u.n()).done;){var d=r.value
t.push(["DELETE",s,d])}}catch(e){u.e(e)}finally{u.f()}var h,f=(0,c.default)(a)
try{for(f.s();!(h=f.n()).done;){var m=h.value
t.push(["UPDATE",s,m,{isCreate:l.has(m.cid)}])}}catch(e){f.e(e)}finally{f.f()}},build:function(){return(0,u.arraySplitChunk)(t,64).map((function(t){return{projectMetaCid:e,data:JSON.stringify((0,s.default)({projectMetaCid:e},"list",t))}}))}}},m=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,s,l,u,p,h,m,g,v,b,y,x,w,j,S,C,_,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.projectPatchList,r=t.gzipObjectToBufferAsync,o=[],s=[],l=(0,c.default)(n),e.prev=4,l.s()
case 6:if((u=l.n()).done){e.next=43
break}if(p=u.value,h=p.projectMetaCid,m=p.projectMetaType,g=p.projectMetaPatch,v=p.screenGluePatch,b=p.screenMetaPatch,y=p.screenRuntimeStatePatch,x=f(h),g&&x.push(g,"projectMetaPatch"),v&&x.push(v,"screenGluePatch"),b&&x.push(b,"screenMetaPatch"),o.push.apply(o,(0,a.default)(x.build())),!y){e.next=41
break}w=(0,c.default)(y),e.prev=16,w.s()
case 18:if((j=w.n()).done){e.next=33
break}return S=j.value,C=S.screenMetaCid,_=S.statePatchList,O=S.isCreate,k=(0,d.createScreenPatchObject)(C,_),e.t0=s,e.t1=h,e.t2=m,e.t3=C,e.next=27,r(k)
case 27:e.t4=e.sent,e.t5=O,e.t6={action:"project-buffer:patch",projectMetaCid:e.t1,projectMetaType:e.t2,localKey:e.t3,data:e.t4,isCreate:e.t5},e.t0.push.call(e.t0,e.t6)
case 31:e.next=18
break
case 33:e.next=38
break
case 35:e.prev=35,e.t7=e.catch(16),w.e(e.t7)
case 38:return e.prev=38,w.f(),e.finish(38)
case 41:e.next=6
break
case 43:e.next=48
break
case 45:e.prev=45,e.t8=e.catch(4),l.e(e.t8)
case 48:return e.prev=48,l.f(),e.finish(48)
case 51:return e.abrupt("return",{jsonSaveQueue:o,bufferSaveQueue:s})
case 52:case"end":return e.stop()}}),e,null,[[4,45,48,51],[16,35,38,41]])})))
return function(t){return e.apply(this,arguments)}}()
t.toSaveQueueAsync=m
var g=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,s,u,p,f,m,g,v,b,y,x,w,j,S,C,_,O,k,M,E,T,A,D,N,I,P,L,F
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.jsonSaveQueue,r=void 0===n?[]:n,o=t.bufferSaveQueue,s=void 0===o?[]:o,u=t.gunzipObjectFromBufferAsync,p=new Map,f=function(e){var t=p.get(e)
return void 0===t&&(t={projectMetaCid:e,projectMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenGluePatch:{deleteList:[],updateList:[],createCidList:[]},screenMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenRuntimeStatePatch:[]},p.set(e,t)),t},m=(0,c.default)(r),e.prev=4,m.s()
case 6:if((g=m.n()).done){e.next=33
break}v=g.value.data,b=JSON.parse(v),y=b.projectMetaCid,x=b.list,w=(0,c.default)(x),e.prev=10,w.s()
case 12:if((j=w.n()).done){e.next=23
break}S=(0,l.default)(j.value,4),C=S[0],_=S[1],O=S[2],k=S[3],e.t0=C,e.next="DELETE"===e.t0?17:"UPDATE"===e.t0?19:21
break
case 17:return f(y)[h[_]].deleteList.push(O),e.abrupt("break",21)
case 19:f(y)[h[_]].updateList.push(O),k&&k.isCreate&&f(y)[h[_]].createCidList.push(O.cid)
case 21:e.next=12
break
case 23:e.next=28
break
case 25:e.prev=25,e.t1=e.catch(10),w.e(e.t1)
case 28:return e.prev=28,w.f(),e.finish(28)
case 31:e.next=6
break
case 33:e.next=38
break
case 35:e.prev=35,e.t2=e.catch(4),m.e(e.t2)
case 38:return e.prev=38,m.f(),e.finish(38)
case 41:M=(0,c.default)(s),e.prev=42,M.s()
case 44:if((E=M.n()).done){e.next=56
break}if(T=E.value,A=T.action,D=T.projectMetaCid,N=T.localKey,I=T.data,P=T.isCreate,"project-buffer:patch"===A){e.next=48
break}return e.abrupt("continue",54)
case 48:return e.next=50,u(I)
case 50:L=e.sent,(0,d.verifyScreenPatchObject)(L),F=L.statePatchList,f(D).screenRuntimeStatePatch.push({screenMetaCid:N,statePatchList:F,isCreate:P})
case 54:e.next=44
break
case 56:e.next=61
break
case 58:e.prev=58,e.t3=e.catch(42),M.e(e.t3)
case 61:return e.prev=61,M.f(),e.finish(61)
case 64:return e.abrupt("return",{projectPatchList:(0,a.default)(p.values())})
case 65:case"end":return e.stop()}}),e,null,[[4,35,38,41],[10,25,28,31],[42,58,61,64]])})))
return function(t){return e.apply(this,arguments)}}()
t.fromSaveQueueAsync=g
t.getFetchListForJsonSaveQueue=function(e){for(var t=e.urlBatchSaveAction,n=e.userAuthCookie,r=e.jsonSaveQueue,i=void 0===r?[]:r,a=[],o={cookie:n,accept:"*/*","content-type":"application/json"},s=0,c=i.length;s<c;s++){var l=i[s],u=l.projectMetaCid,d=l.data,p=new URL(u,t).toString()
a.push([p,{method:"PUT",headers:o,body:d}])}return a}
t.getFetchListForBufferSaveQueue=function(e){for(var t=e.urlBatchSaveAction,n=e.userAuthCookie,r=e.bufferSaveQueue,i=void 0===r?[]:r,a=[],o={cookie:n},s=0,c=i.length;s<c;s++){var l=i[s],u=l.action,d=l.projectMetaCid,p=l.projectMetaType,h=l.localKey,f=l.data
if("project-buffer:patch"===u){var m=new URL("".concat(p,"/").concat(d,"/").concat(h),t).toString()
a.push([m,{method:"PUT",headers:o,body:f}])}}return a}
t.getReceiptForBufferSaveQueue=function(e){for(var t=e.userId,n=e.bufferSaveQueue,r=void 0===n?[]:n,i=[],a=0,o=r.length;a<o;a++){var s=r[a],c=s.action,l=s.projectMetaCid,u=s.localKey
"project-buffer:patch"===c&&i.push([c,l,u])}return{type:"receipt:bufferSaveQueue",userId:t,bufferActionList:i}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSocketStore=t.initialSocketState=void 0
var i=r(n(22)),a=r(n(10)),o=r(n(15)),s=n(284),c=n(137),l=n(479),u=function(){},d=function(e){console.error("ERROR",e)},p={userId:null}
t.initialSocketState=p
t.createSocketStore=function(e){var t=e.initialState,n=void 0===t?p:t,r=e.socketPayloadListenerMap,h=void 0===r?{}:r,f=e.socketPayloadQueueAsyncListenerMap,m=void 0===f?{}:f,g=e.socketUrl,v=void 0===g?window.location.origin:g,b=e.socketPath,y=void 0===b?"/imock-socket":b,x=e.socketIoClientConfig,w=void 0===x?(0,l.createSocketIoClientConfig)():x,j=e.socketQueryDebugCookie,S=n.userId
!S&&console.warn("[SocketStore][openSocket] use dummy socket")
var C=(0,s.createStateStore)(n),_=C.getState,O=C.setState,k=C.subscribe,M=C.unsubscribe,E=(0,c.createEventTarget)(),T=E.clear,A=E.addEventListener,D=E.removeEventListener,N=E.dispatchEvent,I=null,P=(S?l.createUserSocket:l.createDummySocket)({userId:S,socketUrl:v,socketPath:y,socketIoClientConfig:w,socketQueryDebugCookie:j})
return P.on("error",(function(e){console.warn("socket error",e)})),P.on("connect",(0,o.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user socket connected"),e.next=3,P.calibrateTimestampOffsetAsync()
case 3:N({type:"socket:open"}),console.log("user socket (re)open")
case 5:case"end":return e.stop()}}),e)})))),Object.entries(h).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1],a="@@SOCKET|".concat(n)
P.on(n,(function(e){return N({type:a,payload:e})})),A(a,(function(e){var t=e.payload
return r({type:n,payload:t,eventName:n})}))})),Object.entries(m).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1],a="@@SOCKET-QUEUE-ASYNC|".concat(n)
P.on(n,(function(e){return N({type:a,payload:e})})),A(a,(function(e){var t=e.payload
return function(e){var t=(I||Promise.resolve("HEAD")).then(e)
return I=t.then(u,d),t}((function(){return r({type:n,payload:t,eventName:n})}))}))})),{getState:_,setState:O,subscribe:k,unsubscribe:M,addEventListener:A,removeEventListener:D,destroy:function(){O(n),T(),I=null,P.close()},getIsSocketConnected:function(){return P.getIsConnected()},getSocketTimestamp:function(){return P.getServerTimestamp()},sendSocketPayloadAsync:function(e,t){return P.emitAsync(e,t)}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalTimestamp=t.createDummySocket=t.createUserSocket=t.createSocketIoClientConfig=void 0
var i=r(n(10)),a=r(n(15)),o=r(n(23)),s=r(n(4)),c=n(137),l=n(480),u=n(505),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reconnectionDelayInitialMin,n=void 0===t?4e3:t,r=e.reconnectionDelayInitialMax,i=void 0===r?16e3:r,a=e.reconnectionDelayMax,o=void 0===a?32e3:a
return{transports:["websocket"],reconnectionDelay:Math.round((n+i)/2),reconnectionDelayMax:o,randomizationFactor:(i-n)/(i+n)}}
t.createSocketIoClientConfig=d
t.createUserSocket=function(e){var t=e.userId,n=e.socketUrl,r=e.socketPath,i=void 0===r?"/S":r,a=e.socketQueryDebugCookie,c=e.socketIoClientConfig,m=void 0===c?d():c,g={userId:t,fromURL:f().slice(0,128),vTag:u.version}
a&&(g.socketQueryDebugCookie=a),m=(0,s.default)((0,s.default)({},m),{},{path:i,query:g})
var v=new l.Manager(n,m).socket("/",m)
v.on("error",(function(e){String(e).includes("/pre-connect/ [DROP]")&&(console.log("server dropped socket:",e),v.close())}))
var b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return new Promise((function(e){return v.emit.apply(v,t.concat([e]))})).then((function(e){var t=e.error,n=e.result
if(t)throw Object.assign(new Error("object"==("undefined"==typeof value?"undefined":(0,o.default)(value))&&t.message||"DEFAULT_USER_SOCKET_ERROR"),t)
return n}))},y=0
return{close:function(){return v.close()},getIsConnected:function(){return v.connected},on:function(e,t){return v.on(e,t)},emitAsync:b,getServerTimestamp:function(){return h(p()+y)},calibrateTimestampOffsetAsync:function(){var e=p()
return b("request:timestamp").then((function(t){var n=p()
y=Number(t)-.5*(e+n)}))},query:g}}
t.createDummySocket=function(e){var t,n,r=e.userId,o=(0,c.createEventEmitter)(),s=o.clear,l=o.on,u=o.emit,d=!1,h=setTimeout((function(){d=!0,u("connect",{isDummy:!0})}),1e3)
return{DUMMY_SOCKET:"DUMMY_SOCKET",close:function(){s(),clearTimeout(h),d=!1},getIsConnected:function(){return d},on:l,emitAsync:(n=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",{args:n,isDummy:!0})
case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),getServerTimestamp:p,calibrateTimestampOffsetAsync:(t=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),query:{userId:r,fromURL:f().slice(0,128)}}}
var p=function(){return.001*Date.now()}
t.getLocalTimestamp=p
var h=function(e){return Math.round(100*e)/100},f=function(){try{return window.location.href}catch(e){return"UNKNOWN"}}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(481),a=n(233),o=n(314),s=n(178)("socket.io-client")
e.exports=t=l
var c=t.managers={}
function l(e,t){"object"===(0,r.default)(e)&&(t=e,e=void 0),t=t||{}
var n,a=i(e),l=a.source,u=a.id,d=a.path,p=c[u]&&d in c[u].nsps
return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(s("ignoring socket cache for %s",l),n=o(l,t)):(c[u]||(s("new io instance for %s",l),c[u]=o(l,t)),n=c[u]),a.query&&!t.query&&(t.query=a.query),n.socket(a.path,t)}t.protocol=a.protocol,t.connect=l,t.Manager=n(314),t.Socket=n(320)},function(e,t,n){"use strict"
var r=n(312),i=n(178)("socket.io-client:url")
e.exports=function(e,t){var n=e
t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host)
"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e))
n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"))
n.path=n.path||"/"
var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host
return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){"use strict"
function r(e){var n
function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i)
e.diff=a,e.prev=n,e.curr=i,n=i
for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s]
o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O")
var c=0
o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n
c++
var i=t.formatters[r]
if("function"==typeof i){var a=o[c]
n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o)
var l=r.log||t.log||console.log.bind(console)
l.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0
for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0
return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this)
return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n
t.save(e),t.names=[],t.skips=[]
var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length
for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))
for(n=0;n<t.instances.length;n++){var a=t.instances[n]
a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0
var n,r
for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1
for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0
return!1},t.humanize=n(232),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";(function(r){var i=n(17)(n(23))
function a(){var e
try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(484)).log=function(){return"object"===("undefined"==typeof console?"undefined":(0,i.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors
if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return
var r="color: "+this.color
e.splice(1,0,r,"color: inherit")
var i=0,a=0
e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0
if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1
return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),
t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],
t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(207))},function(e,t,n){"use strict"
function r(e){var n
function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i)
e.diff=a,e.prev=n,e.curr=i,n=i
for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s]
o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O")
var c=0
o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n
c++
var i=t.formatters[r]
if("function"==typeof i){var a=o[c]
n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o)
var l=r.log||t.log||console.log.bind(console)
l.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0
for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0
return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this)
return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n
t.save(e),t.names=[],t.skips=[]
var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length
for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))
for(n=0;n<t.instances.length;n++){var a=t.instances[n]
a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0
var n,r
for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1
for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0
return!1},t.humanize=n(232),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(234),a=n(313),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File)
t.deconstructPacket=function(e){var t=[],n=e.data,o=e
return o.data=function e(t,n){if(!t)return t
if(a(t)){var o={_placeholder:!0,num:n.length}
return n.push(t),o}if(i(t)){for(var s=new Array(t.length),c=0;c<t.length;c++)s[c]=e(t[c],n)
return s}if("object"===(0,r.default)(t)&&!(t instanceof Date)){s={}
for(var l in t)s[l]=e(t[l],n)
return s}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t
if(t&&t._placeholder)return n[t.num]
if(i(t))for(var a=0;a<t.length;a++)t[a]=e(t[a],n)
else if("object"===(0,r.default)(t))for(var o in t)t[o]=e(t[o],n)
return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e
!function e(l,u,d){if(!l)return l
if(s&&l instanceof Blob||c&&l instanceof File){n++
var p=new FileReader
p.onload=function(){d?d[u]=this.result:o=this.result,--n||t(o)},p.readAsArrayBuffer(l)}else if(i(l))for(var h=0;h<l.length;h++)e(l[h],h,l)
else if("object"===(0,r.default)(l)&&!a(l))for(var f in l)e(l[f],f,l)}(o),n||t(o)}},function(e,t,n){"use strict"
t.byteLength=function(e){var t=l(e),n=t[0],r=t[1]
return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o
for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t
2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t)
1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t)
return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383))
1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="))
return a.join("")}
for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s
function l(e){var t=e.length
if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
var n=e.indexOf("=")
return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a])
return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict"
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d]
for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-l
else{if(a===c)return o?NaN:1/0*(h?-1:1)
o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0
for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+h]=255&o,h+=f,o/=256,l-=8);e[n+h-f]|=128*m}},function(e,t,n){"use strict"
var r={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict"
e.exports=n(490),e.exports.parser=n(121)},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(315),a=n(120),o=n(181)("engine.io-client:socket"),s=n(319),c=n(121),l=n(312),u=n(179)
function d(e,t){if(!(this instanceof d))return new d(e,t)
t=t||{},e&&"object"===(0,r.default)(e)&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),
this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",
this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),
this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),
("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=d,d.priorWebsocketSuccess=!1,a(d.prototype),d.protocol=c.protocol,d.Socket=d,d.Transport=n(238),d.transports=n(315),d.parser=n(121),
d.prototype.createTransport=function(e){o('creating transport "%s"',e)
var t=function(e){var t={}
for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
return t}(this.query)
t.EIO=c.protocol,t.transport=e
var n=this.transportOptions[e]||{}
return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,
timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,
requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},d.prototype.open=function(){var e
if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket"
else{if(0===this.transports.length){var t=this
return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening"
try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){o("setting transport %s",e.name)
var t=this
this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},d.prototype.probe=function(e){o('probing transport "%s"',e)
var t=this.createTransport(e,{probe:1}),n=!1,r=this
function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary
n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return
d.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),p(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e)
var a=new Error("probe error")
a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,p(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n)
i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function l(){s("socket closed")}function u(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function p(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",u)}d.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),
this.once("close",l),this.once("upgrading",u),t.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes")
for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data))
break
case"pong":this.setPing(),this.emit("pong")
break
case"error":var t=new Error("server error")
t.code=e.data,this.onError(t)
break
case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},
d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer)
var t=this
t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this
clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this
this.sendPacket("ping",(function(){e.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},
d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress
var i={type:e,data:t,options:n}
this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing"
var e=this
this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){o("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},
d.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e)
clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n])
return t}},function(e,t,n){"use strict"
try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){"use strict"
var r=n(236),i=n(316),a=n(120),o=n(180),s=n(181)("engine.io-client:polling-xhr"),c=n(237)
function l(){}function u(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port
n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,
this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=d,o(u,i),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,
e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},u.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this
r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},u.prototype.doPoll=function(){s("xhr poll")
var e=this.request(),t=this
e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}
e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized
var t=this.xhr=new r(e),n=this
try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async)
try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),
this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){
n.onError("number"==typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){
if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e
try{var t
try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",p)
else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",p,!1)}function p(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},function(e,t,n){"use strict"
e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty
for(var r in e)n.call(e,r)&&t.push(r)
return t}},function(e,t,n){"use strict"
e.exports=function(e,t,n){var r=e.byteLength
if(t=t||0,n=n||r,e.slice)return e.slice(t,n)
if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0)
for(var i=new Uint8Array(e),a=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)a[s]=i[o]
return a.buffer}},function(e,t,n){"use strict"
function r(){}e.exports=function(e,t,n){var i=!1
return n=n||r,a.count=e,0===e?t():a
function a(e,r){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(i=!0,t(e),t=n):0!==a.count||i||t(null,r)}}},function(e,t,n){"use strict"
var r,i,a,o=String.fromCharCode
function s(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t)
return r}function c(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")
return!1}return!0}function l(e,t){return o(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return o(e)
var n=""
return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(c(e,t)||(e=65533),n=o(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=o(63&e|128)}function d(){if(a>=i)throw Error("Invalid byte index")
var e=255&r[a]
if(a++,128==(192&e))return 63&e
throw Error("Invalid continuation byte")}function p(e){var t,n
if(a>i)throw Error("Invalid byte index")
if(a==i)return!1
if(t=255&r[a],a++,0==(128&t))return t
if(192==(224&t)){if((n=(31&t)<<6|d())>=128)return n
throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|d()<<6|d())>=2048)return c(n,e)?n:65533
throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|d()<<12|d()<<6|d())>=65536&&n<=1114111)return n
throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),i=r.length,a=-1,o="";++a<i;)o+=u(r[a],n)
return o},decode:function(e,t){var n=!1!==(t=t||{}).strict
r=s(e),i=r.length,a=0
for(var c,l=[];!1!==(c=p(n));)l.push(c)
return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t)
return i}(l)}}},function(e,t,n){"use strict"
var r
r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,n=new Uint8Array(e),i=n.length,a=""
for(t=0;t<i;t+=3)a+=r[n[t]>>2],a+=r[(3&n[t])<<4|n[t+1]>>4],a+=r[(15&n[t+1])<<2|n[t+2]>>6],a+=r[63&n[t+2]]
return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(e){var t,n,i,a,o,s=.75*e.length,c=e.length,l=0
"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--)
var u=new ArrayBuffer(s),d=new Uint8Array(u)
for(t=0;t<c;t+=4)n=r.indexOf(e[t]),i=r.indexOf(e[t+1]),a=r.indexOf(e[t+2]),o=r.indexOf(e[t+3]),d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|a>>2,d[l++]=(3&a)<<6|63&o
return u}},function(e,t,n){"use strict"
var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob
function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer
if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength)
n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function c(e,t){t=t||{}
var n=new r
return s(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(c.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=i?a?Blob:l:o?c:void 0},function(e,t,n){"use strict"
function r(e){var n
function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i)
e.diff=a,e.prev=n,e.curr=i,n=i
for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s]
o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O")
var c=0
o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n
c++
var i=t.formatters[r]
if("function"==typeof i){var a=o[c]
n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o)
var l=r.log||t.log||console.log.bind(console)
l.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0
for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0
return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this)
return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n
t.save(e),t.names=[],t.skips=[]
var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length
for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))
for(n=0;n<t.instances.length;n++){var a=t.instances[n]
a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0
var n,r
for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1
for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0
return!1},t.humanize=n(232),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict"
var r=n(316),i=n(180),a=n(237)
e.exports=u
var o,s=/\n/g,c=/\\n/g
function l(){}function u(e){r.call(this,e),this.query=this.query||{},o||(o=a.___eio=a.___eio||[]),this.index=o.length
var t=this
o.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=l)}),!1)}i(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){
var e=this,t=document.createElement("script")
this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)}
var n=document.getElementsByTagName("script")[0]
n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe")
document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this
if(!this.form){var r,i=document.createElement("form"),a=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index
i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}function l(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">'
r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n")
try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},function(e,t,n){"use strict";(function(t){var r,i,a=n(238),o=n(121),s=n(179),c=n(180),l=n(318),u=n(181)("engine.io-client:websocket")
if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(502)}catch(e){}var d=r||i
function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),a.call(this,e)}e.exports=p,c(p,a),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={}
this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress)
try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this
this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var n=this
this.writable=!1
for(var r=e.length,i=0,a=r;i<a;i++)!function(e){o.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var a={}
if(e.options&&(a.compress=e.options.compress),n.perMessageDeflate)("string"==typeof i?t.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(a.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,a)}catch(e){u("websocket closed before onclose event")}--r||s()}))}(e[i])
function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},p.prototype.onClose=function(){a.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n=""
return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===p.prototype.name)}}).call(this,n(235).Buffer)},function(e,t){},function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r]
return n}},function(e,t,n){"use strict"
function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++)
if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e)
e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},function(e){
e.exports=JSON.parse('{"_args":[["@mockingbot/local-imock-socket@0.6.2","/home/runner/work/mb-workspace/mb-workspace"]],"_from":"@mockingbot/local-imock-socket@0.6.2","_id":"@mockingbot/local-imock-socket@0.6.2","_inBundle":false,"_integrity":"sha512-VOHsmVMixmoEhnJHtnI99fXEwAgP/FcIQD9gLgFrd3Rvvee0GjB0JxOP7sdRvQGsyZQc9OAqaYfX4RT1fpoeIA==","_location":"/@mockingbot/local-imock-socket","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@mockingbot/local-imock-socket@0.6.2","name":"@mockingbot/local-imock-socket","escapedName":"@mockingbot%2flocal-imock-socket","scope":"@mockingbot","rawSpec":"0.6.2","saveSpec":null,"fetchSpec":"0.6.2"},"_requiredBy":["/@mockingbot/local-imock-js-api"],"_resolved":"https://0x3f.modao.cc/docker-nexus/repository/imock-npm/@mockingbot/local-imock-socket/-/local-imock-socket-0.6.2.tgz","_spec":"0.6.2","_where":"/home/runner/work/mb-workspace/mb-workspace","author":{"name":"mockingbot"},"bin":{"local-imock-socket":"bin/index.js"},"dependencies":{"socket.io-client":"2.3.1"},"description":"WebSocket cluster server & client code with Socket.io & Redis","engines":{"node":">=14.15","npm":">=6.14"},"name":"@mockingbot/local-imock-socket","version":"0.6.2"}')
},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getMethod=t.onReconnect=t.initialState=void 0
var r=n(165),i=n(49)
t.initialState={projectMetaCidList:[]}
t.onReconnect=function(e){var t=e.socketStore,n=t.getState,r=t.sendSocketPayloadAsync,a=e.onError,o=n().projectMetaCidList
o.length&&r(i.V3_JOIN_PROJECT_META_LIST,{projectMetaCidList:o}).catch(a)}
t.getMethod=function(e){var t=e.socketStore,n=t.getState,a=t.setState,o=t.sendSocketPayloadAsync,s=e.onError
return{joinProjectMeta:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c]
return(t=t.filter((function(e){return!n().projectMetaCidList.includes(e)}))).length&&o(i.V3_JOIN_PROJECT_META_LIST,{projectMetaCidList:t}).then((function(e){console.log("joined projectMeta",e),a({projectMetaCidList:t.reduce(r.arrayMatchPush,n().projectMetaCidList)})}),s)},leaveProjectMeta:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c]
return(t=t.filter((function(e){return n().projectMetaCidList.includes(e)}))).length&&o(i.V3_LEAVE_PROJECT_META_LIST,{projectMetaCidList:t}).then((function(e){console.log("left projectMeta",e),a({projectMetaCidList:t.reduce(r.arrayMatchDelete,n().projectMetaCidList)})}),s)},requestProjectMetaJsonSaveQueue:function(e){var t=e.jsonSaveQueue,n=void 0===t?[]:t,r=e.projectMetaCid,a=void 0===r?"":r,s=e.fromUser,c=void 0===s?{}:s
return o(i.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE,{jsonSaveQueue:n,projectMetaCid:a,fromUser:c})},requestProjectMetaBufferSaveQueue:function(e){var t=e.bufferSaveQueue,n=void 0===t?[]:t,r=e.projectMetaCid,a=void 0===r?"":r,s=e.fromUser,c=void 0===s?{}:s
return o(i.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE,{bufferSaveQueue:n,projectMetaCid:a,fromUser:c})}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getMethod=t.onReconnect=t.initialState=void 0
var i=r(n(10)),a=r(n(15)),o=n(165),s=n(49)
t.initialState={orgCidList:[],teamCidList:[],orgLibraryCidList:[]}
t.onReconnect=function(e){var t=e.socketStore,n=t.getState,r=t.sendSocketPayloadAsync,i=e.onError,a=n(),o=a.orgCidList,c=a.teamCidList
o.length&&r(s.V3_JOIN_ORG_LIST,{orgCidList:o}).catch(i),c.length&&r(s.V3_JOIN_TEAM_LIST,{teamCidList:c}).catch(i)}
t.getMethod=function(e){var t,n,r,c,l,u,d=e.socketStore,p=d.getState,h=d.setState,f=d.sendSocketPayloadAsync,m=e.onError
return{joinOrg:(u=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().orgCidList.includes(e)}))).length&&f(s.V3_JOIN_ORG_LIST,{orgCidList:n}).then((function(e){console.log("joined org",e),h({orgCidList:n.reduce(o.arrayMatchPush,p().orgCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),leaveOrg:(l=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return p().orgCidList.includes(e)}))).length&&f(s.V3_LEAVE_ORG_LIST,{orgCidList:n}).then((function(e){console.log("left org",e),h({orgCidList:n.reduce(o.arrayMatchDelete,p().orgCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),joinTeam:(c=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().teamCidList.includes(e)}))).length&&f(s.V3_JOIN_TEAM_LIST,{teamCidList:n}).then((function(e){console.log("joined team",e),h({teamCidList:n.reduce(o.arrayMatchPush,p().teamCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)}),leaveTeam:(r=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return p().teamCidList.includes(e)}))).length&&f(s.V3_LEAVE_TEAM_LIST,{teamCidList:n}).then((function(e){console.log("left team",e),h({teamCidList:n.reduce(o.arrayMatchDelete,p().teamCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),joinOrgLibrary:(n=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().orgLibraryCidList.includes(e)}))).length&&f(s.V3_JOIN_ORG_LIBRARY_LIST,{orgLibraryCidList:n}).then((function(e){console.log("joined orgLibrary",e),h({orgLibraryCidList:n.reduce(o.arrayMatchPush,p().orgLibraryCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),leaveOrgLibrary:(t=(0,a.default)(i.default.mark((function e(){var t,n,r,a=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r]
return e.abrupt("return",(n=n.filter((function(e){return p().orgLibraryCidList.includes(e)}))).length&&f(s.V3_LEAVE_ORG_LIBRARY_LIST,{orgLibraryCidList:n}).then((function(e){console.log("left orgLibrary",e),h({orgLibraryCidList:n.reduce(o.arrayMatchDelete,p().orgLibraryCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestSnapshotPngZipAsync=t.requestSnapshotPngAsync=t.loadSnapshotPngAsync=t.getSnapshotPngUrl=void 0
var i=r(n(10)),a=r(n(15)),o=n(509),s=n(118),c=n(510),l=n(349),u=function(e){var t=e.urlSnapshotPng,n=void 0===t?"/snapshot.png":t,r=e.zoomMode,i=void 0===r?s.SNAPSHOT_ZOOM_MODE.THUMBNAIL:r,a=e.projectMetaCid,o=e.screenMetaCid,c=e.screenStateCid,l=e.cacheTag
return"".concat(n,"?").concat(new URLSearchParams({projectMetaCid:a,screenMetaCid:o,screenStateCid:c,zoomMode:i,cacheTag:l}))}
t.getSnapshotPngUrl=u
t.loadSnapshotPngAsync=function(e){var t=e.urlSnapshotPng,n=void 0===t?"/snapshot.png":t,r=e.urlPngFallback,i=void 0===r?"/images/preview/image-load.png":r,a=e.imageElement,o=e.zoomMode,s=e.cacheTag,c=void 0===s?Date.now().toString(36):s,l=e.projectMetaCid,d=e.screenMetaCid,p=e.screenStateCid
return new Promise((function(e,t){var r=u({urlSnapshotPng:n,zoomMode:o,projectMetaCid:l,screenMetaCid:d,screenStateCid:p,cacheTag:c})
a.onerror=function(){a.src=i,t(new Error("failed to load ".concat(r)))},a.onload=function(){return e(a)},a.src=r}))}
var d=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,o,s,c,d,p,h,f,m,g
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPng,r=void 0===n?"/snapshot.png":n,a=t.urlPngFallback,o=void 0===a?"/images/preview/image-load.png":a,s=t.zoomMode,c=t.projectMetaCid,d=t.screenMetaCid,p=t.screenStateCid,h=t.screenMetaList,f=u({urlSnapshotPng:r,urlPngFallback:o,zoomMode:s,projectMetaCid:c,screenMetaCid:d,screenStateCid:p}),m=(0,l.getSnapshotFilenamePng)({screenMetaList:h,screenMetaCid:d}),g=m.filenamePng,e.abrupt("return",{urlPng:f,filenamePng:g})
case 4:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngAsync=d
var p=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,l,u,d,p,h,f,m,g,v,b,y
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotTask,r=void 0===n?"/snapshot/task":n,l=t.zoomMode,u=t.projectMetaCid,d=t.screenMetaCidList,p=t.screenMetaFolderCidList,h=t.onProgress,f=void 0===h?function(e){}:h,e.next=3,(0,o.fetchLikeRequest)(r,{method:"POST",body:JSON.stringify({taskMode:s.SNAPSHOT_TASK_MODE.PNG_ZIP_FILE_ALL,zoomMode:l,projectMetaCid:u,screenMetaCidList:d,screenMetaFolderCidList:p})})
case 3:return e.next=5,e.sent.json()
case 5:return m=e.sent,g=m.taskId,e.next=9,(0,c.deceleratedLoopAsync)((0,a.default)(i.default.mark((function e(){var t,n,a,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fetchLikeRequest)("".concat(r,"/").concat(g))
case 2:return e.next=4,e.sent.json()
case 4:if(t=e.sent,n=t.error,a=t.result,s=t.progress,f&&f(s),!n){e.next=11
break}throw new Error("[requestSnapshotPngZip] error: ".concat(n))
case 11:return e.abrupt("return",100===s&&a)
case 12:case"end":return e.stop()}}),e)}))),250,5e3,6e5)
case 9:return v=e.sent,b=v.zipFilename,y=v.cacheZipFileAccelRoute,e.abrupt("return",{urlPngZip:y,filenamePngZip:b})
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngZipAsync=p},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLikeRequest=void 0
var i=r(n(22)),a=r(n(4)),o=r(n(145)),s=window,c=s.XMLHttpRequest,l=s.Blob,u=s.TextDecoder,d=/[\r\n]+/
t.fetchLikeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,r=void 0===n?"GET":n,s=t.headers,l=t.body,u=t.timeout,h=void 0===u?0:u,f=t.credentials,m=t.onProgressUpload,v=t.onProgressDownload
return new Promise((function(t,n){var u=function(t,n){return Object.assign(new Error(t),{status:n,url:e,method:r})},b=new c
b.onerror=function(){return n(u("NETWORK_ERROR",-1))},b.ontimeout=function(){return n(u("NETWORK_TIMEOUT",-1))},b.onreadystatechange=function(){var e=b.readyState,n=b.status
if(2===e&&0!==n){var r=b.getAllResponseHeaders().split(d).reduce((function(e,t){var n=t.split(":"),r=(0,o.default)(n),i=r[0],a=r.slice(1)
return a.length&&(e[i.trim().toLowerCase()]=a.join(":").trim()),e}),{})
t((0,a.default)({status:n,ok:n>=200&&n<300,headers:r},p(b,u)))}},m&&b.upload&&(b.upload.onprogress=g(m)),v&&(b.onprogress=g(v)),b.open(r,e),s&&Object.entries(s).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1]
return b.setRequestHeader(n,r)})),b.responseType="arraybuffer",b.timeout=h||0,b.withCredentials="include"===f,b.send(l||null)}))}
var p=function(e,t){var n
setTimeout((function(){n||(n="DROP",e.abort())}))
var r=function(){return new Promise((function(r,i){if(n)return i(t("KEEP"===n?"PAYLOAD_ALREADY_USED":"PAYLOAD_ALREADY_DROPPED",-1))
n="KEEP",e.onload=function(){return r(e.response)},e.onerror=function(){return i(t("PAYLOAD_ERROR",-1))},e.ontimeout=function(){return i(t("PAYLOAD_TIMEOUT",-1))}}))},i=function(){return r().then(f)}
return{arrayBuffer:r,blob:function(){return r().then(h)},text:i,json:function(){return i().then(m)}}},h=function(e){return new l([e])},f=function(e){return(new u).decode(e)},m=function(e){return JSON.parse(e)},g=function(e){return function(t){var n=t.lengthComputable,r=t.loaded,i=t.total
e(r,n?i:1/0)}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.deceleratedLoopAsync=void 0
var i=r(n(10)),a=r(n(15)),o=n(270),s=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,s,c,l,u=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:250,r=u.length>2&&void 0!==u[2]?u[2]:5e3,a=u.length>3&&void 0!==u[3]?u[3]:1/0,s=n,c=0
case 5:if(!(c<a)){e.next=17
break}return e.next=8,(0,o.setTimeoutAsync)(s)
case 8:return e.next=10,t()
case 10:if(!(l=e.sent)){e.next=13
break}return e.abrupt("return",l)
case 13:c+=s,s=Math.min(s+n,r)
case 15:e.next=5
break
case 17:throw new Error("reach delaySumLimit: ".concat(a))
case 18:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.deceleratedLoopAsync=s},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestSnapshotPngZipAsync=t.requestSnapshotPngAsync=t.loadSnapshotPngAsync=void 0
var i=r(n(10)),a=r(n(15)),o=n(512),s=n(118),c=n(515),l=n(349),u=function(){return window.MB_DESKTOP_SNAPSHOT_V3||window.parent.MB_DESKTOP_SNAPSHOT_V3},d=(0,o.createCacheMap)({valueSizeSumMax:8388608,valueSizeSingleMax:1048576}),p=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,o,l,p,h,f,m,g,v,b,y,x,w,j,S,C,_,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,a=t.urlPngFallback,o=void 0===a?"/images/preview/image-load.png":a,l=t.requestDesktopSnapshot,p=void 0===l?u():l,h=t.getScreenMetaHtmlString,f=t.imageElement,m=t.zoomMode,g=t.projectMetaCid,v=t.screenMetaCid,b=t.screenStateCid,y=t.projectUpperDevice,x=t.screenMetaList,w=t.cacheTag,j=void 0===w?Date.now().toString(36):w,
S="".concat(v,"|").concat(b,"|").concat(m,"|").concat(j),void 0!==(C=d.get(S))){e.next=18
break}return e.prev=4,_={taskDataList:[{screenMetaCid:v,screenStateCid:b}],extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_BASE64_SINGLE,zoomMode:m,projectMetaCid:g,projectUpperDevice:y}},(0,c.patchSnapshotTaskOptionCanvasInfo)(_,(function(e){return x.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(_,h),e.next=10,p({urlSnapshotPublic:r,snapshotTaskOption:_})
case 10:O=e.sent,k=O.dataUrlPng,d.set(S,k,k.length,Date.now()+12e4),C=k,e.next=18
break
case 16:e.prev=16,e.t0=e.catch(4)
case 18:return f.src=C||o,e.abrupt("return",f)
case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))
return function(t){return e.apply(this,arguments)}}()
t.loadSnapshotPngAsync=p
var h=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,o,d,p,h,f,m,g,v,b
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,a=t.requestDesktopSnapshot,o=void 0===a?u():a,d=t.getScreenMetaHtmlString,p=t.zoomMode,h=t.projectMetaCid,f=t.screenMetaCid,m=t.screenStateCid,g=t.projectUpperDevice,v=t.screenMetaList,b={taskDataList:[{screenMetaCid:f,screenStateCid:m}],extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_FILE_SINGLE,zoomMode:p,projectMetaCid:h,projectUpperDevice:g,pngFilename:(0,
l.getSnapshotFilenamePng)({screenMetaList:v,screenMetaCid:f}).filenamePng}},(0,c.patchSnapshotTaskOptionCanvasInfo)(b,(function(e){return v.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(b,d),e.next=6,o({urlSnapshotPublic:r,snapshotTaskOption:b})
case 6:return e.abrupt("return",{})
case 7:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngAsync=h
var f=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,o,d,p,h,f,m,g,v,b,y,x,w,j,S,C,_,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,a=t.requestDesktopSnapshot,o=void 0===a?u():a,d=t.getScreenMetaHtmlString,p=t.zoomMode,h=t.projectMetaCid,f=t.projectUpperDevice,m=t.screenMetaList,g=t.screenMetaFolderList,v=t.cacheTag,b=void 0===v?Date.now().toString(36):v,y=t.onProgress,x=void 0===y?function(e){}:y,w="".concat(h,"-").concat(b),j="".concat(w,"/"),S="".concat(w,".zip"),C={
taskDataList:m.map((function(e){return{screenMetaCid:e.cid,screenStateCid:"default"}})),extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_ZIP_FILE_ALL,zoomMode:p,projectMetaCid:h,projectUpperDevice:f,zipPathPrefix:j,zipFilename:S}},(0,c.patchSnapshotTaskOptionCanvasInfo)(C,(function(e){return m.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(C,d),_=m.concat(g),O=(0,l.getSnapshotFilenamePngZip)({screenMetaList:_,zipPathPrefix:j}),k=O.screenMetaFilenameMap,(0,
c.patchSnapshotTaskOptionZipPath)(C,(function(e){return k[e]})),e.next=12,o({urlSnapshotPublic:r,snapshotTaskOption:C,onProgress:x})
case 12:return e.abrupt("return",{})
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngZipAsync=f},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheMap=t.createCache=void 0
var i=r(n(4)),a=n(137),o=n(513),s=function(e,t,n,r){return(0,i.default)((0,i.default)({},(0,o.createNode)(t)),{},{key:e,size:n,expireAt:r})}
t.createCache=s
t.createCacheMap=function(e){var t=e.valueSizeSumMax,n=e.valueSizeSingleMax,r=void 0===n?Math.max(.05*t,1):n,i=e.eventHub,c=void 0===i?(0,a.createHub)():i,l=Boolean(c),u=l?c:{},d=u.clear,p=u.subscribe,h=u.unsubscribe,f=u.send,m=new Map,g=(0,o.createDoublyLinkedList)(),v=0,b=function(e){m.set(e.key,e),g.unshift(e),v+=e.size,l&&f({type:"add",key:e.key,payload:e.value})},y=function(e){m.delete(e.key),g.remove(e),v-=e.size,l&&f({type:"delete",key:e.key,payload:e.value})}
return{hasEventHub:l,clearEventHub:d,subscribe:p,unsubscribe:h,clear:function(){return m.forEach(y)},getSize:g.getLength,getValueSizeSum:function(){return v},set:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now()+6e4,o=m.get(e)
if(o&&y(o),!(i>r)){for(;i+v>t;)y(g.getTail().prev)
b(s(e,n,i,a))}},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=m.get(e)
if(n)return n.expireAt<=t?y(n):(g.moveToFirst(n),n.value)},touch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()+6e4,n=m.get(e)
if(n)return n.expireAt=t,g.moveToFirst(n),n.value},delete:function(e){var t=m.get(e)
return t&&y(t),t&&t.value},saveCacheList:function(){var e=[]
return g.forEachReverse((function(t){var n=t.key,r=t.value,i=t.size,a=t.expireAt
return e.push({key:n,value:r,size:i,expireAt:a})})),e},loadCacheList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()
return e.forEach((function(e){var n=e.key,r=e.value,i=e.size,a=e.expireAt
if(!(a<=t)){var o=m.get(n)
o&&o.expireAt>=a||(o&&y(o),b(s(n,r,i,a)))}}))}}}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.createDoublyLinkedList=t.createNode=void 0
var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null
return{value:e,prev:t,next:n}}
t.createNode=r
t.createDoublyLinkedList=function(){var e,t,n,i=function(){e=r(null),t=r(null,e),e.next=t,n=0}
i()
var a=function(e,t){var r=t.next
e.prev=t,e.next=r,t.next=r.prev=e,n++},o=function(e,t){var r=t.prev
e.prev=r,e.next=t,t.prev=r.next=e,n++},s=function(e){var t=e.prev,r=e.next
t.next=r,r.prev=t,e.prev=e.next=null,n--}
return{clear:i,getHead:function(){return e},getTail:function(){return t},getLength:function(){return n},insertAfter:a,insertBefore:o,remove:s,removeBetween:function(e,t){var r=e.prev,i=t.next
r.next=i,i.prev=r,e.prev=t.next=null
for(var a=e;a;)n--,a=a.next},forEach:function(n){for(var r=e.next,i=0;r!==t;)n(r,i),r=r.next,i++},forEachReverse:function(r){for(var i=t.prev,a=n-1;i!==e;)r(i,a),i=i.prev,a--},reverse:function(){for(var n=e.next;n!==t;){var r=n,i=r.prev,a=r.next
n.prev=a,n.next=i,n=a}var o=e.next,s=t.prev
e.next=s,t.prev=o,s.prev=e,o.next=t},moveToFirst:function(t){if(t!==e.next){var n=t.prev,r=t.next
n.next=r,r.prev=n,t.prev=e,t.next=e.next,t.next.prev=e.next=t}},moveToLast:function(e){if(e!==t.prev){var n=e.prev,r=e.next
n.next=r,r.prev=n,e.next=t,e.prev=t.prev,e.prev.next=t.prev=e}},push:function(e){return o(e,t)},pop:function(){return s(t.prev)},unshift:function(t){return a(t,e)},shift:function(){return s(e.next)}}}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(414),i=n(370),a=n(371),o=n(415),s=n(692),c=n(416)
e.exports=function(e,t,n){var l=-1,u=i,d=e.length,p=!0,h=[],f=h
if(n)p=!1,u=a
else if(d>=200){var m=t?null:s(e)
if(m)return c(m)
p=!1,u=o,f=new r}else f=t?[]:h
e:for(;++l<d;){var g=e[l],v=t?t(g):g
if(g=n||0!==g?g:0,p&&v==v){for(var b=f.length;b--;)if(f[b]===v)continue e
t&&f.push(v),h.push(g)}else u(f,v,n)||(f!==h&&f.push(v),h.push(g))}return h}},,function(e,t,n){"use strict"
n(718),n(526)
window.$=window.jQuery=n(527),n(426),n(690),n(691),n(528),n(387),n(529),n(531)},,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestProjectShare=t.fetchDataSketchV2ArtboardData=t.fetchDataSketchV2ArtboardList=t.fetchDataProjectBasic=t.fetchDataPreviewInitial=t.checkHtmlZipV3=void 0
var i=r(n(10)),a=r(n(15)),o=n(269),s=n(1067),c=n(1069)
t.checkHtmlZipV3=function(){return(0,o.isBasicObject)(window[c.TAG_HTML_ZIP_V3])}
var l=function(){return(0,s.basicObject)(window[c.TAG_HTML_ZIP_V3],"missing htmlZipV3 data")},u=function(){var e=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",window[c.TAG_HTML_ZIP_V3][c.TAG_PREVIEW_INITIAL_DATA])
case 2:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataPreviewInitial=u
var d=function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r,a,o,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),t=window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_BASIC_JSON],n=t.project_basic,r=t.screen_aligns,a=t.project_metas,o=t.screen_glues,s=t.screen_metas,e.abrupt("return",{projectBasic:n,screenAlignList:r,projectMetaList:a,screenGlueList:o,screenMetaList:s,projectScreenObjectList:window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SCREEN_OBJECT_LIST]})
case 3:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataProjectBasic=d
var p=function(){var e=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",{artboards:Object.values(window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP]).map((function(e){return e.artboard}))})
case 2:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataSketchV2ArtboardList=p
var h=function(){var e=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP][t])
case 2:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.fetchDataSketchV2ArtboardData=h
var f=function(){var e=(0,a.default)(i.default.mark((function e(){var t
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),t=window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_BASIC_JSON].project_share,e.abrupt("return",{projectShare:t})
case 3:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.requestProjectShare=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.r(t)
var r,i=n(23),a=n.n(i);(r="undefined"!=typeof window?window:void 0).Shake=function(e,t){function n(n){if(this.hasDeviceMotion="ondevicemotion"in e,this.options={threshold:15,timeout:1e3},"object"===a()(n))for(var r in n)n.hasOwnProperty(r)&&(this.options[r]=n[r])
if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof t.CustomEvent)this.event=new t.CustomEvent("shake",{bubbles:!0,cancelable:!0})
else{if("function"!=typeof t.createEvent)return!1
this.event=t.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&e.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&e.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var n=t.accelerationIncludingGravity
if(n){var r,i,a
if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=n.x,this.lastY=n.y,void(this.lastZ=n.z)
r=Math.abs(this.lastX-n.x),i=Math.abs(this.lastY-n.y),a=Math.abs(this.lastZ-n.z),(r>this.options.threshold&&i>this.options.threshold||r>this.options.threshold&&a>this.options.threshold||i>this.options.threshold&&a>this.options.threshold)&&(new Date).getTime()-this.lastTime.getTime()>this.options.timeout&&(e.dispatchEvent(this.event),this.lastTime=new Date),this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z}},n.prototype.handleEvent=function(e){if("function"==typeof this[e.type])return this[e.type](e)},n
}(r,r.document)},function(e,t,n){"use strict"
n.r(t)
var r=n(23),i=n.n(r)
!function(e,t,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(){var r={},a=t.createElement("div").style,o=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,n=e.length;t<n;t++)if(e[t]+"ransform"in a)return e[t].substr(0,e[t].length-1)
return!1}()
function s(e){return!1!==o&&(""===o?e:o+e.charAt(0).toUpperCase()+e.substr(1))}r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(e,t){for(var n in t)e[n]=t[n]},r.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},r.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},r.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},r.momentum=function(e,t,r,i,a,o){var s,c,l=e-t,u=n.abs(l)/r
return c=u/(o=void 0===o?6e-4:o),(s=e+u*u/(2*o)*(l<0?-1:1))<i?(s=a?i-a/2.5*(u/8):i,c=(l=n.abs(s-e))/u):s>0&&(s=a?a/2.5*(u/8):0,c=(l=n.abs(e)+s)/u),{destination:n.round(s),duration:c}}
var c=s("transform")
return r.extend(r,{hasTransform:!1!==c,hasPerspective:s("perspective")in a,hasTouch:"ontouchstart"in e,hasPointer:!(!e.PointerEvent&&!e.MSPointerEvent),hasTransition:s("transition")in a}),r.isBadAndroid=function(){var t=e.navigator.appVersion
if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var n=t.match(/Safari\/(\d+.\d)/)
return!(n&&"object"===i()(n)&&n.length>=2)||parseFloat(n[1])<535.19}return!1}(),r.extend(r.style={},{transform:c,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin"),touchAction:s("touchAction")}),r.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},r.addClass=function(e,t){if(!r.hasClass(e,t)){var n=e.className.split(" ")
n.push(t),e.className=n.join(" ")}},r.removeClass=function(e,t){if(r.hasClass(e,t)){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g")
e.className=e.className.replace(n," ")}},r.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop
return{left:t,top:n}},r.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0
return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",
fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*n.pow(2,-10*e)*n.sin((e-.055)*(2*n.PI)/.22)+1}}}),r.tap=function(e,n){var r=t.createEvent("Event")
r.initEvent(n,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},r.click=function(n){var r,i=n.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((r=t.createEvent(e.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),r.view=n.view||e,r.detail=1,r.screenX=i.screenX||0,r.screenY=i.screenY||0,r.clientX=i.clientX||0,r.clientY=i.clientY||0,r.ctrlKey=!!n.ctrlKey,r.altKey=!!n.altKey,r.shiftKey=!!n.shiftKey,r.metaKey=!!n.metaKey,r.button=0,r.relatedTarget=null,r._constructed=!0,
i.dispatchEvent(r))},r.getTouchAction=function(e,t){var n="none"
return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},r.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect()
return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},r}()
function o(n,r){for(var i in this.wrapper="string"==typeof n?t.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{
tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===e.onmousedown},r)this.options[i]=r[i]
this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,
this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,
!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),
this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(e,n,r){var i=t.createElement("div"),a=t.createElement("div")
return!0===r&&(i.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==e?(!0===r&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===r&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",
a.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",n||(i.style.pointerEvents="none"),i.appendChild(a),i}function c(n,i){for(var o in this.wrapper="string"==typeof i.el?t.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},
i)this.options[o]=i[o]
if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(e,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(e,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(e,"mouseup",this))),this.options.fade){
this.wrapperStyle[a.style.transform]=this.scroller.translateZ
var s=a.style.transitionDuration
if(!s)return
this.wrapperStyle[s]=a.isBadAndroid?"0.0001ms":"0ms"
var c=this
a.isBadAndroid&&r((function(){"0.0001ms"===c.wrapperStyle[s]&&(c.wrapperStyle[s]="0s")})),this.wrapperStyle.opacity="0"}}o.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,
this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=a.eventType[e.type]&&0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return
if(this.enabled&&(!this.initiated||a.eventType[e.type]===this.initiated)&&(!this.options.ignoreEventException||!this.options.ignoreEventException(e))){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault()
var t,r=e.touches?e.touches[0]:e
this.initiated=a.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,
this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated&&(!this.options.ignoreEventException||!this.options.ignoreEventException(e))){this.options.preventDefault&&e.preventDefault()
var t,r,i,o,s=e.touches?e.touches[0]:e,c=s.pageX-this.pointX,l=s.pageY-this.pointY,u=a.getTime()
if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=c,this.distY+=l,i=n.abs(this.distX),o=n.abs(this.distY),!(u-this.endTime>300&&i<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked="h":o>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault()
else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1)
l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault()
else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1)
c=0}c=this.hasHorizontalScroll?c:0,l=this.hasVerticalScroll?l:0,t=this.x+c,r=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+c/3:t>0?0:this.maxScrollX),(r>0||r<this.maxScrollY)&&(r=this.options.bounce?this.y+l/3:r>0?0:this.maxScrollY),this.directionX=c>0?-1:c<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,r),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,
1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault()
e.changedTouches&&e.changedTouches[0]
var t,r,i=a.getTime()-this.startTime,o=n.round(this.x),s=n.round(this.y),c=n.abs(o-this.startX),l=n.abs(s-this.startY),u=0,d=""
if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&a.tap(e,this.options.tap),this.options.click&&a.click(e),void this._execEvent("scrollCancel")
if(this._events.flick&&i<200&&c<100&&l<100)this._execEvent("flick")
else{if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?a.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},r=this.hasVerticalScroll?a.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=t.destination,s=r.destination,u=n.max(t.duration,r.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(o,s)
this.currentPage=p,u=this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-p.x),1e3),n.min(n.abs(s-p.y),1e3)),300),o=p.x,s=p.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(o!=this.x||s!=this.y)return(o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(o,s,u,d)
this._execEvent("scrollEnd")}}}},_resize:function(){var e=this
clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.refresh()}),this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y
return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){a.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight
var e=a.getRect(this.scroller)
this.scrollerWidth=e.width,this.scrollerHeight=e.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,
a.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[a.style.touchAction]=a.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[a.style.touchAction]||(this.wrapper.style[a.style.touchAction]=a.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t)
n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length
if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,r){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,r)},scrollTo:function(e,t,n,r){r=r||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0
var i=this.options.useTransition&&r.style
!n||i?(i&&(this._transitionTimingFunction(r.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,r.fn)},scrollToElement:function(e,t,r,i,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=a.offset(e)
s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top
var c=a.getRect(e),l=a.getRect(this.wrapper)
!0===r&&(r=n.round(c.width/2-l.width/2)),!0===i&&(i=n.round(c.height/2-l.height/2)),s.left-=r||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=null==t||"auto"===t?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,o)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0
var t=a.style.transitionDuration
if(t){if(this.scrollerStyle[t]=e+"ms",!e&&a.isBadAndroid){this.scrollerStyle[t]="0.0001ms"
var n=this
r((function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")}))}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[a.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){
if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var n=t?a.removeEvent:a.addEvent,r=this.options.bindToWrapper?this.wrapper:e
n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(r,a.prefixPointerEvent("pointermove"),this),n(r,a.prefixPointerEvent("pointercancel"),this),n(r,a.prefixPointerEvent("pointerup"),this)),
a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,r=e.getComputedStyle(this.scroller,null)
return this.options.useTransform?(t=+((r=r[a.style.transform].split(")")[0].split(", "))[12]||r[4]),n=+(r[13]||r[5])):(t=+r.left.replace(/[^-\d.]/g,""),n=+r.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e,t=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,r=[],i=this
this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:s("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,
fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators))
for(var a=r.length;a--;)this.indicators.push(new c(this,r[a]))
function o(e){if(i.indicators)for(var t=i.indicators.length;t--;)e.call(i.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){o((function(){this.fade()}))})),this.on("scrollCancel",(function(){o((function(){this.fade()}))})),this.on("scrollStart",(function(){o((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){o((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){o((function(){this.refresh()}))})),this.on("destroy",(function(){o((function(){
this.destroy()})),delete this.indicators}))},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},_wheel:function(e){if(this.enabled){if(e.metaKey||e.ctrlKey)return!0
if(4===e.buttons)return!0
e.preventDefault()
var t,r,i,a,o=this
if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0}),400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,r=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,r=-e.deltaY)
else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,r=e.wheelDeltaY/120*this.options.mouseWheelSpeed
else if("wheelDelta"in e)t=r=e.wheelDelta/120*this.options.mouseWheelSpeed
else{if(!("detail"in e))return
t=r=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=r,r=0),this.options.snap)return i=this.currentPage.pageX,a=this.currentPage.pageY,t>0?i--:t<0&&i++,r>0?a--:r<0&&a++,void this.goToPage(i,a)
i=this.x+n.round(this.hasHorizontalScroll?t:0),a=this.y+n.round(this.hasVerticalScroll?r:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=r>0?-1:r<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(i,a,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){
var e,t,r,i,o,s,c,l=0,u=0,d=0,p=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight
if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(r=n.round(p/2),i=n.round(h/2);d>-this.scrollerWidth;){for(this.pages[l]=[],e=0,o=0;o>-this.scrollerHeight;)this.pages[l][e]={x:n.max(d,this.maxScrollX),y:n.max(o,this.maxScrollY),width:p,height:h,cx:d-r,cy:o-i},o-=h,e++
d-=p,l++}else for(e=(s=this.options.snap).length,t=-1;l<e;l++)c=a.getRect(s[l]),(0===l||c.left<=a.getRect(s[l-1]).left)&&(u=0,t++),this.pages[u]||(this.pages[u]=[]),d=n.max(-c.left,this.maxScrollX),o=n.max(-c.top,this.maxScrollY),r=d-n.round(c.width/2),i=o-n.round(c.height/2),this.pages[u][t]={x:d,y:o,width:c.width,height:c.height,cx:r,cy:i},d>this.maxScrollX&&u++
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})),this.on("flick",(function(){
var e=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300)
this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)}))},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0}
var r=0,i=this.pages.length,a=0
if(n.abs(e-this.absStartX)<this.snapThresholdX&&n.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage
for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<i;r++)if(e>=this.pages[r][0].cx){e=this.pages[r][0].x
break}for(i=this.pages[r].length;a<i;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y
break}return r==this.currentPage.pageX&&((r+=this.directionX)<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),e=this.pages[r][0].x),a==this.currentPage.pageY&&((a+=this.directionY)<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:r,pageY:a}},goToPage:function(e,t,r,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0)
var a=this.pages[e][t].x,o=this.pages[e][t].y
r=void 0===r?this.options.snapSpeed||n.max(n.max(n.min(n.abs(a-this.x),1e3),n.min(n.abs(o-this.y),1e3)),300):r,this.currentPage={x:a,y:o,pageX:e,pageY:t},this.scrollTo(a,o,r,i)},next:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this.goToPage(n,r,e,t)},prev:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,r--),this.goToPage(n,r,e,t)},_initKeys:function(t){var n,r={pageUp:33,
pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40}
if("object"==i()(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0))
else this.options.keyBindings={}
for(n in r)this.options.keyBindings[n]=this.options.keyBindings[n]||r[n]
a.addEvent(e,"keydown",this),this.on("destroy",(function(){a.removeEvent(e,"keydown",this)}))},_key:function(e){if(this.enabled){var t,r=this.options.snap,i=r?this.currentPage.pageX:this.x,o=r?this.currentPage.pageY:this.y,s=a.getTime(),c=this.keyTime||0
switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-c<200?n.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=r?1:this.wrapperWidth:o+=r?1:this.wrapperHeight
break
case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=r?1:this.wrapperWidth:o-=r?1:this.wrapperHeight
break
case this.options.keyBindings.end:i=r?this.pages.length-1:this.maxScrollX,o=r?this.pages[0].length-1:this.maxScrollY
break
case this.options.keyBindings.home:i=0,o=0
break
case this.options.keyBindings.left:i+=r?-1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.up:o+=r?1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.right:i-=r?-1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.down:o-=r?1:5+this.keyAcceleration>>0
break
default:return}r?this.goToPage(i,o):(i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,o,0),this.keyTime=s)}},_animate:function(e,t,n,i){var o=this,s=this.x,c=this.y,l=a.getTime(),u=l+n
this.isAnimating=!0,function d(){var p,h,f,m=a.getTime()
if(m>=u)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))
f=i(m=(m-l)/n),p=(e-s)*f+s,h=(t-c)*f+c,o._translate(p,h),o.isAnimating&&r(d),3==o.options.probeType&&o._execEvent("scroll")}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e)
break
case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e)
break
case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)
break
case"orientationchange":case"resize":this._resize()
break
case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e)
break
case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e)
break
case"keydown":this._key(e)
break
case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},c.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e)
break
case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e)
break
case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(e,"touchmove",this),
a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),a.removeEvent(e,"touchend",this),a.removeEvent(e,a.prefixPointerEvent("pointerup"),this),a.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t
t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(e,"touchmove",this),this.options.disablePointer||a.addEvent(e,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,r,i,o=e.touches?e.touches[0]:e,s=a.getTime()
this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,r=this.x+t,i=this.y+n,this._pos(r,i),1==this.scroller.options.probeType&&s-this.startTime>300?(this.startTime=s,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),
t.stopPropagation(),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-r.x),1e3),n.min(n.abs(this.scroller.y-r.y),1e3)),300)
this.scroller.x==r.x&&this.scroller.y==r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0
var t=a.style.transitionDuration
if(t&&(this.indicatorStyle[t]=e+"ms",!e&&a.isBadAndroid)){this.indicatorStyle[t]="0.0001ms"
var n=this
r((function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")}))}},transitionTimingFunction:function(e){this.indicatorStyle[a.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),
this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),
a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),a.getRect(this.wrapper),
this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,
this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,
this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){
var e=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0
this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,
this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",
t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),
t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?n.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?n.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null
var n=e?250:500,r=e?0:300
e=e?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},o.utils=a,e.IScroll=o}(window,document,Math)},function(e,t,n){"use strict"
var r=n(736),i=n(693),a=n(416),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i
e.exports=o},function(e,t,n){"use strict"
e.exports=function(){}},function(e,t,n){"use strict"
var r=n(296),i=n(389),a=n(695),o=n(697),s=n(99),c=n(157),l=n(390)
e.exports=function e(t,n,u,d,p){t!==n&&a(n,(function(a,c){if(p||(p=new r),s(a))o(t,n,c,u,e,d,p)
else{var h=d?d(l(t,c),a,c+"",t,n,p):void 0
void 0===h&&(h=a),i(t,c,h)}}),c)}},function(e,t,n){"use strict"
var r=n(696)()
e.exports=r},function(e,t,n){"use strict"
e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i]
if(!1===n(a[c],c,a))break}return t}}},function(e,t,n){"use strict"
var r=n(389),i=n(343),a=n(345),o=n(344),s=n(346),c=n(297),l=n(69),u=n(308),d=n(367),p=n(541),h=n(99),f=n(246),m=n(547),g=n(390),v=n(698)
e.exports=function(e,t,n,b,y,x,w){var j=g(e,n),S=g(t,n),C=w.get(S)
if(C)r(e,n,C)
else{var _=x?x(j,S,n+"",e,t,w):void 0,O=void 0===_
if(O){var k=l(S),M=!k&&d(S),E=!k&&!M&&m(S)
_=S,k||M||E?l(j)?_=j:u(j)?_=o(j):M?(O=!1,_=i(S,!0)):E?(O=!1,_=a(S,!0)):_=[]:f(S)||c(S)?(_=j,c(j)?_=v(j):h(j)&&!p(j)||(_=s(S))):O=!1}O&&(w.set(S,_),y(_,S,b,x,w),w.delete(S)),r(e,n,_)}}},function(e,t,n){"use strict"
var r=n(125),i=n(157)
e.exports=function(e){return r(e,i(e))}},function(e,t,n){"use strict"
var r=n(307),i=n(700)
e.exports=function(e){return r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0
for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var c=n[r]
c&&e(t,c,r,o)}return t}))}},function(e,t,n){"use strict"
var r=n(17)(n(23)),i=n(280),a=n(224),o=n(417),s=n(99)
e.exports=function(e,t,n){if(!s(n))return!1
var c=(0,r.default)(t)
return!!("number"==c?a(n)&&o(t,n.length):"string"==c&&t in n)&&i(n[t],e)}},function(e,t,n){"use strict"
var r=n(391),i=n(224),a=n(223)
e.exports=function(e){return function(t,n,o){var s=Object(t)
if(!i(t)){var c=r(n,3)
t=a(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,o)
return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,n){"use strict"
var r=n(703),i=n(704),a=n(393)
e.exports=function(e){var t=i(e)
return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){"use strict"
var r=n(296),i=n(413)
e.exports=function(e,t,n,a){var o=n.length,s=o,c=!a
if(null==e)return!s
for(e=Object(e);o--;){var l=n[o]
if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=n[o])[0],d=e[u],p=l[1]
if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r
if(a)var f=a(d,p,u,e,t,h)
if(!(void 0===f?i(p,d,3,a,h):f))return!1}}return!0}},function(e,t,n){"use strict"
var r=n(392),i=n(223)
e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a]
t[n]=[a,o,r(o)]}return t}},function(e,t,n){"use strict"
var r=n(413),i=n(93),a=n(706),o=n(267),s=n(392),c=n(393),l=n(164)
e.exports=function(e,t){return o(e)&&s(t)?c(l(e),t):function(n){var o=i(n,e)
return void 0===o&&o===t?a(n,e):r(t,o,3)}}},function(e,t,n){"use strict"
var r=n(707),i=n(708)
e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){"use strict"
e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){"use strict"
var r=n(187),i=n(297),a=n(69),o=n(417),s=n(548),c=n(164)
e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l])
if(!(d=null!=e&&n(e,p)))break
e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(a(e)||i(e))}},function(e,t,n){"use strict"
var r=n(710),i=n(711),a=n(267),o=n(164)
e.exports=function(e){return a(e)?r(o(e)):i(e)}},function(e,t,n){"use strict"
e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){"use strict"
var r=n(245)
e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){"use strict"
var r=n(348),i=n(391),a=n(394),o=Math.max
e.exports=function(e,t,n){var s=null==e?0:e.length
if(!s)return-1
var c=null==n?0:a(n)
return c<0&&(c=o(s+c,0)),r(e,i(t,3),c)}},function(e,t,n){"use strict"
var r=n(323)
e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){"use strict"
var r,i
r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24)
for(var t=0;t<e.length;t++)e[t]=i.endian(e[t])
return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()))
return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32
return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255)
return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16))
return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16))
return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?t.push(r.charAt(i>>>6*(3-a)&63)):t.push("=")
return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"")
for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i)
return t}},e.exports=i},function(e,t,n){"use strict"
function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict"
var r=n(176)
e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict"
var r=n(176),i=n(394),a=n(323),o=n(342),s=r.isFinite,c=Math.min
e.exports=function(e){var t=Math[e]
return function(e,n){if(e=a(e),(n=null==n?0:c(i(n),292))&&s(e)){var r=(o(e)+"e").split("e"),l=t(r[0]+"e"+(+r[1]+n))
return+((r=(o(l)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return _}))
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(36),c=n.n(s),l=n(0),u=(n(5),n(532),n(128)),d=n(123),p=n(114),h=n(25),f=n(212),m=n(171),g=n(127),v=n(355),b=n(32),y=n(258),x=window,w=(x.$,x.MB)
w.f.inSharing=!0
var j=function(e){var t=e.initialData,n=e.designOptions,r=e.previewOptions,a=e.popupHelper,s=e.initStoreRelated,c=e.api,x=c.requestProjectFullDataByAccessToken,j=c.requestSketchArtboardList,S=c.requestSketchArtboardById,C=c.requestSliceByArtboardId,_=c.requestSliceZipByArtboardId,O=c.checkSharingPermission,k=c.fetchProjectComment,M=c.fetchProjectScreenCommentThreadCountMap,E=c.requestProjectShare,T=r.isMobile,A=r.isIOSClient,D=r.isStandAlone
w.config.minFS=Object(u.a)(),(D||A)&&(document.documentElement.style.height="100vh")
var N,I=Object(f.b)(v.a),P=I.runner,L=I.messageBucket,F=I.webpackInterface,B=I.PreviewApp
return Object(b.b)({api:{requestSketchArtboardList:j,requestSketchArtboardById:S,requestSliceByArtboardId:C,requestSliceZipByArtboardId:_,checkSharingPermission:O,fetchProjectComment:k,fetchProjectScreenCommentThreadCountMap:M}}),Object.assign(w,{runner:P,messageBucket:L,webpackInterface:F,global:{popupHelper:a,designOptions:n}}),w.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:r}}),{requestData:(N=o()(i.a.mark((function e(r){
var a,o,c,l,u,d,h,f,v,b,j,S,C,_,O,k,M,A,D,N,I,P,L,F,B,R,U,z,H,G
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.projectAccessToken,o=r.projectEncryptedPassword,c=r.isPasswordRequired,l=t.user,u=t.preference,d=t.MBSketchPluginDownloadURL,h=t.canEditByCurrentUser,f=n.isWonderShare,w.getCurrentDesignOptions=function(){return f},Object.assign(w,{user:l||{},canEditByCurrentUser:h}),Object(p.b)(u||{}),v=s(l&&!T?l.id:null),b=v.autoSaver,j=v.socketStore,S=v.projectExchange,C=v.snapshotStore,Object.assign(window,{AutoSaver:b,ProjectExchange:S,
MBSketchPluginDownloadURL:d}),C&&Object.assign(window,{SnapshotStore:C}),e.next=11,j.getSocketConnectPromise()
case 11:return _=Object(m.a)(x),e.next=14,_({projectAccessToken:a,projectEncryptedPassword:o,isPasswordRequired:c})
case 14:if(O=e.sent){e.next=17
break}return e.abrupt("return")
case 17:return k=O.projectMeta,M=O.screenGlueList,A=O.screenMetaList,D=O.projectScreenObjectList,N=O.projectBasic,I=O.screenAlignList,e.next=20,E(N.cid)
case 20:return P=e.sent,L=P.projectShare,F=A,B=L.screen_visible_switch,R=L.screen_visible_list,B&&(U=M.find((function(e){return e.type===g.SCREEN_GLUE_TYPE.PROJECT_MAIN})),z=U.cid,H=new Set(R),F=A.filter((function(e){return e.screen_glue_cid!==z||H.has(e.cid)}))),e.next=27,ProjectExchange.openProject({projectMeta:k,screenGlueList:M,screenMetaList:F,projectScreenObjectList:D})
case 27:return G=Object(p.c)({projectBasic:N,screenAlignList:I}),w.webpackInterface.init(),Object(y.a)(),document.title=G.name,w.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:L}}),e.abrupt("return",{projectAlike:G,projectMeta:k})
case 33:case"end":return e.stop()}}),e)}))),function(e){return N.apply(this,arguments)}),renderPreview:function(e,t,n){var r=Object(h.o)(t.cid).find((function(e){return"project-main"===e.type})),i=Object(h.q)(t.cid,r.cid),a=i.find((function(e){return e.cid===n}))||Object(d.b)(i),o=new URLSearchParams(location.search),s=T?"preview":o.has("inspect")?"inspect":o.has("comment")?"comment":"preview"
return Object(l.jsx)(B,{store:w.webpackInterface.store,previewMode:s,projectAlike:e,projectMeta:t,screenGlue:r,screenMeta:a})}}},S=n(213),C=n(350),_=function(){var e=o()(i.a.mark((function e(t){var n,r,a,o,s,l,u,d,p,h,f,m,g,v,b,y,x,w,_
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isMockitt,r=t.isOnPremises,a=t.initialData,o=t.previewOptions,s=t.api,l=t.initStoreRelated,u=t.projectAccessToken,d=t.projectEncryptedPassword,p=t.isPasswordRequired,h=t.$root,f={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:r,isWonderShare:n},Object(C.a)(f),m=j({api:s,initialData:a,popupHelper:Object(S.a)(),previewOptions:o,designOptions:f,initStoreRelated:l}),g=m.requestData,v=m.renderPreview,e.next=6,g({
projectAccessToken:u,projectEncryptedPassword:d,isPasswordRequired:p})
case 6:b=e.sent,y=b.projectAlike,x=b.projectMeta,w=location.hash||"",_=w&&w.startsWith("#screen=")&&w.substr("#screen=".length),MB.getRootProject=function(){return y},c.a.render(v(y,x,_),h)
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(383),n(384),n(363),n(385),n(386),e.exports=n(1076)},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.notStringifyEqual=t.stringifyEqual=t.notStrictEqual=t.strictEqual=t.doNotThrowAsync=t.doThrowAsync=t.doNotThrow=t.doThrow=t.oneOf=t.promiseAlike=t.basicFunction=t.arrayLength=t.basicArray=t.objectContain=t.objectKey=t.basicObject=t.objectAlike=t.arrayBuffer=t.regexp=t.integer=t.number=t.boolean=t.string=void 0
var i=r(n(10)),a=r(n(15)),o=n(269),s=n(1068),c=function(e,t,n){throw new Error("[verify|".concat(e,"]").concat(t?" ".concat(t,";"):""," ").concat(n||""))},l=function(e,t){return function(n,r){return t(n)||c(e,r,"get: ".concat((0,s.describe)(n)))}},u=l("String",o.isString)
t.string=u
var d=l("Boolean",o.isBoolean)
t.boolean=d
var p=l("Number",o.isNumber)
t.number=p
var h=l("Integer",o.isInteger)
t.integer=h
var f=l("RegExp",o.isRegExp)
t.regexp=f
var m=l("ArrayBuffer",o.isArrayBuffer)
t.arrayBuffer=m
var g=l("ObjectAlike",o.isObjectAlike)
t.objectAlike=g
var v=l("BasicObject",o.isBasicObject)
t.basicObject=v
t.objectKey=function(e,t,n){return(0,o.isObjectKey)(e,t)||c("ObjectKey",n,"expect to have key: ".concat(t))}
t.objectContain=function(e,t,n){return(0,o.isObjectContain)(e,t)||c("ObjectContain",n,"expect to contain: ".concat((0,s.describe)(t)))}
var b=l("Array",o.isBasicArray)
t.basicArray=b
t.arrayLength=function(e,t,n){return(0,o.isArrayLength)(e,t)||c("ArrayLength",n,"expect length: ".concat(t,", get: ").concat((0,o.isBasicArray)(e)?e.length:(0,s.describe)(e)))}
var y=l("Function",o.isBasicFunction)
t.basicFunction=y
var x=l("PromiseAlike",o.isPromiseAlike)
t.promiseAlike=x
t.oneOf=function(e,t,n){return(0,o.isOneOf)(e,t)||c("OneOf",n,"expect one of: [".concat(t,"], get: ").concat((0,s.describe)(e)))}
t.doThrow=function(e,t){return(0,o.isFunctionThrow)(e)||c("DoThrow",t)}
t.doNotThrow=function(e,t){return(0,o.isFunctionThrow)(e)&&c("DoNotThrow",t)}
var w=function(){var e=(0,a.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.isFunctionThrowAsync)(t)
case 2:if(e.t0=e.sent,e.t0){e.next=5
break}e.t0=c("DoThrowAsync",n)
case 5:return e.abrupt("return",e.t0)
case 6:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()
t.doThrowAsync=w
var j=function(){var e=(0,a.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.isFunctionThrowAsync)(t)
case 2:if(e.t0=e.sent,!e.t0){e.next=5
break}e.t0=c("DoNotThrowAsync",n)
case 5:return e.abrupt("return",e.t0)
case 6:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()
t.doNotThrowAsync=j
var S=function(e,t){return"\nactual: ".concat((0,s.describe)(e),"\nexpect: ").concat((0,s.describe)(t))}
t.strictEqual=function(e,t,n){return(0,o.isStrictEqual)(e,t)||c("StrictEqual",n,S(e,t))}
t.notStrictEqual=function(e,t,n){return(0,o.isStrictEqual)(e,t)&&c("NotStrictEqual",n,S(e,t))}
t.stringifyEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"should stringify equal"
return(0,o.isStringifyEqual)(e,t)||c("StringifyEqual",n,S(e,t))}
t.notStringifyEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"should not stringify equal"
return(0,o.isStringifyEqual)(e,t)&&c("NotStringifyEqual",n,S(e,t))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.prettyStringifyConfigObject=t.prettyStringifyJSON=t.padTable=t.binary=t.time=t.decimal=t.mediaTime=t.percent=t.describe=t.typeNameOf=void 0
var i=r(n(23)),a=function(e){return Object.prototype.toString.call(e).slice(8,-1)}
t.typeNameOf=a
var o=function(e){return JSON.stringify(e).slice(1,-1)},s=function(e,t){return"String"===e?JSON.stringify(t):"Object"===e?"{".concat(o(Object.keys(t)),"}"):"Array"===e?t.length<=8?"[".concat(t.map(c).join(", "),"]"):"[#".concat(t.length,"]"):"RegExp"===e?String(t):e.endsWith("Function")?t.name||"anonymous":o(String(t))},c=function(e){var t=a(e)
return"<".concat(t,"> ").concat(s(t,e))}
t.describe=c
t.percent=function(e){return"".concat((100*e).toFixed(2),"%")}
var l=function(e){return String(Math.floor(e)).padStart(2,"0")}
t.mediaTime=function(e){var t=Math.abs(e)
return"".concat(e<0?"-":"").concat(l(t/60),":").concat(l(t%60))}
t.decimal=function(e){var t=.75*Math.abs(e)
return 0===t?"0":t<1e-9?"".concat((e/1e-12).toFixed(2),"pico"):t<1e-6?"".concat((e/1e-9).toFixed(2),"nano"):t<.001?"".concat((e/1e-6).toFixed(2),"micro"):t<1?"".concat((e/.001).toFixed(2),"milli"):t<1e3?"".concat((e/1).toFixed(2)):t<1e6?"".concat((e/1e3).toFixed(2),"kilo"):t<1e9?"".concat((e/1e6).toFixed(2),"mega"):t<1e12?"".concat((e/1e9).toFixed(2),"giga"):t<1e15?"".concat((e/1e12).toFixed(2),"tera"):t<1e18?"".concat((e/1e15).toFixed(2),"peta"):"".concat((e/1e18).toFixed(2),"exa")}
t.time=function(e){var t=.75*Math.abs(e)
return t<1e3?"".concat(Math.floor(e),"ms"):t<6e4?"".concat((e/1e3).toFixed(2),"s"):t<36e5?"".concat((e/6e4).toFixed(2),"m"):t<864e5?"".concat((e/36e5).toFixed(2),"h"):"".concat((e/864e5).toFixed(2),"d")}
t.binary=function(e){var t=.75*Math.abs(e)
return t<1024?"".concat(Math.floor(e)):t<1048576?"".concat((e/1024).toFixed(2),"Ki"):t<1073741824?"".concat((e/1048576).toFixed(2),"Mi"):t<1099511627776?"".concat((e/1073741824).toFixed(2),"Gi"):"".concat((e/1099511627776).toFixed(2),"Ti")}
t.padTable=function(e){var t=e.table,n=e.padFuncList,r=void 0===n?[]:n,i=e.cellPad,a=void 0===i?" | ":i,o=e.rowPad,s=void 0===o?"\n":o,c=e.widthMaxList,l=void 0===c?t.reduce((function(e,t){return t.forEach((function(t,n){e[n]=Math.max(String(t).length,e[n]||0)})),e}),[]):c
return t.map((function(e){return e.map((function(e,t){var n=String(e),i=r[t],a=l[t]
return i&&"L"!==i?"R"===i?n.padStart(a):i(n,a):n.padEnd(a)})).join(a)})).join(s)}
t.prettyStringifyJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"  ",r=function(e,t,n,r){if(n>=1&&t){if(Array.isArray(t))return o(e,t,n,r)
if("object"==(0,i.default)(t))return a(e,t,n,r)}var s=JSON.stringify(t),c=void 0===s
return!c&&e.push(s),c},a=function(e,t,i,a){var o=Object.keys(t)
e.push("{\n")
for(var s=e.length,c=i-1,l="".concat(a).concat(n),u=0,d=o.length;u<d;u++){var p=o[u],h=t[p],f=e.length
e.push(""),r(e,h,c,l)?e.length--:(e[f]="".concat(l).concat(JSON.stringify(p),": "),e.push(",\n"))}e[e.length-1]=e.length===s?"{}":"\n".concat(a,"}")},o=function(e,t,i,a){e.push("[\n")
for(var o=e.length,s=i-1,c="".concat(a).concat(n),l=0,u=t.length;l<u;l++){var d=t[l]
e.push(c),r(e,d,s,c)&&e.push("null"),e.push(",\n")}e[e.length-1]=e.length===o?"[]":"\n".concat(a,"]")},s=[]
return r(s,e,Math.max(t,0)||0,""),s.join("")}
t.prettyStringifyConfigObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:""
if("string"!=typeof t||t.length<2)throw new Error("invalid pad: ".concat(String(t)))
var r=function(e){var t=e[e.length-1]
return": "===t||"- "===t},i=function(e,t,n){var r=a(t)
return"Array"===r?l(e,t,n):"Object"===r?c(e,t,n):void e.push(r.endsWith("Function")?r:s(r,t),"\n")},c=function(e,n,a){var s=Object.keys(n)
if(0===s.length)return e.push("{}","\n")
r(e)&&e.push("\n")
for(var c=0,l=s.length;c<l;c++){var u=s[c],d=n[u]
e.push(a,o(u),": "),i(e,d,"".concat(a).concat(t))}},l=function(e,n,a){if(0===n.length)return e.push("[]","\n")
r(e)&&e.push("\n")
for(var o=0,s=n.length;o<s;o++){var c=n[o]
e.push(a,"- "),i(e,c,"".concat(a).concat(t))}},u=[]
return i(u,e,n),u.length--,u.join("")}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP=t.TAG_PROJECT_SCREEN_OBJECT_LIST=t.TAG_PROJECT_BASIC_JSON=t.TAG_PREVIEW_INITIAL_DATA=t.TAG_HTML_ZIP_V3=void 0
t.TAG_HTML_ZIP_V3="hzv3"
t.TAG_PREVIEW_INITIAL_DATA="pid"
t.TAG_PROJECT_BASIC_JSON="pbj"
t.TAG_PROJECT_SCREEN_OBJECT_LIST="psol"
t.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP="psv2am"},,,,,,,function(e,t,n){"use strict"
n.r(t)
var r=n(10),i=n.n(r),a=n(15),o=n.n(a),s=n(727),c=n(147),l=n(4),u=n.n(l),d=n(22),p=n.n(d),h=n(536),f=function(){var e=o()(i.a.mark((function e(t){var n,r,a,o,s,c,l,u,d,f
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectEncryptedPassword,e.next=3,Object(h.fetchDataProjectBasic)()
case 3:if(r=e.sent,a=p()(r.projectMetaList,1),o=a[0],s=r.screenGlueList,c=r.screenMetaList,l=r.projectScreenObjectList,u=r.projectBasic,d=r.screenAlignList,!(f=u.password)||n===f){e.next=14
break}throw new Error("error password")
case 14:return e.abrupt("return",{projectMeta:o,screenGlueList:s,screenMetaList:c,projectScreenObjectList:l,projectBasic:u,screenAlignList:d})
case 15:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o()(i.a.mark((function e(t){var n,r,a
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.requestProjectShare)(t)
case 2:return n=e.sent,r=n.projectShare,a=u()(u()({},r),{},{screen_visible_switch:!1,screen_visible_list:[]}),e.abrupt("return",{projectShare:a})
case 6:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),g={requestPreviewInitialData:h.fetchDataPreviewInitial,requestProjectFullDataByAccessToken:f,requestSketchArtboardList:h.fetchDataSketchV2ArtboardList,requestSketchArtboardById:h.fetchDataSketchV2ArtboardData,requestProjectShare:m},v=n(199),b=n(155),y=n(258),x=n(189),w=n(39),j=function(){var e=o()(i.a.mark((function e(){var t,n,r,a,o
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.a)({isHTMLZip:!0}),Object(w.j)()&&$("body").addClass("mobile"),e.next=4,g.requestPreviewInitialData()
case 4:return n=e.sent,window.MBLocale=n.locale,document.documentElement.lang=n.locale,window.I18N=Object(b.a)(n.locale,x.a),Object(y.b)(n.locale,n.projectName),r=n.projectAccessToken,a=n.projectEncryptedPassword,o=n.isPasswordRequired,e.next=12,Object(s.a)({isMockitt:!1,isOnPremises:!1,initialData:n,previewOptions:t,api:g,initStoreRelated:c.b,projectAccessToken:r,projectEncryptedPassword:a,isPasswordRequired:o,$root:document.getElementById("workspace")})
case 12:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
document.addEventListener("DOMContentLoaded",o()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()
case 2:case"end":return e.stop()}}),e)}))))}])}))

//# sourceMappingURL=preview-html-zip-8e53179bb5860aa206db.js.map